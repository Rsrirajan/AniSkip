function M1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function D1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Fg={exports:{}},qa={},Ug={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zi=Symbol.for("react.element"),$1=Symbol.for("react.portal"),F1=Symbol.for("react.fragment"),U1=Symbol.for("react.strict_mode"),V1=Symbol.for("react.profiler"),B1=Symbol.for("react.provider"),W1=Symbol.for("react.context"),z1=Symbol.for("react.forward_ref"),H1=Symbol.for("react.suspense"),G1=Symbol.for("react.memo"),K1=Symbol.for("react.lazy"),hh=Symbol.iterator;function q1(e){return e===null||typeof e!="object"?null:(e=hh&&e[hh]||e["@@iterator"],typeof e=="function"?e:null)}var Vg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bg=Object.assign,Wg={};function Ss(e,t,n){this.props=e,this.context=t,this.refs=Wg,this.updater=n||Vg}Ss.prototype.isReactComponent={};Ss.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ss.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zg(){}zg.prototype=Ss.prototype;function bd(e,t,n){this.props=e,this.context=t,this.refs=Wg,this.updater=n||Vg}var Sd=bd.prototype=new zg;Sd.constructor=bd;Bg(Sd,Ss.prototype);Sd.isPureReactComponent=!0;var ph=Array.isArray,Hg=Object.prototype.hasOwnProperty,_d={current:null},Gg={key:!0,ref:!0,__self:!0,__source:!0};function Kg(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Hg.call(t,r)&&!Gg.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:zi,type:e,key:i,ref:o,props:s,_owner:_d.current}}function Y1(e,t){return{$$typeof:zi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kd(e){return typeof e=="object"&&e!==null&&e.$$typeof===zi}function Q1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mh=/\/+/g;function $l(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Q1(""+e.key):t.toString(36)}function Bo(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zi:case $1:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+$l(o,0):r,ph(s)?(n="",e!=null&&(n=e.replace(mh,"$&/")+"/"),Bo(s,t,n,"",function(c){return c})):s!=null&&(kd(s)&&(s=Y1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(mh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",ph(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+$l(i,a);o+=Bo(i,t,n,l,s)}else if(l=q1(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+$l(i,a++),o+=Bo(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function co(e,t,n){if(e==null)return e;var r=[],s=0;return Bo(e,r,"","",function(i){return t.call(n,i,s++)}),r}function J1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Wo={transition:null},X1={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Wo,ReactCurrentOwner:_d};function qg(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:co,forEach:function(e,t,n){co(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return co(e,function(){t++}),t},toArray:function(e){return co(e,function(t){return t})||[]},only:function(e){if(!kd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=Ss;Q.Fragment=F1;Q.Profiler=V1;Q.PureComponent=bd;Q.StrictMode=U1;Q.Suspense=H1;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X1;Q.act=qg;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Bg({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=_d.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Hg.call(t,l)&&!Gg.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:zi,type:e.type,key:s,ref:i,props:r,_owner:o}};Q.createContext=function(e){return e={$$typeof:W1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:B1,_context:e},e.Consumer=e};Q.createElement=Kg;Q.createFactory=function(e){var t=Kg.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:z1,render:e}};Q.isValidElement=kd;Q.lazy=function(e){return{$$typeof:K1,_payload:{_status:-1,_result:e},_init:J1}};Q.memo=function(e,t){return{$$typeof:G1,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=Wo.transition;Wo.transition={};try{e()}finally{Wo.transition=t}};Q.unstable_act=qg;Q.useCallback=function(e,t){return Be.current.useCallback(e,t)};Q.useContext=function(e){return Be.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Be.current.useEffect(e,t)};Q.useId=function(){return Be.current.useId()};Q.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Be.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};Q.useRef=function(e){return Be.current.useRef(e)};Q.useState=function(e){return Be.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return Be.current.useTransition()};Q.version="18.3.1";Ug.exports=Q;var p=Ug.exports;const Ne=L1(p),jd=M1({__proto__:null,default:Ne},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1=p,eb=Symbol.for("react.element"),tb=Symbol.for("react.fragment"),nb=Object.prototype.hasOwnProperty,rb=Z1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sb={key:!0,ref:!0,__self:!0,__source:!0};function Yg(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)nb.call(t,r)&&!sb.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:eb,type:e,key:i,ref:o,props:s,_owner:rb.current}}qa.Fragment=tb;qa.jsx=Yg;qa.jsxs=Yg;Fg.exports=qa;var u=Fg.exports,zc={},Qg={exports:{}},ct={},Jg={exports:{}},Xg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,N){var L=P.length;P.push(N);e:for(;0<L;){var $=L-1>>>1,T=P[$];if(0<s(T,N))P[$]=N,P[L]=T,L=$;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var N=P[0],L=P.pop();if(L!==N){P[0]=L;e:for(var $=0,T=P.length,D=T>>>1;$<D;){var z=2*($+1)-1,q=P[z],J=z+1,se=P[J];if(0>s(q,L))J<T&&0>s(se,q)?(P[$]=se,P[J]=L,$=J):(P[$]=q,P[z]=L,$=z);else if(J<T&&0>s(se,L))P[$]=se,P[J]=L,$=J;else break e}}return N}function s(P,N){var L=P.sortIndex-N.sortIndex;return L!==0?L:P.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,m=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var N=n(c);N!==null;){if(N.callback===null)r(c);else if(N.startTime<=P)r(c),N.sortIndex=N.expirationTime,t(l,N);else break;N=n(c)}}function S(P){if(v=!1,g(P),!x)if(n(l)!==null)x=!0,O(_);else{var N=n(c);N!==null&&R(S,N.startTime-P)}}function _(P,N){x=!1,v&&(v=!1,w(C),C=-1),m=!0;var L=h;try{for(g(N),f=n(l);f!==null&&(!(f.expirationTime>N)||P&&!M());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var T=$(f.expirationTime<=N);N=e.unstable_now(),typeof T=="function"?f.callback=T:f===n(l)&&r(l),g(N)}else r(l);f=n(l)}if(f!==null)var D=!0;else{var z=n(c);z!==null&&R(S,z.startTime-N),D=!1}return D}finally{f=null,h=L,m=!1}}var j=!1,k=null,C=-1,A=5,E=-1;function M(){return!(e.unstable_now()-E<A)}function U(){if(k!==null){var P=e.unstable_now();E=P;var N=!0;try{N=k(!0,P)}finally{N?B():(j=!1,k=null)}}else j=!1}var B;if(typeof y=="function")B=function(){y(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=U,B=function(){X.postMessage(null)}}else B=function(){b(U,0)};function O(P){k=P,j||(j=!0,B())}function R(P,N){C=b(function(){P(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,O(_))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var L=h;h=N;try{return P()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,N){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var L=h;h=P;try{return N()}finally{h=L}},e.unstable_scheduleCallback=function(P,N,L){var $=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?$+L:$):L=$,P){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=L+T,P={id:d++,callback:N,priorityLevel:P,startTime:L,expirationTime:T,sortIndex:-1},L>$?(P.sortIndex=L,t(c,P),n(l)===null&&P===n(c)&&(v?(w(C),C=-1):v=!0,R(S,L-$))):(P.sortIndex=T,t(l,P),x||m||(x=!0,O(_))),P},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(P){var N=h;return function(){var L=h;h=N;try{return P.apply(this,arguments)}finally{h=L}}}})(Xg);Jg.exports=Xg;var ib=Jg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob=p,at=ib;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zg=new Set,gi={};function br(e,t){us(e,t),us(e+"Capture",t)}function us(e,t){for(gi[e]=t,e=0;e<t.length;e++)Zg.add(t[e])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hc=Object.prototype.hasOwnProperty,ab=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gh={},vh={};function lb(e){return Hc.call(vh,e)?!0:Hc.call(gh,e)?!1:ab.test(e)?vh[e]=!0:(gh[e]=!0,!1)}function cb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ub(e,t,n,r){if(t===null||typeof t>"u"||cb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cd=/[\-:]([a-z])/g;function Ed(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cd,Ed);Re[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cd,Ed);Re[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cd,Ed);Re[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pd(e,t,n,r){var s=Re.hasOwnProperty(t)?Re[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ub(t,n,s,r)&&(n=null),r||s===null?lb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var un=ob.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uo=Symbol.for("react.element"),Fr=Symbol.for("react.portal"),Ur=Symbol.for("react.fragment"),Td=Symbol.for("react.strict_mode"),Gc=Symbol.for("react.profiler"),e0=Symbol.for("react.provider"),t0=Symbol.for("react.context"),Nd=Symbol.for("react.forward_ref"),Kc=Symbol.for("react.suspense"),qc=Symbol.for("react.suspense_list"),Ad=Symbol.for("react.memo"),yn=Symbol.for("react.lazy"),n0=Symbol.for("react.offscreen"),yh=Symbol.iterator;function Ls(e){return e===null||typeof e!="object"?null:(e=yh&&e[yh]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,Fl;function Ks(e){if(Fl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fl=t&&t[1]||""}return`
`+Fl+e}var Ul=!1;function Vl(e,t){if(!e||Ul)return"";Ul=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ul=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ks(e):""}function db(e){switch(e.tag){case 5:return Ks(e.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 2:case 15:return e=Vl(e.type,!1),e;case 11:return e=Vl(e.type.render,!1),e;case 1:return e=Vl(e.type,!0),e;default:return""}}function Yc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ur:return"Fragment";case Fr:return"Portal";case Gc:return"Profiler";case Td:return"StrictMode";case Kc:return"Suspense";case qc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case t0:return(e.displayName||"Context")+".Consumer";case e0:return(e._context.displayName||"Context")+".Provider";case Nd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ad:return t=e.displayName||null,t!==null?t:Yc(e.type)||"Memo";case yn:t=e._payload,e=e._init;try{return Yc(e(t))}catch{}}return null}function fb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yc(t);case 8:return t===Td?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function r0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hb(e){var t=r0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fo(e){e._valueTracker||(e._valueTracker=hb(e))}function s0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=r0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qc(e,t){var n=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function xh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Un(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function i0(e,t){t=t.checked,t!=null&&Pd(e,"checked",t,!1)}function Jc(e,t){i0(e,t);var n=Un(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xc(e,t.type,Un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xc(e,t,n){(t!=="number"||ia(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qs=Array.isArray;function ts(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Un(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Zc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(qs(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Un(n)}}function o0(e,t){var n=Un(t.value),r=Un(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function a0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?a0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ho,l0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ho=ho||document.createElement("div"),ho.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ho.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pb=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(e){pb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ei[t]=ei[e]})});function c0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ei.hasOwnProperty(e)&&ei[e]?(""+t).trim():t+"px"}function u0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=c0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var mb=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tu(e,t){if(t){if(mb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function nu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=null;function Rd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var su=null,ns=null,rs=null;function _h(e){if(e=Ki(e)){if(typeof su!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Za(t),su(e.stateNode,e.type,t))}}function d0(e){ns?rs?rs.push(e):rs=[e]:ns=e}function f0(){if(ns){var e=ns,t=rs;if(rs=ns=null,_h(e),t)for(e=0;e<t.length;e++)_h(t[e])}}function h0(e,t){return e(t)}function p0(){}var Bl=!1;function m0(e,t,n){if(Bl)return e(t,n);Bl=!0;try{return h0(e,t,n)}finally{Bl=!1,(ns!==null||rs!==null)&&(p0(),f0())}}function yi(e,t){var n=e.stateNode;if(n===null)return null;var r=Za(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var iu=!1;if(tn)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){iu=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{iu=!1}function gb(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var ti=!1,oa=null,aa=!1,ou=null,vb={onError:function(e){ti=!0,oa=e}};function yb(e,t,n,r,s,i,o,a,l){ti=!1,oa=null,gb.apply(vb,arguments)}function xb(e,t,n,r,s,i,o,a,l){if(yb.apply(this,arguments),ti){if(ti){var c=oa;ti=!1,oa=null}else throw Error(I(198));aa||(aa=!0,ou=c)}}function Sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function g0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kh(e){if(Sr(e)!==e)throw Error(I(188))}function wb(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return kh(s),e;if(i===r)return kh(s),t;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function v0(e){return e=wb(e),e!==null?y0(e):null}function y0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=y0(e);if(t!==null)return t;e=e.sibling}return null}var x0=at.unstable_scheduleCallback,jh=at.unstable_cancelCallback,bb=at.unstable_shouldYield,Sb=at.unstable_requestPaint,ye=at.unstable_now,_b=at.unstable_getCurrentPriorityLevel,Id=at.unstable_ImmediatePriority,w0=at.unstable_UserBlockingPriority,la=at.unstable_NormalPriority,kb=at.unstable_LowPriority,b0=at.unstable_IdlePriority,Ya=null,Ft=null;function jb(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Ya,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:Pb,Cb=Math.log,Eb=Math.LN2;function Pb(e){return e>>>=0,e===0?32:31-(Cb(e)/Eb|0)|0}var po=64,mo=4194304;function Ys(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ca(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ys(a):(i&=o,i!==0&&(r=Ys(i)))}else o=n&~s,o!==0?r=Ys(o):i!==0&&(r=Ys(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tt(t),s=1<<n,r|=e[n],t&=~s;return r}function Tb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Tt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Tb(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function au(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function S0(){var e=po;return po<<=1,!(po&4194240)&&(po=64),e}function Wl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tt(t),e[t]=n}function Ab(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Tt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Od(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ne=0;function _0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var k0,Md,j0,C0,E0,lu=!1,go=[],Tn=null,Nn=null,An=null,xi=new Map,wi=new Map,Sn=[],Rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ch(e,t){switch(e){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(t.pointerId)}}function $s(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ki(t),t!==null&&Md(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ib(e,t,n,r,s){switch(t){case"focusin":return Tn=$s(Tn,e,t,n,r,s),!0;case"dragenter":return Nn=$s(Nn,e,t,n,r,s),!0;case"mouseover":return An=$s(An,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return xi.set(i,$s(xi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,wi.set(i,$s(wi.get(i)||null,e,t,n,r,s)),!0}return!1}function P0(e){var t=lr(e.target);if(t!==null){var n=Sr(t);if(n!==null){if(t=n.tag,t===13){if(t=g0(n),t!==null){e.blockedOn=t,E0(e.priority,function(){j0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ru=r,n.target.dispatchEvent(r),ru=null}else return t=Ki(n),t!==null&&Md(t),e.blockedOn=n,!1;t.shift()}return!0}function Eh(e,t,n){zo(e)&&n.delete(t)}function Ob(){lu=!1,Tn!==null&&zo(Tn)&&(Tn=null),Nn!==null&&zo(Nn)&&(Nn=null),An!==null&&zo(An)&&(An=null),xi.forEach(Eh),wi.forEach(Eh)}function Fs(e,t){e.blockedOn===t&&(e.blockedOn=null,lu||(lu=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,Ob)))}function bi(e){function t(s){return Fs(s,e)}if(0<go.length){Fs(go[0],e);for(var n=1;n<go.length;n++){var r=go[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Tn!==null&&Fs(Tn,e),Nn!==null&&Fs(Nn,e),An!==null&&Fs(An,e),xi.forEach(t),wi.forEach(t),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)P0(n),n.blockedOn===null&&Sn.shift()}var ss=un.ReactCurrentBatchConfig,ua=!0;function Mb(e,t,n,r){var s=ne,i=ss.transition;ss.transition=null;try{ne=1,Ld(e,t,n,r)}finally{ne=s,ss.transition=i}}function Lb(e,t,n,r){var s=ne,i=ss.transition;ss.transition=null;try{ne=4,Ld(e,t,n,r)}finally{ne=s,ss.transition=i}}function Ld(e,t,n,r){if(ua){var s=cu(e,t,n,r);if(s===null)Zl(e,t,r,da,n),Ch(e,r);else if(Ib(s,e,t,n,r))r.stopPropagation();else if(Ch(e,r),t&4&&-1<Rb.indexOf(e)){for(;s!==null;){var i=Ki(s);if(i!==null&&k0(i),i=cu(e,t,n,r),i===null&&Zl(e,t,r,da,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Zl(e,t,r,null,n)}}var da=null;function cu(e,t,n,r){if(da=null,e=Rd(r),e=lr(e),e!==null)if(t=Sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=g0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return da=e,null}function T0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_b()){case Id:return 1;case w0:return 4;case la:case kb:return 16;case b0:return 536870912;default:return 16}default:return 16}}var jn=null,Dd=null,Ho=null;function N0(){if(Ho)return Ho;var e,t=Dd,n=t.length,r,s="value"in jn?jn.value:jn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Ho=s.slice(e,1<r?1-r:void 0)}function Go(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vo(){return!0}function Ph(){return!1}function ut(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vo:Ph,this.isPropagationStopped=Ph,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),t}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$d=ut(_s),Gi=me({},_s,{view:0,detail:0}),Db=ut(Gi),zl,Hl,Us,Qa=me({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Us&&(Us&&e.type==="mousemove"?(zl=e.screenX-Us.screenX,Hl=e.screenY-Us.screenY):Hl=zl=0,Us=e),zl)},movementY:function(e){return"movementY"in e?e.movementY:Hl}}),Th=ut(Qa),$b=me({},Qa,{dataTransfer:0}),Fb=ut($b),Ub=me({},Gi,{relatedTarget:0}),Gl=ut(Ub),Vb=me({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),Bb=ut(Vb),Wb=me({},_s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zb=ut(Wb),Hb=me({},_s,{data:0}),Nh=ut(Hb),Gb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qb[e])?!!t[e]:!1}function Fd(){return Yb}var Qb=me({},Gi,{key:function(e){if(e.key){var t=Gb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Go(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fd,charCode:function(e){return e.type==="keypress"?Go(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Go(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jb=ut(Qb),Xb=me({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ah=ut(Xb),Zb=me({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fd}),eS=ut(Zb),tS=me({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),nS=ut(tS),rS=me({},Qa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sS=ut(rS),iS=[9,13,27,32],Ud=tn&&"CompositionEvent"in window,ni=null;tn&&"documentMode"in document&&(ni=document.documentMode);var oS=tn&&"TextEvent"in window&&!ni,A0=tn&&(!Ud||ni&&8<ni&&11>=ni),Rh=String.fromCharCode(32),Ih=!1;function R0(e,t){switch(e){case"keyup":return iS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function aS(e,t){switch(e){case"compositionend":return I0(t);case"keypress":return t.which!==32?null:(Ih=!0,Rh);case"textInput":return e=t.data,e===Rh&&Ih?null:e;default:return null}}function lS(e,t){if(Vr)return e==="compositionend"||!Ud&&R0(e,t)?(e=N0(),Ho=Dd=jn=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return A0&&t.locale!=="ko"?null:t.data;default:return null}}var cS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cS[e.type]:t==="textarea"}function O0(e,t,n,r){d0(r),t=fa(t,"onChange"),0<t.length&&(n=new $d("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ri=null,Si=null;function uS(e){H0(e,0)}function Ja(e){var t=zr(e);if(s0(t))return e}function dS(e,t){if(e==="change")return t}var M0=!1;if(tn){var Kl;if(tn){var ql="oninput"in document;if(!ql){var Mh=document.createElement("div");Mh.setAttribute("oninput","return;"),ql=typeof Mh.oninput=="function"}Kl=ql}else Kl=!1;M0=Kl&&(!document.documentMode||9<document.documentMode)}function Lh(){ri&&(ri.detachEvent("onpropertychange",L0),Si=ri=null)}function L0(e){if(e.propertyName==="value"&&Ja(Si)){var t=[];O0(t,Si,e,Rd(e)),m0(uS,t)}}function fS(e,t,n){e==="focusin"?(Lh(),ri=t,Si=n,ri.attachEvent("onpropertychange",L0)):e==="focusout"&&Lh()}function hS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ja(Si)}function pS(e,t){if(e==="click")return Ja(t)}function mS(e,t){if(e==="input"||e==="change")return Ja(t)}function gS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:gS;function _i(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Hc.call(t,s)||!At(e[s],t[s]))return!1}return!0}function Dh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $h(e,t){var n=Dh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dh(n)}}function D0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?D0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $0(){for(var e=window,t=ia();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ia(e.document)}return t}function Vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vS(e){var t=$0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&D0(n.ownerDocument.documentElement,n)){if(r!==null&&Vd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=$h(n,i);var o=$h(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yS=tn&&"documentMode"in document&&11>=document.documentMode,Br=null,uu=null,si=null,du=!1;function Fh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;du||Br==null||Br!==ia(r)||(r=Br,"selectionStart"in r&&Vd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),si&&_i(si,r)||(si=r,r=fa(uu,"onSelect"),0<r.length&&(t=new $d("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Br)))}function yo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wr={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionend:yo("Transition","TransitionEnd")},Yl={},F0={};tn&&(F0=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function Xa(e){if(Yl[e])return Yl[e];if(!Wr[e])return e;var t=Wr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in F0)return Yl[e]=t[n];return e}var U0=Xa("animationend"),V0=Xa("animationiteration"),B0=Xa("animationstart"),W0=Xa("transitionend"),z0=new Map,Uh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gn(e,t){z0.set(e,t),br(t,[e])}for(var Ql=0;Ql<Uh.length;Ql++){var Jl=Uh[Ql],xS=Jl.toLowerCase(),wS=Jl[0].toUpperCase()+Jl.slice(1);Gn(xS,"on"+wS)}Gn(U0,"onAnimationEnd");Gn(V0,"onAnimationIteration");Gn(B0,"onAnimationStart");Gn("dblclick","onDoubleClick");Gn("focusin","onFocus");Gn("focusout","onBlur");Gn(W0,"onTransitionEnd");us("onMouseEnter",["mouseout","mouseover"]);us("onMouseLeave",["mouseout","mouseover"]);us("onPointerEnter",["pointerout","pointerover"]);us("onPointerLeave",["pointerout","pointerover"]);br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));br("onBeforeInput",["compositionend","keypress","textInput","paste"]);br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qs));function Vh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xb(r,t,void 0,e),e.currentTarget=null}function H0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Vh(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Vh(s,a,c),i=l}}}if(aa)throw e=ou,aa=!1,ou=null,e}function ce(e,t){var n=t[gu];n===void 0&&(n=t[gu]=new Set);var r=e+"__bubble";n.has(r)||(G0(t,e,2,!1),n.add(r))}function Xl(e,t,n){var r=0;t&&(r|=4),G0(n,e,r,t)}var xo="_reactListening"+Math.random().toString(36).slice(2);function ki(e){if(!e[xo]){e[xo]=!0,Zg.forEach(function(n){n!=="selectionchange"&&(bS.has(n)||Xl(n,!1,e),Xl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xo]||(t[xo]=!0,Xl("selectionchange",!1,t))}}function G0(e,t,n,r){switch(T0(t)){case 1:var s=Mb;break;case 4:s=Lb;break;default:s=Ld}n=s.bind(null,t,n,e),s=void 0,!iu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Zl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=lr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}m0(function(){var c=i,d=Rd(n),f=[];e:{var h=z0.get(e);if(h!==void 0){var m=$d,x=e;switch(e){case"keypress":if(Go(n)===0)break e;case"keydown":case"keyup":m=Jb;break;case"focusin":x="focus",m=Gl;break;case"focusout":x="blur",m=Gl;break;case"beforeblur":case"afterblur":m=Gl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Fb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=eS;break;case U0:case V0:case B0:m=Bb;break;case W0:m=nS;break;case"scroll":m=Db;break;case"wheel":m=sS;break;case"copy":case"cut":case"paste":m=zb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ah}var v=(t&4)!==0,b=!v&&e==="scroll",w=v?h!==null?h+"Capture":null:h;v=[];for(var y=c,g;y!==null;){g=y;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,w!==null&&(S=yi(y,w),S!=null&&v.push(ji(y,S,g)))),b)break;y=y.return}0<v.length&&(h=new m(h,x,null,n,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==ru&&(x=n.relatedTarget||n.fromElement)&&(lr(x)||x[nn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=c,x=x?lr(x):null,x!==null&&(b=Sr(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(v=Th,S="onMouseLeave",w="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=Ah,S="onPointerLeave",w="onPointerEnter",y="pointer"),b=m==null?h:zr(m),g=x==null?h:zr(x),h=new v(S,y+"leave",m,n,d),h.target=b,h.relatedTarget=g,S=null,lr(d)===c&&(v=new v(w,y+"enter",x,n,d),v.target=g,v.relatedTarget=b,S=v),b=S,m&&x)t:{for(v=m,w=x,y=0,g=v;g;g=Pr(g))y++;for(g=0,S=w;S;S=Pr(S))g++;for(;0<y-g;)v=Pr(v),y--;for(;0<g-y;)w=Pr(w),g--;for(;y--;){if(v===w||w!==null&&v===w.alternate)break t;v=Pr(v),w=Pr(w)}v=null}else v=null;m!==null&&Bh(f,h,m,v,!1),x!==null&&b!==null&&Bh(f,b,x,v,!0)}}e:{if(h=c?zr(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=dS;else if(Oh(h))if(M0)_=mS;else{_=hS;var j=fS}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=pS);if(_&&(_=_(e,c))){O0(f,_,n,d);break e}j&&j(e,h,c),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Xc(h,"number",h.value)}switch(j=c?zr(c):window,e){case"focusin":(Oh(j)||j.contentEditable==="true")&&(Br=j,uu=c,si=null);break;case"focusout":si=uu=Br=null;break;case"mousedown":du=!0;break;case"contextmenu":case"mouseup":case"dragend":du=!1,Fh(f,n,d);break;case"selectionchange":if(yS)break;case"keydown":case"keyup":Fh(f,n,d)}var k;if(Ud)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Vr?R0(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(A0&&n.locale!=="ko"&&(Vr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Vr&&(k=N0()):(jn=d,Dd="value"in jn?jn.value:jn.textContent,Vr=!0)),j=fa(c,C),0<j.length&&(C=new Nh(C,e,null,n,d),f.push({event:C,listeners:j}),k?C.data=k:(k=I0(n),k!==null&&(C.data=k)))),(k=oS?aS(e,n):lS(e,n))&&(c=fa(c,"onBeforeInput"),0<c.length&&(d=new Nh("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=k))}H0(f,t)})}function ji(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fa(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=yi(e,n),i!=null&&r.unshift(ji(e,i,s)),i=yi(e,t),i!=null&&r.push(ji(e,i,s))),e=e.return}return r}function Pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=yi(n,i),l!=null&&o.unshift(ji(n,l,a))):s||(l=yi(n,i),l!=null&&o.push(ji(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var SS=/\r\n?/g,_S=/\u0000|\uFFFD/g;function Wh(e){return(typeof e=="string"?e:""+e).replace(SS,`
`).replace(_S,"")}function wo(e,t,n){if(t=Wh(t),Wh(e)!==t&&n)throw Error(I(425))}function ha(){}var fu=null,hu=null;function pu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mu=typeof setTimeout=="function"?setTimeout:void 0,kS=typeof clearTimeout=="function"?clearTimeout:void 0,zh=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof zh<"u"?function(e){return zh.resolve(null).then(e).catch(CS)}:mu;function CS(e){setTimeout(function(){throw e})}function ec(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),bi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);bi(t)}function Rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ks=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ks,Ci="__reactProps$"+ks,nn="__reactContainer$"+ks,gu="__reactEvents$"+ks,ES="__reactListeners$"+ks,PS="__reactHandles$"+ks;function lr(e){var t=e[Lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nn]||n[Lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hh(e);e!==null;){if(n=e[Lt])return n;e=Hh(e)}return t}e=n,n=e.parentNode}return null}function Ki(e){return e=e[Lt]||e[nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Za(e){return e[Ci]||null}var vu=[],Hr=-1;function Kn(e){return{current:e}}function ue(e){0>Hr||(e.current=vu[Hr],vu[Hr]=null,Hr--)}function ae(e,t){Hr++,vu[Hr]=e.current,e.current=t}var Vn={},$e=Kn(Vn),Ye=Kn(!1),pr=Vn;function ds(e,t){var n=e.type.contextTypes;if(!n)return Vn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Qe(e){return e=e.childContextTypes,e!=null}function pa(){ue(Ye),ue($e)}function Gh(e,t,n){if($e.current!==Vn)throw Error(I(168));ae($e,t),ae(Ye,n)}function K0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(I(108,fb(e)||"Unknown",s));return me({},n,r)}function ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,pr=$e.current,ae($e,e),ae(Ye,Ye.current),!0}function Kh(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=K0(e,t,pr),r.__reactInternalMemoizedMergedChildContext=e,ue(Ye),ue($e),ae($e,e)):ue(Ye),ae(Ye,n)}var qt=null,el=!1,tc=!1;function q0(e){qt===null?qt=[e]:qt.push(e)}function TS(e){el=!0,q0(e)}function qn(){if(!tc&&qt!==null){tc=!0;var e=0,t=ne;try{var n=qt;for(ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}qt=null,el=!1}catch(s){throw qt!==null&&(qt=qt.slice(e+1)),x0(Id,qn),s}finally{ne=t,tc=!1}}return null}var Gr=[],Kr=0,ga=null,va=0,ht=[],pt=0,mr=null,Yt=1,Qt="";function tr(e,t){Gr[Kr++]=va,Gr[Kr++]=ga,ga=e,va=t}function Y0(e,t,n){ht[pt++]=Yt,ht[pt++]=Qt,ht[pt++]=mr,mr=e;var r=Yt;e=Qt;var s=32-Tt(r)-1;r&=~(1<<s),n+=1;var i=32-Tt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Yt=1<<32-Tt(t)+s|n<<s|r,Qt=i+e}else Yt=1<<i|n<<s|r,Qt=e}function Bd(e){e.return!==null&&(tr(e,1),Y0(e,1,0))}function Wd(e){for(;e===ga;)ga=Gr[--Kr],Gr[Kr]=null,va=Gr[--Kr],Gr[Kr]=null;for(;e===mr;)mr=ht[--pt],ht[pt]=null,Qt=ht[--pt],ht[pt]=null,Yt=ht[--pt],ht[pt]=null}var it=null,st=null,de=!1,Pt=null;function Q0(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,st=Rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mr!==null?{id:Yt,overflow:Qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,it=e,st=null,!0):!1;default:return!1}}function yu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xu(e){if(de){var t=st;if(t){var n=t;if(!qh(e,t)){if(yu(e))throw Error(I(418));t=Rn(n.nextSibling);var r=it;t&&qh(e,t)?Q0(r,n):(e.flags=e.flags&-4097|2,de=!1,it=e)}}else{if(yu(e))throw Error(I(418));e.flags=e.flags&-4097|2,de=!1,it=e}}}function Yh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function bo(e){if(e!==it)return!1;if(!de)return Yh(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pu(e.type,e.memoizedProps)),t&&(t=st)){if(yu(e))throw J0(),Error(I(418));for(;t;)Q0(e,t),t=Rn(t.nextSibling)}if(Yh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){st=Rn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}st=null}}else st=it?Rn(e.stateNode.nextSibling):null;return!0}function J0(){for(var e=st;e;)e=Rn(e.nextSibling)}function fs(){st=it=null,de=!1}function zd(e){Pt===null?Pt=[e]:Pt.push(e)}var NS=un.ReactCurrentBatchConfig;function Vs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function So(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qh(e){var t=e._init;return t(e._payload)}function X0(e){function t(w,y){if(e){var g=w.deletions;g===null?(w.deletions=[y],w.flags|=16):g.push(y)}}function n(w,y){if(!e)return null;for(;y!==null;)t(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Ln(w,y),w.index=0,w.sibling=null,w}function i(w,y,g){return w.index=g,e?(g=w.alternate,g!==null?(g=g.index,g<y?(w.flags|=2,y):g):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,y,g,S){return y===null||y.tag!==6?(y=lc(g,w.mode,S),y.return=w,y):(y=s(y,g),y.return=w,y)}function l(w,y,g,S){var _=g.type;return _===Ur?d(w,y,g.props.children,S,g.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===yn&&Qh(_)===y.type)?(S=s(y,g.props),S.ref=Vs(w,y,g),S.return=w,S):(S=Zo(g.type,g.key,g.props,null,w.mode,S),S.ref=Vs(w,y,g),S.return=w,S)}function c(w,y,g,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=cc(g,w.mode,S),y.return=w,y):(y=s(y,g.children||[]),y.return=w,y)}function d(w,y,g,S,_){return y===null||y.tag!==7?(y=hr(g,w.mode,S,_),y.return=w,y):(y=s(y,g),y.return=w,y)}function f(w,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=lc(""+y,w.mode,g),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case uo:return g=Zo(y.type,y.key,y.props,null,w.mode,g),g.ref=Vs(w,null,y),g.return=w,g;case Fr:return y=cc(y,w.mode,g),y.return=w,y;case yn:var S=y._init;return f(w,S(y._payload),g)}if(qs(y)||Ls(y))return y=hr(y,w.mode,g,null),y.return=w,y;So(w,y)}return null}function h(w,y,g,S){var _=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:a(w,y,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case uo:return g.key===_?l(w,y,g,S):null;case Fr:return g.key===_?c(w,y,g,S):null;case yn:return _=g._init,h(w,y,_(g._payload),S)}if(qs(g)||Ls(g))return _!==null?null:d(w,y,g,S,null);So(w,g)}return null}function m(w,y,g,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(g)||null,a(y,w,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case uo:return w=w.get(S.key===null?g:S.key)||null,l(y,w,S,_);case Fr:return w=w.get(S.key===null?g:S.key)||null,c(y,w,S,_);case yn:var j=S._init;return m(w,y,g,j(S._payload),_)}if(qs(S)||Ls(S))return w=w.get(g)||null,d(y,w,S,_,null);So(y,S)}return null}function x(w,y,g,S){for(var _=null,j=null,k=y,C=y=0,A=null;k!==null&&C<g.length;C++){k.index>C?(A=k,k=null):A=k.sibling;var E=h(w,k,g[C],S);if(E===null){k===null&&(k=A);break}e&&k&&E.alternate===null&&t(w,k),y=i(E,y,C),j===null?_=E:j.sibling=E,j=E,k=A}if(C===g.length)return n(w,k),de&&tr(w,C),_;if(k===null){for(;C<g.length;C++)k=f(w,g[C],S),k!==null&&(y=i(k,y,C),j===null?_=k:j.sibling=k,j=k);return de&&tr(w,C),_}for(k=r(w,k);C<g.length;C++)A=m(k,w,C,g[C],S),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?C:A.key),y=i(A,y,C),j===null?_=A:j.sibling=A,j=A);return e&&k.forEach(function(M){return t(w,M)}),de&&tr(w,C),_}function v(w,y,g,S){var _=Ls(g);if(typeof _!="function")throw Error(I(150));if(g=_.call(g),g==null)throw Error(I(151));for(var j=_=null,k=y,C=y=0,A=null,E=g.next();k!==null&&!E.done;C++,E=g.next()){k.index>C?(A=k,k=null):A=k.sibling;var M=h(w,k,E.value,S);if(M===null){k===null&&(k=A);break}e&&k&&M.alternate===null&&t(w,k),y=i(M,y,C),j===null?_=M:j.sibling=M,j=M,k=A}if(E.done)return n(w,k),de&&tr(w,C),_;if(k===null){for(;!E.done;C++,E=g.next())E=f(w,E.value,S),E!==null&&(y=i(E,y,C),j===null?_=E:j.sibling=E,j=E);return de&&tr(w,C),_}for(k=r(w,k);!E.done;C++,E=g.next())E=m(k,w,C,E.value,S),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?C:E.key),y=i(E,y,C),j===null?_=E:j.sibling=E,j=E);return e&&k.forEach(function(U){return t(w,U)}),de&&tr(w,C),_}function b(w,y,g,S){if(typeof g=="object"&&g!==null&&g.type===Ur&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case uo:e:{for(var _=g.key,j=y;j!==null;){if(j.key===_){if(_=g.type,_===Ur){if(j.tag===7){n(w,j.sibling),y=s(j,g.props.children),y.return=w,w=y;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===yn&&Qh(_)===j.type){n(w,j.sibling),y=s(j,g.props),y.ref=Vs(w,j,g),y.return=w,w=y;break e}n(w,j);break}else t(w,j);j=j.sibling}g.type===Ur?(y=hr(g.props.children,w.mode,S,g.key),y.return=w,w=y):(S=Zo(g.type,g.key,g.props,null,w.mode,S),S.ref=Vs(w,y,g),S.return=w,w=S)}return o(w);case Fr:e:{for(j=g.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){n(w,y.sibling),y=s(y,g.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else t(w,y);y=y.sibling}y=cc(g,w.mode,S),y.return=w,w=y}return o(w);case yn:return j=g._init,b(w,y,j(g._payload),S)}if(qs(g))return x(w,y,g,S);if(Ls(g))return v(w,y,g,S);So(w,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(n(w,y.sibling),y=s(y,g),y.return=w,w=y):(n(w,y),y=lc(g,w.mode,S),y.return=w,w=y),o(w)):n(w,y)}return b}var hs=X0(!0),Z0=X0(!1),ya=Kn(null),xa=null,qr=null,Hd=null;function Gd(){Hd=qr=xa=null}function Kd(e){var t=ya.current;ue(ya),e._currentValue=t}function wu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function is(e,t){xa=e,Hd=qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function xt(e){var t=e._currentValue;if(Hd!==e)if(e={context:e,memoizedValue:t,next:null},qr===null){if(xa===null)throw Error(I(308));qr=e,xa.dependencies={lanes:0,firstContext:e}}else qr=qr.next=e;return t}var cr=null;function qd(e){cr===null?cr=[e]:cr.push(e)}function ev(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,qd(t)):(n.next=s.next,s.next=n),t.interleaved=n,rn(e,r)}function rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xn=!1;function Yd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function In(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,rn(e,n)}return s=r.interleaved,s===null?(t.next=t,qd(r)):(t.next=s.next,s.next=t),r.interleaved=t,rn(e,n)}function Ko(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Od(e,n)}}function Jh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wa(e,t,n,r){var s=e.updateQueue;xn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,v=a;switch(h=t,m=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=me({},f,h);break e;case 2:xn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);vr|=o,e.lanes=o,e.memoizedState=f}}function Xh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(I(191,s));s.call(r)}}}var qi={},Ut=Kn(qi),Ei=Kn(qi),Pi=Kn(qi);function ur(e){if(e===qi)throw Error(I(174));return e}function Qd(e,t){switch(ae(Pi,t),ae(Ei,e),ae(Ut,qi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eu(t,e)}ue(Ut),ae(Ut,t)}function ps(){ue(Ut),ue(Ei),ue(Pi)}function nv(e){ur(Pi.current);var t=ur(Ut.current),n=eu(t,e.type);t!==n&&(ae(Ei,e),ae(Ut,n))}function Jd(e){Ei.current===e&&(ue(Ut),ue(Ei))}var fe=Kn(0);function ba(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nc=[];function Xd(){for(var e=0;e<nc.length;e++)nc[e]._workInProgressVersionPrimary=null;nc.length=0}var qo=un.ReactCurrentDispatcher,rc=un.ReactCurrentBatchConfig,gr=0,pe=null,_e=null,Ce=null,Sa=!1,ii=!1,Ti=0,AS=0;function Ie(){throw Error(I(321))}function Zd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!At(e[n],t[n]))return!1;return!0}function ef(e,t,n,r,s,i){if(gr=i,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qo.current=e===null||e.memoizedState===null?MS:LS,e=n(r,s),ii){i=0;do{if(ii=!1,Ti=0,25<=i)throw Error(I(301));i+=1,Ce=_e=null,t.updateQueue=null,qo.current=DS,e=n(r,s)}while(ii)}if(qo.current=_a,t=_e!==null&&_e.next!==null,gr=0,Ce=_e=pe=null,Sa=!1,t)throw Error(I(300));return e}function tf(){var e=Ti!==0;return Ti=0,e}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?pe.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function wt(){if(_e===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Ce===null?pe.memoizedState:Ce.next;if(t!==null)Ce=t,_e=e;else{if(e===null)throw Error(I(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Ce===null?pe.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Ni(e,t){return typeof t=="function"?t(e):t}function sc(e){var t=wt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=_e,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((gr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,pe.lanes|=d,vr|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,At(r,t.memoizedState)||(qe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,pe.lanes|=i,vr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ic(e){var t=wt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);At(i,t.memoizedState)||(qe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function rv(){}function sv(e,t){var n=pe,r=wt(),s=t(),i=!At(r.memoizedState,s);if(i&&(r.memoizedState=s,qe=!0),r=r.queue,nf(av.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,Ai(9,ov.bind(null,n,r,s,t),void 0,null),Ee===null)throw Error(I(349));gr&30||iv(n,t,s)}return s}function iv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ov(e,t,n,r){t.value=n,t.getSnapshot=r,lv(t)&&cv(e)}function av(e,t,n){return n(function(){lv(t)&&cv(e)})}function lv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!At(e,n)}catch{return!0}}function cv(e){var t=rn(e,1);t!==null&&Nt(t,e,1,-1)}function Zh(e){var t=Mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:e},t.queue=e,e=e.dispatch=OS.bind(null,pe,e),[t.memoizedState,e]}function Ai(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function uv(){return wt().memoizedState}function Yo(e,t,n,r){var s=Mt();pe.flags|=e,s.memoizedState=Ai(1|t,n,void 0,r===void 0?null:r)}function tl(e,t,n,r){var s=wt();r=r===void 0?null:r;var i=void 0;if(_e!==null){var o=_e.memoizedState;if(i=o.destroy,r!==null&&Zd(r,o.deps)){s.memoizedState=Ai(t,n,i,r);return}}pe.flags|=e,s.memoizedState=Ai(1|t,n,i,r)}function ep(e,t){return Yo(8390656,8,e,t)}function nf(e,t){return tl(2048,8,e,t)}function dv(e,t){return tl(4,2,e,t)}function fv(e,t){return tl(4,4,e,t)}function hv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pv(e,t,n){return n=n!=null?n.concat([e]):null,tl(4,4,hv.bind(null,t,e),n)}function rf(){}function mv(e,t){var n=wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function gv(e,t){var n=wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function vv(e,t,n){return gr&21?(At(n,t)||(n=S0(),pe.lanes|=n,vr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function RS(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var r=rc.transition;rc.transition={};try{e(!1),t()}finally{ne=n,rc.transition=r}}function yv(){return wt().memoizedState}function IS(e,t,n){var r=Mn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xv(e))wv(t,n);else if(n=ev(e,t,n,r),n!==null){var s=Ve();Nt(n,e,r,s),bv(n,t,r)}}function OS(e,t,n){var r=Mn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xv(e))wv(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,At(a,o)){var l=t.interleaved;l===null?(s.next=s,qd(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=ev(e,t,s,r),n!==null&&(s=Ve(),Nt(n,e,r,s),bv(n,t,r))}}function xv(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function wv(e,t){ii=Sa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Od(e,n)}}var _a={readContext:xt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},MS={readContext:xt,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:ep,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yo(4194308,4,hv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yo(4,2,e,t)},useMemo:function(e,t){var n=Mt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Mt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=IS.bind(null,pe,e),[r.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:Zh,useDebugValue:rf,useDeferredValue:function(e){return Mt().memoizedState=e},useTransition:function(){var e=Zh(!1),t=e[0];return e=RS.bind(null,e[1]),Mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pe,s=Mt();if(de){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),Ee===null)throw Error(I(349));gr&30||iv(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,ep(av.bind(null,r,i,e),[e]),r.flags|=2048,Ai(9,ov.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Mt(),t=Ee.identifierPrefix;if(de){var n=Qt,r=Yt;n=(r&~(1<<32-Tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ti++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=AS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},LS={readContext:xt,useCallback:mv,useContext:xt,useEffect:nf,useImperativeHandle:pv,useInsertionEffect:dv,useLayoutEffect:fv,useMemo:gv,useReducer:sc,useRef:uv,useState:function(){return sc(Ni)},useDebugValue:rf,useDeferredValue:function(e){var t=wt();return vv(t,_e.memoizedState,e)},useTransition:function(){var e=sc(Ni)[0],t=wt().memoizedState;return[e,t]},useMutableSource:rv,useSyncExternalStore:sv,useId:yv,unstable_isNewReconciler:!1},DS={readContext:xt,useCallback:mv,useContext:xt,useEffect:nf,useImperativeHandle:pv,useInsertionEffect:dv,useLayoutEffect:fv,useMemo:gv,useReducer:ic,useRef:uv,useState:function(){return ic(Ni)},useDebugValue:rf,useDeferredValue:function(e){var t=wt();return _e===null?t.memoizedState=e:vv(t,_e.memoizedState,e)},useTransition:function(){var e=ic(Ni)[0],t=wt().memoizedState;return[e,t]},useMutableSource:rv,useSyncExternalStore:sv,useId:yv,unstable_isNewReconciler:!1};function kt(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function bu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nl={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),s=Mn(e),i=Xt(r,s);i.payload=t,n!=null&&(i.callback=n),t=In(e,i,s),t!==null&&(Nt(t,e,s,r),Ko(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),s=Mn(e),i=Xt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=In(e,i,s),t!==null&&(Nt(t,e,s,r),Ko(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=Mn(e),s=Xt(n,r);s.tag=2,t!=null&&(s.callback=t),t=In(e,s,r),t!==null&&(Nt(t,e,r,n),Ko(t,e,r))}};function tp(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!_i(n,r)||!_i(s,i):!0}function Sv(e,t,n){var r=!1,s=Vn,i=t.contextType;return typeof i=="object"&&i!==null?i=xt(i):(s=Qe(t)?pr:$e.current,r=t.contextTypes,i=(r=r!=null)?ds(e,s):Vn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function np(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nl.enqueueReplaceState(t,t.state,null)}function Su(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Yd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=xt(i):(i=Qe(t)?pr:$e.current,s.context=ds(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(bu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&nl.enqueueReplaceState(s,s.state,null),wa(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ms(e,t){try{var n="",r=t;do n+=db(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function oc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _u(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $S=typeof WeakMap=="function"?WeakMap:Map;function _v(e,t,n){n=Xt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ja||(ja=!0,Iu=r),_u(e,t)},n}function kv(e,t,n){n=Xt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){_u(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_u(e,t),typeof r!="function"&&(On===null?On=new Set([this]):On.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function rp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $S;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=XS.bind(null,e,t,n),t.then(e,e))}function sp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ip(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xt(-1,1),t.tag=2,In(n,t,1))),n.lanes|=1),e)}var FS=un.ReactCurrentOwner,qe=!1;function Ue(e,t,n,r){t.child=e===null?Z0(t,null,n,r):hs(t,e.child,n,r)}function op(e,t,n,r,s){n=n.render;var i=t.ref;return is(t,s),r=ef(e,t,n,r,i,s),n=tf(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sn(e,t,s)):(de&&n&&Bd(t),t.flags|=1,Ue(e,t,r,s),t.child)}function ap(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ff(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,jv(e,t,i,r,s)):(e=Zo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:_i,n(o,r)&&e.ref===t.ref)return sn(e,t,s)}return t.flags|=1,e=Ln(i,r),e.ref=t.ref,e.return=t,t.child=e}function jv(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(_i(i,r)&&e.ref===t.ref)if(qe=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,sn(e,t,s)}return ku(e,t,n,r,s)}function Cv(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Qr,nt),nt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ae(Qr,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ae(Qr,nt),nt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ae(Qr,nt),nt|=r;return Ue(e,t,s,n),t.child}function Ev(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ku(e,t,n,r,s){var i=Qe(n)?pr:$e.current;return i=ds(t,i),is(t,s),n=ef(e,t,n,r,i,s),r=tf(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sn(e,t,s)):(de&&r&&Bd(t),t.flags|=1,Ue(e,t,n,s),t.child)}function lp(e,t,n,r,s){if(Qe(n)){var i=!0;ma(t)}else i=!1;if(is(t,s),t.stateNode===null)Qo(e,t),Sv(t,n,r),Su(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=xt(c):(c=Qe(n)?pr:$e.current,c=ds(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&np(t,o,r,c),xn=!1;var h=t.memoizedState;o.state=h,wa(t,r,o,s),l=t.memoizedState,a!==r||h!==l||Ye.current||xn?(typeof d=="function"&&(bu(t,n,d,r),l=t.memoizedState),(a=xn||tp(t,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,tv(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:kt(t.type,a),o.props=c,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=xt(l):(l=Qe(n)?pr:$e.current,l=ds(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&np(t,o,r,l),xn=!1,h=t.memoizedState,o.state=h,wa(t,r,o,s);var x=t.memoizedState;a!==f||h!==x||Ye.current||xn?(typeof m=="function"&&(bu(t,n,m,r),x=t.memoizedState),(c=xn||tp(t,n,c,r,h,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ju(e,t,n,r,i,s)}function ju(e,t,n,r,s,i){Ev(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Kh(t,n,!1),sn(e,t,i);r=t.stateNode,FS.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=hs(t,e.child,null,i),t.child=hs(t,null,a,i)):Ue(e,t,a,i),t.memoizedState=r.state,s&&Kh(t,n,!0),t.child}function Pv(e){var t=e.stateNode;t.pendingContext?Gh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gh(e,t.context,!1),Qd(e,t.containerInfo)}function cp(e,t,n,r,s){return fs(),zd(s),t.flags|=256,Ue(e,t,n,r),t.child}var Cu={dehydrated:null,treeContext:null,retryLane:0};function Eu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tv(e,t,n){var r=t.pendingProps,s=fe.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ae(fe,s&1),e===null)return xu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=il(o,r,0,null),e=hr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Eu(n),t.memoizedState=Cu,e):sf(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return US(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ln(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ln(a,i):(i=hr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Eu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Cu,r}return i=e.child,e=i.sibling,r=Ln(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function sf(e,t){return t=il({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _o(e,t,n,r){return r!==null&&zd(r),hs(t,e.child,null,n),e=sf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function US(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=oc(Error(I(422))),_o(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=il({mode:"visible",children:r.children},s,0,null),i=hr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&hs(t,e.child,null,o),t.child.memoizedState=Eu(o),t.memoizedState=Cu,i);if(!(t.mode&1))return _o(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(I(419)),r=oc(i,r,void 0),_o(e,t,o,r)}if(a=(o&e.childLanes)!==0,qe||a){if(r=Ee,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,rn(e,s),Nt(r,e,s,-1))}return df(),r=oc(Error(I(421))),_o(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ZS.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,st=Rn(s.nextSibling),it=t,de=!0,Pt=null,e!==null&&(ht[pt++]=Yt,ht[pt++]=Qt,ht[pt++]=mr,Yt=e.id,Qt=e.overflow,mr=t),t=sf(t,r.children),t.flags|=4096,t)}function up(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wu(e.return,t,n)}function ac(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Nv(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ue(e,t,r.children,n),r=fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&up(e,n,t);else if(e.tag===19)up(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ae(fe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ba(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ac(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ba(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ac(t,!0,n,null,i);break;case"together":ac(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=Ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function VS(e,t,n){switch(t.tag){case 3:Pv(t),fs();break;case 5:nv(t);break;case 1:Qe(t.type)&&ma(t);break;case 4:Qd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ae(ya,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ae(fe,fe.current&1),t.flags|=128,null):n&t.child.childLanes?Tv(e,t,n):(ae(fe,fe.current&1),e=sn(e,t,n),e!==null?e.sibling:null);ae(fe,fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Nv(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ae(fe,fe.current),r)break;return null;case 22:case 23:return t.lanes=0,Cv(e,t,n)}return sn(e,t,n)}var Av,Pu,Rv,Iv;Av=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pu=function(){};Rv=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ur(Ut.current);var i=null;switch(n){case"input":s=Qc(e,s),r=Qc(e,r),i=[];break;case"select":s=me({},s,{value:void 0}),r=me({},r,{value:void 0}),i=[];break;case"textarea":s=Zc(e,s),r=Zc(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ha)}tu(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ce("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Iv=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bs(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function BS(e,t,n){var r=t.pendingProps;switch(Wd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Qe(t.type)&&pa(),Oe(t),null;case 3:return r=t.stateNode,ps(),ue(Ye),ue($e),Xd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pt!==null&&(Lu(Pt),Pt=null))),Pu(e,t),Oe(t),null;case 5:Jd(t);var s=ur(Pi.current);if(n=t.type,e!==null&&t.stateNode!=null)Rv(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Oe(t),null}if(e=ur(Ut.current),bo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Lt]=t,r[Ci]=i,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(s=0;s<Qs.length;s++)ce(Qs[s],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":xh(r,i),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ce("invalid",r);break;case"textarea":bh(r,i),ce("invalid",r)}tu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&wo(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&wo(r.textContent,a,e),s=["children",""+a]):gi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ce("scroll",r)}switch(n){case"input":fo(r),wh(r,i,!0);break;case"textarea":fo(r),Sh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ha)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=a0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Lt]=t,e[Ci]=r,Av(e,t,!1,!1),t.stateNode=e;e:{switch(o=nu(n,r),n){case"dialog":ce("cancel",e),ce("close",e),s=r;break;case"iframe":case"object":case"embed":ce("load",e),s=r;break;case"video":case"audio":for(s=0;s<Qs.length;s++)ce(Qs[s],e);s=r;break;case"source":ce("error",e),s=r;break;case"img":case"image":case"link":ce("error",e),ce("load",e),s=r;break;case"details":ce("toggle",e),s=r;break;case"input":xh(e,r),s=Qc(e,r),ce("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=me({},r,{value:void 0}),ce("invalid",e);break;case"textarea":bh(e,r),s=Zc(e,r),ce("invalid",e);break;default:s=r}tu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?u0(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&l0(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vi(e,l):typeof l=="number"&&vi(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ce("scroll",e):l!=null&&Pd(e,i,l,o))}switch(n){case"input":fo(e),wh(e,r,!1);break;case"textarea":fo(e),Sh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Un(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ts(e,!!r.multiple,i,!1):r.defaultValue!=null&&ts(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ha)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)Iv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=ur(Pi.current),ur(Ut.current),bo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Lt]=t,(i=r.nodeValue!==n)&&(e=it,e!==null))switch(e.tag){case 3:wo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lt]=t,t.stateNode=r}return Oe(t),null;case 13:if(ue(fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&st!==null&&t.mode&1&&!(t.flags&128))J0(),fs(),t.flags|=98560,i=!1;else if(i=bo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[Lt]=t}else fs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),i=!1}else Pt!==null&&(Lu(Pt),Pt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?ke===0&&(ke=3):df())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return ps(),Pu(e,t),e===null&&ki(t.stateNode.containerInfo),Oe(t),null;case 10:return Kd(t.type._context),Oe(t),null;case 17:return Qe(t.type)&&pa(),Oe(t),null;case 19:if(ue(fe),i=t.memoizedState,i===null)return Oe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Bs(i,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ba(e),o!==null){for(t.flags|=128,Bs(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ae(fe,fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&ye()>gs&&(t.flags|=128,r=!0,Bs(i,!1),t.lanes=4194304)}else{if(!r)if(e=ba(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!de)return Oe(t),null}else 2*ye()-i.renderingStartTime>gs&&n!==1073741824&&(t.flags|=128,r=!0,Bs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ye(),t.sibling=null,n=fe.current,ae(fe,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return uf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nt&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function WS(e,t){switch(Wd(t),t.tag){case 1:return Qe(t.type)&&pa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ps(),ue(Ye),ue($e),Xd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jd(t),null;case 13:if(ue(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(fe),null;case 4:return ps(),null;case 10:return Kd(t.type._context),null;case 22:case 23:return uf(),null;case 24:return null;default:return null}}var ko=!1,De=!1,zS=typeof WeakSet=="function"?WeakSet:Set,F=null;function Yr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(e,t,r)}else n.current=null}function Tu(e,t,n){try{n()}catch(r){ge(e,t,r)}}var dp=!1;function HS(e,t){if(fu=ua,e=$0(),Vd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hu={focusedElem:e,selectionRange:n},ua=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,b=x.memoizedState,w=t.stateNode,y=w.getSnapshotBeforeUpdate(t.elementType===t.type?v:kt(t.type,v),b);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(S){ge(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return x=dp,dp=!1,x}function oi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Tu(t,n,i)}s=s.next}while(s!==r)}}function rl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Nu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ov(e){var t=e.alternate;t!==null&&(e.alternate=null,Ov(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Lt],delete t[Ci],delete t[gu],delete t[ES],delete t[PS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mv(e){return e.tag===5||e.tag===3||e.tag===4}function fp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Au(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ha));else if(r!==4&&(e=e.child,e!==null))for(Au(e,t,n),e=e.sibling;e!==null;)Au(e,t,n),e=e.sibling}function Ru(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ru(e,t,n),e=e.sibling;e!==null;)Ru(e,t,n),e=e.sibling}var Te=null,jt=!1;function fn(e,t,n){for(n=n.child;n!==null;)Lv(e,t,n),n=n.sibling}function Lv(e,t,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Ya,n)}catch{}switch(n.tag){case 5:De||Yr(n,t);case 6:var r=Te,s=jt;Te=null,fn(e,t,n),Te=r,jt=s,Te!==null&&(jt?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(jt?(e=Te,n=n.stateNode,e.nodeType===8?ec(e.parentNode,n):e.nodeType===1&&ec(e,n),bi(e)):ec(Te,n.stateNode));break;case 4:r=Te,s=jt,Te=n.stateNode.containerInfo,jt=!0,fn(e,t,n),Te=r,jt=s;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Tu(n,t,o),s=s.next}while(s!==r)}fn(e,t,n);break;case 1:if(!De&&(Yr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ge(n,t,a)}fn(e,t,n);break;case 21:fn(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,fn(e,t,n),De=r):fn(e,t,n);break;default:fn(e,t,n)}}function hp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zS),t.forEach(function(r){var s=e_.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function St(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Te=a.stateNode,jt=!1;break e;case 3:Te=a.stateNode.containerInfo,jt=!0;break e;case 4:Te=a.stateNode.containerInfo,jt=!0;break e}a=a.return}if(Te===null)throw Error(I(160));Lv(i,o,s),Te=null,jt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ge(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dv(t,e),t=t.sibling}function Dv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(St(t,e),Ot(e),r&4){try{oi(3,e,e.return),rl(3,e)}catch(v){ge(e,e.return,v)}try{oi(5,e,e.return)}catch(v){ge(e,e.return,v)}}break;case 1:St(t,e),Ot(e),r&512&&n!==null&&Yr(n,n.return);break;case 5:if(St(t,e),Ot(e),r&512&&n!==null&&Yr(n,n.return),e.flags&32){var s=e.stateNode;try{vi(s,"")}catch(v){ge(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&i0(s,i),nu(a,o);var c=nu(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?u0(s,f):d==="dangerouslySetInnerHTML"?l0(s,f):d==="children"?vi(s,f):Pd(s,d,f,c)}switch(a){case"input":Jc(s,i);break;case"textarea":o0(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ts(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?ts(s,!!i.multiple,i.defaultValue,!0):ts(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ci]=i}catch(v){ge(e,e.return,v)}}break;case 6:if(St(t,e),Ot(e),r&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){ge(e,e.return,v)}}break;case 3:if(St(t,e),Ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bi(t.containerInfo)}catch(v){ge(e,e.return,v)}break;case 4:St(t,e),Ot(e);break;case 13:St(t,e),Ot(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(lf=ye())),r&4&&hp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(De=(c=De)||d,St(t,e),De=c):St(t,e),Ot(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(F=e,d=e.child;d!==null;){for(f=F=d;F!==null;){switch(h=F,m=h.child,h.tag){case 0:case 11:case 14:case 15:oi(4,h,h.return);break;case 1:Yr(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){ge(r,n,v)}}break;case 5:Yr(h,h.return);break;case 22:if(h.memoizedState!==null){mp(f);continue}}m!==null?(m.return=h,F=m):mp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=c0("display",o))}catch(v){ge(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){ge(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:St(t,e),Ot(e),r&4&&hp(e);break;case 21:break;default:St(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Mv(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(vi(s,""),r.flags&=-33);var i=fp(e);Ru(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=fp(e);Au(e,a,o);break;default:throw Error(I(161))}}catch(l){ge(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function GS(e,t,n){F=e,$v(e)}function $v(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var s=F,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ko;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||De;a=ko;var c=De;if(ko=o,(De=l)&&!c)for(F=s;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?gp(s):l!==null?(l.return=o,F=l):gp(s);for(;i!==null;)F=i,$v(i),i=i.sibling;F=s,ko=a,De=c}pp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,F=i):pp(e)}}function pp(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||rl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:kt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Xh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xh(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&bi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}De||t.flags&512&&Nu(t)}catch(h){ge(t,t.return,h)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function mp(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function gp(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){ge(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ge(t,s,l)}}var i=t.return;try{Nu(t)}catch(l){ge(t,i,l)}break;case 5:var o=t.return;try{Nu(t)}catch(l){ge(t,o,l)}}}catch(l){ge(t,t.return,l)}if(t===e){F=null;break}var a=t.sibling;if(a!==null){a.return=t.return,F=a;break}F=t.return}}var KS=Math.ceil,ka=un.ReactCurrentDispatcher,of=un.ReactCurrentOwner,gt=un.ReactCurrentBatchConfig,ee=0,Ee=null,Se=null,Ae=0,nt=0,Qr=Kn(0),ke=0,Ri=null,vr=0,sl=0,af=0,ai=null,Ge=null,lf=0,gs=1/0,Gt=null,ja=!1,Iu=null,On=null,jo=!1,Cn=null,Ca=0,li=0,Ou=null,Jo=-1,Xo=0;function Ve(){return ee&6?ye():Jo!==-1?Jo:Jo=ye()}function Mn(e){return e.mode&1?ee&2&&Ae!==0?Ae&-Ae:NS.transition!==null?(Xo===0&&(Xo=S0()),Xo):(e=ne,e!==0||(e=window.event,e=e===void 0?16:T0(e.type)),e):1}function Nt(e,t,n,r){if(50<li)throw li=0,Ou=null,Error(I(185));Hi(e,n,r),(!(ee&2)||e!==Ee)&&(e===Ee&&(!(ee&2)&&(sl|=n),ke===4&&_n(e,Ae)),Je(e,r),n===1&&ee===0&&!(t.mode&1)&&(gs=ye()+500,el&&qn()))}function Je(e,t){var n=e.callbackNode;Nb(e,t);var r=ca(e,e===Ee?Ae:0);if(r===0)n!==null&&jh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&jh(n),t===1)e.tag===0?TS(vp.bind(null,e)):q0(vp.bind(null,e)),jS(function(){!(ee&6)&&qn()}),n=null;else{switch(_0(r)){case 1:n=Id;break;case 4:n=w0;break;case 16:n=la;break;case 536870912:n=b0;break;default:n=la}n=Gv(n,Fv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fv(e,t){if(Jo=-1,Xo=0,ee&6)throw Error(I(327));var n=e.callbackNode;if(os()&&e.callbackNode!==n)return null;var r=ca(e,e===Ee?Ae:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ea(e,r);else{t=r;var s=ee;ee|=2;var i=Vv();(Ee!==e||Ae!==t)&&(Gt=null,gs=ye()+500,fr(e,t));do try{QS();break}catch(a){Uv(e,a)}while(1);Gd(),ka.current=i,ee=s,Se!==null?t=0:(Ee=null,Ae=0,t=ke)}if(t!==0){if(t===2&&(s=au(e),s!==0&&(r=s,t=Mu(e,s))),t===1)throw n=Ri,fr(e,0),_n(e,r),Je(e,ye()),n;if(t===6)_n(e,r);else{if(s=e.current.alternate,!(r&30)&&!qS(s)&&(t=Ea(e,r),t===2&&(i=au(e),i!==0&&(r=i,t=Mu(e,i))),t===1))throw n=Ri,fr(e,0),_n(e,r),Je(e,ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:nr(e,Ge,Gt);break;case 3:if(_n(e,r),(r&130023424)===r&&(t=lf+500-ye(),10<t)){if(ca(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=mu(nr.bind(null,e,Ge,Gt),t);break}nr(e,Ge,Gt);break;case 4:if(_n(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Tt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KS(r/1960))-r,10<r){e.timeoutHandle=mu(nr.bind(null,e,Ge,Gt),r);break}nr(e,Ge,Gt);break;case 5:nr(e,Ge,Gt);break;default:throw Error(I(329))}}}return Je(e,ye()),e.callbackNode===n?Fv.bind(null,e):null}function Mu(e,t){var n=ai;return e.current.memoizedState.isDehydrated&&(fr(e,t).flags|=256),e=Ea(e,t),e!==2&&(t=Ge,Ge=n,t!==null&&Lu(t)),e}function Lu(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function qS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!At(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _n(e,t){for(t&=~af,t&=~sl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tt(t),r=1<<n;e[n]=-1,t&=~r}}function vp(e){if(ee&6)throw Error(I(327));os();var t=ca(e,0);if(!(t&1))return Je(e,ye()),null;var n=Ea(e,t);if(e.tag!==0&&n===2){var r=au(e);r!==0&&(t=r,n=Mu(e,r))}if(n===1)throw n=Ri,fr(e,0),_n(e,t),Je(e,ye()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nr(e,Ge,Gt),Je(e,ye()),null}function cf(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(gs=ye()+500,el&&qn())}}function yr(e){Cn!==null&&Cn.tag===0&&!(ee&6)&&os();var t=ee;ee|=1;var n=gt.transition,r=ne;try{if(gt.transition=null,ne=1,e)return e()}finally{ne=r,gt.transition=n,ee=t,!(ee&6)&&qn()}}function uf(){nt=Qr.current,ue(Qr)}function fr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kS(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(Wd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pa();break;case 3:ps(),ue(Ye),ue($e),Xd();break;case 5:Jd(r);break;case 4:ps();break;case 13:ue(fe);break;case 19:ue(fe);break;case 10:Kd(r.type._context);break;case 22:case 23:uf()}n=n.return}if(Ee=e,Se=e=Ln(e.current,null),Ae=nt=t,ke=0,Ri=null,af=sl=vr=0,Ge=ai=null,cr!==null){for(t=0;t<cr.length;t++)if(n=cr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cr=null}return e}function Uv(e,t){do{var n=Se;try{if(Gd(),qo.current=_a,Sa){for(var r=pe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Sa=!1}if(gr=0,Ce=_e=pe=null,ii=!1,Ti=0,of.current=null,n===null||n.return===null){ke=1,Ri=t,Se=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Ae,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=sp(o);if(m!==null){m.flags&=-257,ip(m,o,a,i,t),m.mode&1&&rp(i,c,t),t=m,l=c;var x=t.updateQueue;if(x===null){var v=new Set;v.add(l),t.updateQueue=v}else x.add(l);break e}else{if(!(t&1)){rp(i,c,t),df();break e}l=Error(I(426))}}else if(de&&a.mode&1){var b=sp(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ip(b,o,a,i,t),zd(ms(l,a));break e}}i=l=ms(l,a),ke!==4&&(ke=2),ai===null?ai=[i]:ai.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=_v(i,l,t);Jh(i,w);break e;case 1:a=l;var y=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(On===null||!On.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=kv(i,a,t);Jh(i,S);break e}}i=i.return}while(i!==null)}Wv(n)}catch(_){t=_,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(1)}function Vv(){var e=ka.current;return ka.current=_a,e===null?_a:e}function df(){(ke===0||ke===3||ke===2)&&(ke=4),Ee===null||!(vr&268435455)&&!(sl&268435455)||_n(Ee,Ae)}function Ea(e,t){var n=ee;ee|=2;var r=Vv();(Ee!==e||Ae!==t)&&(Gt=null,fr(e,t));do try{YS();break}catch(s){Uv(e,s)}while(1);if(Gd(),ee=n,ka.current=r,Se!==null)throw Error(I(261));return Ee=null,Ae=0,ke}function YS(){for(;Se!==null;)Bv(Se)}function QS(){for(;Se!==null&&!bb();)Bv(Se)}function Bv(e){var t=Hv(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?Wv(e):Se=t,of.current=null}function Wv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=WS(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,Se=null;return}}else if(n=BS(n,t,nt),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);ke===0&&(ke=5)}function nr(e,t,n){var r=ne,s=gt.transition;try{gt.transition=null,ne=1,JS(e,t,n,r)}finally{gt.transition=s,ne=r}return null}function JS(e,t,n,r){do os();while(Cn!==null);if(ee&6)throw Error(I(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ab(e,i),e===Ee&&(Se=Ee=null,Ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jo||(jo=!0,Gv(la,function(){return os(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gt.transition,gt.transition=null;var o=ne;ne=1;var a=ee;ee|=4,of.current=null,HS(e,n),Dv(n,e),vS(hu),ua=!!fu,hu=fu=null,e.current=n,GS(n),Sb(),ee=a,ne=o,gt.transition=i}else e.current=n;if(jo&&(jo=!1,Cn=e,Ca=s),i=e.pendingLanes,i===0&&(On=null),jb(n.stateNode),Je(e,ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ja)throw ja=!1,e=Iu,Iu=null,e;return Ca&1&&e.tag!==0&&os(),i=e.pendingLanes,i&1?e===Ou?li++:(li=0,Ou=e):li=0,qn(),null}function os(){if(Cn!==null){var e=_0(Ca),t=gt.transition,n=ne;try{if(gt.transition=null,ne=16>e?16:e,Cn===null)var r=!1;else{if(e=Cn,Cn=null,Ca=0,ee&6)throw Error(I(331));var s=ee;for(ee|=4,F=e.current;F!==null;){var i=F,o=i.child;if(F.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(F=c;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:oi(8,d,i)}var f=d.child;if(f!==null)f.return=d,F=f;else for(;F!==null;){d=F;var h=d.sibling,m=d.return;if(Ov(d),d===c){F=null;break}if(h!==null){h.return=m,F=h;break}F=m}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}F=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,F=o;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:oi(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,F=w;break e}F=i.return}}var y=e.current;for(F=y;F!==null;){o=F;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,F=g;else e:for(o=y;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rl(9,a)}}catch(_){ge(a,a.return,_)}if(a===o){F=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,F=S;break e}F=a.return}}if(ee=s,qn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Ya,e)}catch{}r=!0}return r}finally{ne=n,gt.transition=t}}return!1}function yp(e,t,n){t=ms(n,t),t=_v(e,t,1),e=In(e,t,1),t=Ve(),e!==null&&(Hi(e,1,t),Je(e,t))}function ge(e,t,n){if(e.tag===3)yp(e,e,n);else for(;t!==null;){if(t.tag===3){yp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(On===null||!On.has(r))){e=ms(n,e),e=kv(t,e,1),t=In(t,e,1),e=Ve(),t!==null&&(Hi(t,1,e),Je(t,e));break}}t=t.return}}function XS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,Ee===e&&(Ae&n)===n&&(ke===4||ke===3&&(Ae&130023424)===Ae&&500>ye()-lf?fr(e,0):af|=n),Je(e,t)}function zv(e,t){t===0&&(e.mode&1?(t=mo,mo<<=1,!(mo&130023424)&&(mo=4194304)):t=1);var n=Ve();e=rn(e,t),e!==null&&(Hi(e,t,n),Je(e,n))}function ZS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zv(e,n)}function e_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),zv(e,n)}var Hv;Hv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,VS(e,t,n);qe=!!(e.flags&131072)}else qe=!1,de&&t.flags&1048576&&Y0(t,va,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qo(e,t),e=t.pendingProps;var s=ds(t,$e.current);is(t,n),s=ef(null,t,r,e,s,n);var i=tf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(r)?(i=!0,ma(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yd(t),s.updater=nl,t.stateNode=s,s._reactInternals=t,Su(t,r,e,n),t=ju(null,t,r,!0,i,n)):(t.tag=0,de&&i&&Bd(t),Ue(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=n_(r),e=kt(r,e),s){case 0:t=ku(null,t,r,e,n);break e;case 1:t=lp(null,t,r,e,n);break e;case 11:t=op(null,t,r,e,n);break e;case 14:t=ap(null,t,r,kt(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),ku(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),lp(e,t,r,s,n);case 3:e:{if(Pv(t),e===null)throw Error(I(387));r=t.pendingProps,i=t.memoizedState,s=i.element,tv(e,t),wa(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ms(Error(I(423)),t),t=cp(e,t,r,n,s);break e}else if(r!==s){s=ms(Error(I(424)),t),t=cp(e,t,r,n,s);break e}else for(st=Rn(t.stateNode.containerInfo.firstChild),it=t,de=!0,Pt=null,n=Z0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fs(),r===s){t=sn(e,t,n);break e}Ue(e,t,r,n)}t=t.child}return t;case 5:return nv(t),e===null&&xu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,pu(r,s)?o=null:i!==null&&pu(r,i)&&(t.flags|=32),Ev(e,t),Ue(e,t,o,n),t.child;case 6:return e===null&&xu(t),null;case 13:return Tv(e,t,n);case 4:return Qd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hs(t,null,r,n):Ue(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),op(e,t,r,s,n);case 7:return Ue(e,t,t.pendingProps,n),t.child;case 8:return Ue(e,t,t.pendingProps.children,n),t.child;case 12:return Ue(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ae(ya,r._currentValue),r._currentValue=o,i!==null)if(At(i.value,o)){if(i.children===s.children&&!Ye.current){t=sn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Xt(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),wu(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wu(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ue(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,is(t,n),s=xt(s),r=r(s),t.flags|=1,Ue(e,t,r,n),t.child;case 14:return r=t.type,s=kt(r,t.pendingProps),s=kt(r.type,s),ap(e,t,r,s,n);case 15:return jv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),Qo(e,t),t.tag=1,Qe(r)?(e=!0,ma(t)):e=!1,is(t,n),Sv(t,r,s),Su(t,r,s,n),ju(null,t,r,!0,e,n);case 19:return Nv(e,t,n);case 22:return Cv(e,t,n)}throw Error(I(156,t.tag))};function Gv(e,t){return x0(e,t)}function t_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,r){return new t_(e,t,n,r)}function ff(e){return e=e.prototype,!(!e||!e.isReactComponent)}function n_(e){if(typeof e=="function")return ff(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nd)return 11;if(e===Ad)return 14}return 2}function Ln(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")ff(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ur:return hr(n.children,s,i,t);case Td:o=8,s|=8;break;case Gc:return e=mt(12,n,t,s|2),e.elementType=Gc,e.lanes=i,e;case Kc:return e=mt(13,n,t,s),e.elementType=Kc,e.lanes=i,e;case qc:return e=mt(19,n,t,s),e.elementType=qc,e.lanes=i,e;case n0:return il(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case e0:o=10;break e;case t0:o=9;break e;case Nd:o=11;break e;case Ad:o=14;break e;case yn:o=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=mt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function hr(e,t,n,r){return e=mt(7,e,r,t),e.lanes=n,e}function il(e,t,n,r){return e=mt(22,e,r,t),e.elementType=n0,e.lanes=n,e.stateNode={isHidden:!1},e}function lc(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function cc(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function r_(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wl(0),this.expirationTimes=Wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hf(e,t,n,r,s,i,o,a,l){return e=new r_(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=mt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yd(i),e}function s_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Kv(e){if(!e)return Vn;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(Qe(n))return K0(e,n,t)}return t}function qv(e,t,n,r,s,i,o,a,l){return e=hf(n,r,!0,e,s,i,o,a,l),e.context=Kv(null),n=e.current,r=Ve(),s=Mn(n),i=Xt(r,s),i.callback=t??null,In(n,i,s),e.current.lanes=s,Hi(e,s,r),Je(e,r),e}function ol(e,t,n,r){var s=t.current,i=Ve(),o=Mn(s);return n=Kv(n),t.context===null?t.context=n:t.pendingContext=n,t=Xt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=In(s,t,o),e!==null&&(Nt(e,s,o,i),Ko(e,s,o)),o}function Pa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function pf(e,t){xp(e,t),(e=e.alternate)&&xp(e,t)}function i_(){return null}var Yv=typeof reportError=="function"?reportError:function(e){console.error(e)};function mf(e){this._internalRoot=e}al.prototype.render=mf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));ol(e,t,null,null)};al.prototype.unmount=mf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yr(function(){ol(null,e,null,null)}),t[nn]=null}};function al(e){this._internalRoot=e}al.prototype.unstable_scheduleHydration=function(e){if(e){var t=C0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sn.length&&t!==0&&t<Sn[n].priority;n++);Sn.splice(n,0,e),n===0&&P0(e)}};function gf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ll(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wp(){}function o_(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Pa(o);i.call(c)}}var o=qv(t,r,e,0,null,!1,!1,"",wp);return e._reactRootContainer=o,e[nn]=o.current,ki(e.nodeType===8?e.parentNode:e),yr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Pa(l);a.call(c)}}var l=hf(e,0,!1,null,null,!1,!1,"",wp);return e._reactRootContainer=l,e[nn]=l.current,ki(e.nodeType===8?e.parentNode:e),yr(function(){ol(t,l,n,r)}),l}function cl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Pa(o);a.call(l)}}ol(t,o,e,s)}else o=o_(n,t,e,s,r);return Pa(o)}k0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ys(t.pendingLanes);n!==0&&(Od(t,n|1),Je(t,ye()),!(ee&6)&&(gs=ye()+500,qn()))}break;case 13:yr(function(){var r=rn(e,1);if(r!==null){var s=Ve();Nt(r,e,1,s)}}),pf(e,1)}};Md=function(e){if(e.tag===13){var t=rn(e,134217728);if(t!==null){var n=Ve();Nt(t,e,134217728,n)}pf(e,134217728)}};j0=function(e){if(e.tag===13){var t=Mn(e),n=rn(e,t);if(n!==null){var r=Ve();Nt(n,e,t,r)}pf(e,t)}};C0=function(){return ne};E0=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};su=function(e,t,n){switch(t){case"input":if(Jc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Za(r);if(!s)throw Error(I(90));s0(r),Jc(r,s)}}}break;case"textarea":o0(e,n);break;case"select":t=n.value,t!=null&&ts(e,!!n.multiple,t,!1)}};h0=cf;p0=yr;var a_={usingClientEntryPoint:!1,Events:[Ki,zr,Za,d0,f0,cf]},Ws={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l_={bundleType:Ws.bundleType,version:Ws.version,rendererPackageName:Ws.rendererPackageName,rendererConfig:Ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:un.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=v0(e),e===null?null:e.stateNode},findFiberByHostInstance:Ws.findFiberByHostInstance||i_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{Ya=Co.inject(l_),Ft=Co}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a_;ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gf(t))throw Error(I(200));return s_(e,t,null,n)};ct.createRoot=function(e,t){if(!gf(e))throw Error(I(299));var n=!1,r="",s=Yv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=hf(e,1,!1,null,null,n,!1,r,s),e[nn]=t.current,ki(e.nodeType===8?e.parentNode:e),new mf(t)};ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=v0(t),e=e===null?null:e.stateNode,e};ct.flushSync=function(e){return yr(e)};ct.hydrate=function(e,t,n){if(!ll(t))throw Error(I(200));return cl(null,e,t,!0,n)};ct.hydrateRoot=function(e,t,n){if(!gf(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Yv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=qv(t,null,e,1,n??null,s,!1,i,o),e[nn]=t.current,ki(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new al(t)};ct.render=function(e,t,n){if(!ll(t))throw Error(I(200));return cl(null,e,t,!1,n)};ct.unmountComponentAtNode=function(e){if(!ll(e))throw Error(I(40));return e._reactRootContainer?(yr(function(){cl(null,null,e,!1,function(){e._reactRootContainer=null,e[nn]=null})}),!0):!1};ct.unstable_batchedUpdates=cf;ct.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ll(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return cl(e,t,n,!1,r)};ct.version="18.3.1-next-f1338f8080-20240426";function Qv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qv)}catch(e){console.error(e)}}Qv(),Qg.exports=ct;var vf=Qg.exports,bp=vf;zc.createRoot=bp.createRoot,zc.hydrateRoot=bp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ii.apply(this,arguments)}var En;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(En||(En={}));const Sp="popstate";function c_(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Du("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ta(s)}return d_(t,n,null,e)}function xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function u_(){return Math.random().toString(36).substr(2,8)}function _p(e,t){return{usr:e.state,key:e.key,idx:t}}function Du(e,t,n,r){return n===void 0&&(n=null),Ii({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?js(t):t,{state:n,key:t&&t.key||r||u_()})}function Ta(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function js(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function d_(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=En.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Ii({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=En.Pop;let b=d(),w=b==null?null:b-c;c=b,l&&l({action:a,location:v.location,delta:w})}function h(b,w){a=En.Push;let y=Du(v.location,b,w);n&&n(y,b),c=d()+1;let g=_p(y,c),S=v.createHref(y);try{o.pushState(g,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(S)}i&&l&&l({action:a,location:v.location,delta:1})}function m(b,w){a=En.Replace;let y=Du(v.location,b,w);n&&n(y,b),c=d();let g=_p(y,c),S=v.createHref(y);o.replaceState(g,"",S),i&&l&&l({action:a,location:v.location,delta:0})}function x(b){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof b=="string"?b:Ta(b);return y=y.replace(/ $/,"%20"),xe(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let v={get action(){return a},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Sp,f),l=b,()=>{s.removeEventListener(Sp,f),l=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let w=x(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:m,go(b){return o.go(b)}};return v}var kp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(kp||(kp={}));function f_(e,t,n){return n===void 0&&(n="/"),h_(e,t,n,!1)}function h_(e,t,n,r){let s=typeof t=="string"?js(t):t,i=yf(s.pathname||"/",n);if(i==null)return null;let o=Xv(e);p_(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=j_(i);a=__(o[l],c,r)}return a}function Xv(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(xe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Dn([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(xe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Xv(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:b_(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Zv(i.path))s(i,o,l)}),t}function Zv(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Zv(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function p_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:S_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const m_=/^:[\w-]+$/,g_=3,v_=2,y_=1,x_=10,w_=-2,jp=e=>e==="*";function b_(e,t){let n=e.split("/"),r=n.length;return n.some(jp)&&(r+=w_),t&&(r+=v_),n.filter(s=>!jp(s)).reduce((s,i)=>s+(m_.test(i)?g_:i===""?y_:x_),r)}function S_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function __(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Cp({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Cp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Dn([i,f.pathname]),pathnameBase:T_(Dn([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Dn([i,f.pathnameBase]))}return o}function Cp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=k_(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=a[f];return m&&!x?c[h]=void 0:c[h]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function k_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Jv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function j_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function yf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function C_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?js(e):e;return{pathname:n?n.startsWith("/")?n:E_(n,t):t,search:N_(r),hash:A_(s)}}function E_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function uc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function xf(e,t){let n=P_(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wf(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=js(e):(s=Ii({},e),xe(!s.pathname||!s.pathname.includes("?"),uc("?","pathname","search",s)),xe(!s.pathname||!s.pathname.includes("#"),uc("#","pathname","hash",s)),xe(!s.search||!s.search.includes("#"),uc("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=C_(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Dn=e=>e.join("/").replace(/\/\/+/g,"/"),T_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),N_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,A_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function R_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ey=["post","put","patch","delete"];new Set(ey);const I_=["get",...ey];new Set(I_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oi.apply(this,arguments)}const bf=p.createContext(null),O_=p.createContext(null),Yn=p.createContext(null),ul=p.createContext(null),dn=p.createContext({outlet:null,matches:[],isDataRoute:!1}),ty=p.createContext(null);function M_(e,t){let{relative:n}=t===void 0?{}:t;Cs()||xe(!1);let{basename:r,navigator:s}=p.useContext(Yn),{hash:i,pathname:o,search:a}=ry(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Dn([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Cs(){return p.useContext(ul)!=null}function _r(){return Cs()||xe(!1),p.useContext(ul).location}function ny(e){p.useContext(Yn).static||p.useLayoutEffect(e)}function bt(){let{isDataRoute:e}=p.useContext(dn);return e?Y_():L_()}function L_(){Cs()||xe(!1);let e=p.useContext(bf),{basename:t,future:n,navigator:r}=p.useContext(Yn),{matches:s}=p.useContext(dn),{pathname:i}=_r(),o=JSON.stringify(xf(s,n.v7_relativeSplatPath)),a=p.useRef(!1);return ny(()=>{a.current=!0}),p.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=wf(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Dn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}function D_(){let{matches:e}=p.useContext(dn),t=e[e.length-1];return t?t.params:{}}function ry(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(Yn),{matches:s}=p.useContext(dn),{pathname:i}=_r(),o=JSON.stringify(xf(s,r.v7_relativeSplatPath));return p.useMemo(()=>wf(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function $_(e,t){return F_(e,t)}function F_(e,t,n,r){Cs()||xe(!1);let{navigator:s}=p.useContext(Yn),{matches:i}=p.useContext(dn),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=_r(),d;if(t){var f;let b=typeof t=="string"?js(t):t;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||xe(!1),d=b}else d=c;let h=d.pathname||"/",m=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=f_(e,{pathname:m}),v=z_(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Dn([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Dn([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return t&&v?p.createElement(ul.Provider,{value:{location:Oi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:En.Pop}},v):v}function U_(){let e=q_(),t=R_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,i)}const V_=p.createElement(U_,null);class B_ extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(dn.Provider,{value:this.props.routeContext},p.createElement(ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function W_(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(bf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(dn.Provider,{value:t},r)}function z_(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||xe(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=n,x=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,x=!1,v=null,b=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||V_,l&&(c<0&&h===0?(Q_("route-fallback",!1),x=!0,b=null):c===h&&(x=!0,b=f.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,h+1)),y=()=>{let g;return m?g=v:x?g=b:f.route.Component?g=p.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,p.createElement(W_,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(B_,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var sy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(sy||{}),Na=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Na||{});function H_(e){let t=p.useContext(bf);return t||xe(!1),t}function G_(e){let t=p.useContext(O_);return t||xe(!1),t}function K_(e){let t=p.useContext(dn);return t||xe(!1),t}function iy(e){let t=K_(),n=t.matches[t.matches.length-1];return n.route.id||xe(!1),n.route.id}function q_(){var e;let t=p.useContext(ty),n=G_(Na.UseRouteError),r=iy(Na.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Y_(){let{router:e}=H_(sy.UseNavigateStable),t=iy(Na.UseNavigateStable),n=p.useRef(!1);return ny(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Oi({fromRouteId:t},i)))},[e,t])}const Ep={};function Q_(e,t,n){!t&&!Ep[e]&&(Ep[e]=!0)}function J_(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function oy(e){let{to:t,replace:n,state:r,relative:s}=e;Cs()||xe(!1);let{future:i,static:o}=p.useContext(Yn),{matches:a}=p.useContext(dn),{pathname:l}=_r(),c=bt(),d=wf(t,xf(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return p.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function He(e){xe(!1)}function X_(e){let{basename:t="/",children:n=null,location:r,navigationType:s=En.Pop,navigator:i,static:o=!1,future:a}=e;Cs()&&xe(!1);let l=t.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:i,static:o,future:Oi({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=js(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:x="default"}=r,v=p.useMemo(()=>{let b=yf(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:x},navigationType:s}},[l,d,f,h,m,x,s]);return v==null?null:p.createElement(Yn.Provider,{value:c},p.createElement(ul.Provider,{children:n,value:v}))}function Pp(e){let{children:t,location:n}=e;return $_($u(t),n)}new Promise(()=>{});function $u(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let i=[...t,s];if(r.type===p.Fragment){n.push.apply(n,$u(r.props.children,i));return}r.type!==He&&xe(!1),!r.props.index||!r.props.children||xe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=$u(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fu.apply(this,arguments)}function Z_(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function ek(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tk(e,t){return e.button===0&&(!t||t==="_self")&&!ek(e)}const nk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rk="6";try{window.__reactRouterVersion=rk}catch{}const sk="startTransition",Tp=jd[sk];function ik(e){let{basename:t,children:n,future:r,window:s}=e,i=p.useRef();i.current==null&&(i.current=c_({window:s,v5Compat:!0}));let o=i.current,[a,l]=p.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=p.useCallback(f=>{c&&Tp?Tp(()=>l(f)):l(f)},[l,c]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>J_(r),[r]),p.createElement(X_,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const ok=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ak=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ct=p.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,h=Z_(t,nk),{basename:m}=p.useContext(Yn),x,v=!1;if(typeof c=="string"&&ak.test(c)&&(x=c,ok))try{let g=new URL(window.location.href),S=c.startsWith("//")?new URL(g.protocol+c):new URL(c),_=yf(S.pathname,m);S.origin===g.origin&&_!=null?c=_+S.search+S.hash:v=!0}catch{}let b=M_(c,{relative:s}),w=lk(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function y(g){r&&r(g),g.defaultPrevented||w(g)}return p.createElement("a",Fu({},h,{href:x||b,onClick:v||i?r:y,ref:n,target:l}))});var Np;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Np||(Np={}));var Ap;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ap||(Ap={}));function lk(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=bt(),c=_r(),d=ry(e,{relative:o});return p.useCallback(f=>{if(tk(f,n)){f.preventDefault();let h=r!==void 0?r:Ta(c)===Ta(d);l(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,e,i,o,a])}var ck={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dk=(e,t)=>{const n=p.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...l},c)=>p.createElement("svg",{ref:c,...ck,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${uk(e)}`,...l},[...t.map(([d,f])=>p.createElement(d,f)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${e}`,n};var re=dk;const fk=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),hk=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),pk=re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),mk=re("Bug",[["rect",{width:"8",height:"14",x:"8",y:"6",rx:"4",key:"hq8nra"}],["path",{d:"m19 7-3 2",key:"fmg8ec"}],["path",{d:"m5 7 3 2",key:"dkxqes"}],["path",{d:"m19 19-3-2",key:"1hbhi4"}],["path",{d:"m5 19 3-2",key:"dvt2ee"}],["path",{d:"M20 13h-4",key:"1agfp2"}],["path",{d:"M4 13h4",key:"1bwh8b"}],["path",{d:"m10 4 1 2",key:"1pot59"}],["path",{d:"m14 4-1 2",key:"m8sn0o"}]]),gk=re("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Rp=re("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),vk=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),yk=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),xk=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Uu=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Ip=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),ci=re("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),wk=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),bk=re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Sk=re("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),Op=re("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),dl=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),_k=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),kk=re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),as=re("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),ay=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Vu=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ly=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),cy=re("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),Pn=re("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),uy=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),jk=re("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Ck=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Bu=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ek="modulepreload",Pk=function(e){return"/"+e},Mp={},Es=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Pk(i),i in Mp)return;Mp[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const f=s[d];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Ek,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((d,f)=>{c.addEventListener("load",d),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},Tk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Es(()=>Promise.resolve().then(()=>Ps),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Sf extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Nk extends Sf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Lp extends Sf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Dp extends Sf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Wu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Wu||(Wu={}));var Ak=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Rk{constructor(t,{headers:n={},customFetch:r,region:s=Wu.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Tk(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Ak(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(v=>{throw new Nk(v)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Lp(f);if(!f.ok)throw new Dp(f);let m=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return m==="application/json"?x=yield f.json():m==="application/octet-stream"?x=yield f.blob():m==="text/event-stream"?x=f:m==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Dp||s instanceof Lp?s.context:void 0}}})}}var Ke={},_f={},fl={},Yi={},hl={},pl={},Ik=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vs=Ik();const Ok=vs.fetch,dy=vs.fetch.bind(vs),fy=vs.Headers,Mk=vs.Request,Lk=vs.Response,Ps=Object.freeze(Object.defineProperty({__proto__:null,Headers:fy,Request:Mk,Response:Lk,default:dy,fetch:Ok},Symbol.toStringTag,{value:"Module"})),Dk=D1(Ps);var ml={};Object.defineProperty(ml,"__esModule",{value:!0});let $k=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ml.default=$k;var hy=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pl,"__esModule",{value:!0});const Fk=hy(Dk),Uk=hy(ml);let Vk=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Fk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{c=JSON.parse(v),Array.isArray(c)&&i.status===404&&(d=[],c=null,h=200,m="OK")}catch{i.status===404&&v===""?(h=204,m="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,m="OK"),c&&this.shouldThrowOnError)throw new Uk.default(c)}return{error:c,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};pl.default=Vk;var Bk=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hl,"__esModule",{value:!0});const Wk=Bk(pl);let zk=class extends Wk.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};hl.default=zk;var Hk=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yi,"__esModule",{value:!0});const Gk=Hk(hl);let Kk=class extends Gk.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Yi.default=Kk;var qk=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fl,"__esModule",{value:!0});const zs=qk(Yi);let Yk=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new zs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new zs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new zs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new zs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new zs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};fl.default=Yk;var gl={},vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.version=void 0;vl.version="0.0.0-automated";Object.defineProperty(gl,"__esModule",{value:!0});gl.DEFAULT_HEADERS=void 0;const Qk=vl;gl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Qk.version}`};var py=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_f,"__esModule",{value:!0});const Jk=py(fl),Xk=py(Yi),Zk=gl;let ej=class my{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Zk.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new Jk.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new my(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Xk.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};_f.default=ej;var Ts=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.PostgrestError=Ke.PostgrestBuilder=Ke.PostgrestTransformBuilder=Ke.PostgrestFilterBuilder=Ke.PostgrestQueryBuilder=Ke.PostgrestClient=void 0;const gy=Ts(_f);Ke.PostgrestClient=gy.default;const vy=Ts(fl);Ke.PostgrestQueryBuilder=vy.default;const yy=Ts(Yi);Ke.PostgrestFilterBuilder=yy.default;const xy=Ts(hl);Ke.PostgrestTransformBuilder=xy.default;const wy=Ts(pl);Ke.PostgrestBuilder=wy.default;const by=Ts(ml);Ke.PostgrestError=by.default;var tj=Ke.default={PostgrestClient:gy.default,PostgrestQueryBuilder:vy.default,PostgrestFilterBuilder:yy.default,PostgrestTransformBuilder:xy.default,PostgrestBuilder:wy.default,PostgrestError:by.default};const{PostgrestClient:nj,PostgrestQueryBuilder:wM,PostgrestFilterBuilder:bM,PostgrestTransformBuilder:SM,PostgrestBuilder:_M,PostgrestError:kM}=tj;function rj(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const sj=rj(),ij="2.11.15",oj=`realtime-js/${ij}`,aj="1.0.0",Sy=1e4,lj=1e3;var ui;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ui||(ui={}));var Me;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Me||(Me={}));var Et;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Et||(Et={}));var zu;(function(e){e.websocket="websocket"})(zu||(zu={}));var ar;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ar||(ar={}));class cj{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class _y{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(oe||(oe={}));const $p=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=uj(o,e,t,s),i),{})},uj=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?ky(i,o):Hu(o)},ky=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return pj(t,n)}switch(e){case oe.bool:return dj(t);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return fj(t);case oe.json:case oe.jsonb:return hj(t);case oe.timestamp:return mj(t);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return Hu(t);default:return Hu(t)}},Hu=e=>e,dj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},fj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},hj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},pj=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ky(t,a))}return e},mj=e=>typeof e=="string"?e.replace(" ","T"):e,jy=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class dc{constructor(t,n,r={},s=Sy){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Fp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Fp||(Fp={}));class di{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=di.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=di.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=di.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const h=d.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),x=d.filter(b=>m.indexOf(b.presence_ref)<0),v=f.filter(b=>h.indexOf(b.presence_ref)<0);x.length>0&&(a[c]=x),v.length>0&&(l[c]=v)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[a].unshift(...h)}r(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Up;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Up||(Up={}));var Vp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vp||(Vp={}));var Kt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Kt||(Kt={}));class kf{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new dc(this,Et.join,this.params,this.timeout),this.rejoinTimer=new _y(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Me.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Et.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new di(this),this.broadcastEndpointURL=jy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Me.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(Kt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Kt.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Kt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,x=[];for(let v=0;v<m;v++){const b=h[v],{filter:{event:w,schema:y,table:g,filter:S}}=b,_=d&&d[v];if(_&&_.event===w&&_.schema===y&&_.table===g&&_.filter===S)x.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),this.state=Me.errored,t==null||t(Kt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Kt.SUBSCRIBED);return}}).receive("error",d=>{this.state=Me.errored,t==null||t(Kt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Kt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Me.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Et.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new dc(this,Et.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new dc(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Et;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var x,v,b;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(v=m.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var x,v,b,w,y,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,_=(x=m.filter)===null||x===void 0?void 0:x.event;return S&&((v=n.ids)===null||v===void 0?void 0:v.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(y=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:v,table:b,commit_timestamp:w,type:y,errors:g}=x;h=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:w,eventType:y,new:{},old:{},errors:g}),this._getPayloadRecords(x))}m.callback(h,r)})}_isClosed(){return this.state===Me.closed}_isJoined(){return this.state===Me.joined}_isJoining(){return this.state===Me.joining}_isLeaving(){return this.state===Me.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&kf.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Et.close,{},t)}_onError(t){this._on(Et.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Me.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=$p(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=$p(t.columns,t.old_record)),n}}const Bp=()=>{},gj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vj{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sy,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bp,this.ref=0,this.logger=Bp,this.conn=null,this.sendBuffer=[],this.serializer=new cj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Es(()=>Promise.resolve().then(()=>Ps),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${zu.websocket}`,this.httpEndpoint=jy(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new _y(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=sj),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aj}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ui.connecting:return ar.Connecting;case ui.open:return ar.Open;case ui.closing:return ar.Closing;default:return ar.Closed}}isConnected(){return this.connectionState()===ar.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new kf(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:oj};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Et.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(lj,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Et.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([gj],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class jf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function je(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class yj extends jf{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Gu extends jf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var xj=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Cy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Es(()=>Promise.resolve().then(()=>Ps),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},wj=()=>xj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Es(()=>Promise.resolve().then(()=>Ps),void 0)).Response:Response}),Ku=e=>{if(Array.isArray(e))return e.map(n=>Ku(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ku(r)}),t};var kr=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const fc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bj=(e,t,n)=>kr(void 0,void 0,void 0,function*(){const r=yield wj();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new yj(fc(s),e.status||500))}).catch(s=>{t(new Gu(fc(s),s))}):t(new Gu(fc(e),e))}),Sj=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Qi(e,t,n,r,s,i){return kr(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,Sj(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>bj(l,a,r))})})}function Aa(e,t,n,r){return kr(this,void 0,void 0,function*(){return Qi(e,"GET",t,n,r)})}function wn(e,t,n,r,s){return kr(this,void 0,void 0,function*(){return Qi(e,"POST",t,r,s,n)})}function _j(e,t,n,r,s){return kr(this,void 0,void 0,function*(){return Qi(e,"PUT",t,r,s,n)})}function kj(e,t,n,r){return kr(this,void 0,void 0,function*(){return Qi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ey(e,t,n,r,s){return kr(this,void 0,void 0,function*(){return Qi(e,"DELETE",t,r,s,n)})}var ze=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const jj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Cj{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Cy(s)}uploadOrUpdate(t,n,r,s){return ze(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Wp),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(je(i))return{data:null,error:i};throw i}})}upload(t,n,r){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return ze(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Wp.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(je(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return ze(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield wn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new jf("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}update(t,n,r){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ze(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}copy(t,n,r){return ze(this,void 0,void 0,function*(){try{return{data:{path:(yield wn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return ze(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield wn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return ze(this,void 0,void 0,function*(){try{const s=yield wn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}download(t,n){return ze(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Aa(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(je(a))return{data:null,error:a};throw a}})}info(t){return ze(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Aa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ku(r),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}exists(t){return ze(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield kj(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(je(r)&&r instanceof Gu){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return ze(this,void 0,void 0,function*(){try{return{data:yield Ey(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}list(t,n,r){return ze(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},jj),n),{prefix:t||""});return{data:yield wn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Ej="2.7.1",Pj={"X-Client-Info":`storage-js/${Ej}`};var Tr=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Tj{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Pj),n),this.fetch=Cy(r)}listBuckets(){return Tr(this,void 0,void 0,function*(){try{return{data:yield Aa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(je(t))return{data:null,error:t};throw t}})}getBucket(t){return Tr(this,void 0,void 0,function*(){try{return{data:yield Aa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Tr(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Tr(this,void 0,void 0,function*(){try{return{data:yield _j(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Tr(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Tr(this,void 0,void 0,function*(){try{return{data:yield Ey(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}}class Nj extends Tj{constructor(t,n={},r){super(t,n,r)}from(t){return new Cj(this.url,this.headers,t,this.fetch)}}const Aj="2.52.0";let Js="";typeof Deno<"u"?Js="deno":typeof document<"u"?Js="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Js="react-native":Js="node";const Rj={"X-Client-Info":`supabase-js-${Js}/${Aj}`},Ij={headers:Rj},Oj={schema:"public"},Mj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Lj={};var Dj=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const $j=e=>{let t;return e?t=e:typeof fetch>"u"?t=dy:t=fetch,(...n)=>t(...n)},Fj=()=>typeof Headers>"u"?fy:Headers,Uj=(e,t,n)=>{const r=$j(n),s=Fj();return(i,o)=>Dj(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var Vj=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function Bj(e){return e.endsWith("/")?e:e+"/"}function Wj(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Vj(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Py="2.71.1",Dr=30*1e3,qu=3,hc=qu*Dr,zj="http://localhost:9999",Hj="supabase.auth.token",Gj={"X-Client-Info":`gotrue-js/${Py}`},Yu="X-Supabase-Api-Version",Ty={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qj=10*60*1e3;class Cf extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function K(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Yj extends Cf{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Qj(e){return K(e)&&e.name==="AuthApiError"}class Ny extends Cf{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Qn extends Cf{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class mn extends Qn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jj(e){return K(e)&&e.name==="AuthSessionMissingError"}class Eo extends Qn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Po extends Qn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class To extends Qn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xj(e){return K(e)&&e.name==="AuthImplicitGrantRedirectError"}class zp extends Qn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qu extends Qn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function pc(e){return K(e)&&e.name==="AuthRetryableFetchError"}class Hp extends Qn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ju extends Qn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ra="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gp=` 	
\r=`.split(""),Zj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Gp.length;t+=1)e[Gp[t].charCodeAt(0)]=-2;for(let t=0;t<Ra.length;t+=1)e[Ra[t].charCodeAt(0)]=t;return e})();function Kp(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ra[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ra[r]),t.queuedBits-=6}}function Ay(e,t,n){const r=Zj[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function qp(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{nC(o,r,n)};for(let o=0;o<e.length;o+=1)Ay(e.charCodeAt(o),s,i);return t.join("")}function eC(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tC(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}eC(r,t)}}function nC(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function rC(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Ay(e.charCodeAt(s),n,r);return new Uint8Array(t)}function sC(e){const t=[];return tC(e,n=>t.push(n)),new Uint8Array(t)}function iC(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Kp(s,n,r)),Kp(null,n,r),t.join("")}function oC(e){return Math.round(Date.now()/1e3)+e}function aC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const _t=()=>typeof window<"u"&&typeof document<"u",Xn={tested:!1,writable:!1},Ry=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xn.tested)return Xn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xn.tested=!0,Xn.writable=!0}catch{Xn.tested=!0,Xn.writable=!1}return Xn.writable};function lC(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Iy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Es(()=>Promise.resolve().then(()=>Ps),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},cC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",$r=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Zn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},hn=async(e,t)=>{await e.removeItem(t)};class yl{constructor(){this.promise=new yl.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}yl.promiseConstructor=Promise;function mc(e){const t=e.split(".");if(t.length!==3)throw new Ju("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Kj.test(t[r]))throw new Ju("JWT not in base64url format");return{header:JSON.parse(qp(t[0])),payload:JSON.parse(qp(t[1])),signature:rC(t[2]),raw:{header:t[0],payload:t[1]}}}async function uC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function dC(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function fC(e){return("0"+e.toString(16)).substr(-2)}function hC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,fC).join("")}async function pC(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function mC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await pC(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nr(e,t,n=!1){const r=hC();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await $r(e,`${t}-code-verifier`,s);const i=await mC(r);return[i,r===i?"plain":"s256"]}const gC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vC(e){const t=e.headers.get(Yu);if(!t||!t.match(gC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function yC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ar(e){if(!wC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gc(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Yp(e){return JSON.parse(JSON.stringify(e))}var bC=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const rr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SC=[502,503,504];async function Qp(e){var t;if(!cC(e))throw new Qu(rr(e),0);if(SC.includes(e.status))throw new Qu(rr(e),e.status);let n;try{n=await e.json()}catch(i){throw new Ny(rr(i),i)}let r;const s=vC(e);if(s&&s.getTime()>=Ty["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Hp(rr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new mn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Hp(rr(n),e.status,n.weak_password.reasons);throw new Yj(rr(n),e.status||500,r)}const _C=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Y(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Yu]||(i[Yu]=Ty["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await kC(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function kC(e,t,n,r,s,i){const o=_C(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Qu(rr(l),0)}if(a.ok||await Qp(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Qp(l)}}function Ht(e){var t;let n=null;PC(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=oC(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Jp(e){const t=Ht(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function kn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function jC(e){return{data:e,error:null}}function CC(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=bC(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function EC(e){return e}function PC(e){return e.access_token&&e.refresh_token&&e.expires_in}const vc=["global","local","others"];var TC=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class NC{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Iy(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=vc[0]){if(vc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vc.join(", ")}`);try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:kn})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=TC(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:CC,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(K(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:kn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:EC});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);c[`${b}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(K(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Ar(t);try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:kn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ar(t);try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:kn})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ar(t);try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:kn})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ar(t.userId);try{const{data:n,error:r}=await Y(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(K(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ar(t.userId),Ar(t.id);try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}}function Xp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function AC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rr={debug:!!(globalThis&&Ry()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Oy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class RC extends Oy{}async function IC(e,t,n){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new RC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}AC();const OC={url:zj,storageKey:Hj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zp(e,t,n){return await n()}const Ir={};class Mi{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mi.nextInstanceID,Mi.nextInstanceID+=1,this.instanceID>0&&_t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},OC),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new NC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Iy(s.fetch),this.lock=s.lock||Zp,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:_t()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=IC:this.lock=Zp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ry()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xp(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Xp(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Ir[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ir[this.storageKey]=Object.assign(Object.assign({},Ir[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ir[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ir[this.storageKey]=Object.assign(Object.assign({},Ir[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Py}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=lC(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),_t()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Xj(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return K(n)?{error:n}:{error:new Ny("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ht}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Nr(this.storage,this.storageKey)),i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:x},xform:Ht})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ht})}else throw new Po("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Jp})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Jp})}else throw new Po("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Eo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,a,l,c,d,f,h,m;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:b,wallet:w,statement:y,options:g}=t;let S;if(_t())if(typeof w=="object")S=w;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))S=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const _=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const j=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),y?{statement:y}:null));let k;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")k=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)k=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)x=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),v=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const j=await S.signMessage(new TextEncoder().encode(x),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=j}}try{const{data:b,error:w}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:iC(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ht});if(w)throw w;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Eo}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:w})}catch(b){if(K(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await Zn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ht});if(await hn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Eo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(K(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ht}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Eo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Nr(this.storage,this.storageKey));const{error:f}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Po("You must provide either an email or phone number.")}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ht});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Nr(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:jC})}catch(i){if(K(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new mn;const{error:s}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(K(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await Y(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await Y(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Po("You must provide either an email or phone number and a type")}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<hc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Zn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=gc()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:kn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mn}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:kn})})}catch(n){if(K(n))return Jj(n)&&(await this._removeSession(),await hn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new mn;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Nr(this.storage,this.storageKey));const{data:c,error:d}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:kn});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new mn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=mc(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(K(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new mn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!_t())throw new To("No browser detected.");if(t.error||t.error_description||t.error_code)throw new To(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new zp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new To("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zp("No code detected.");const{data:y,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new To("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;l&&(h=parseInt(l));const m=h-d;m*1e3<=Dr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:v,error:b}=await this._getUser(i);if(b)throw b;const w={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(r){if(K(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Zn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Qj(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await hn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=aC(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Nr(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(K(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return _t()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(K(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await dC(async s=>(s>0&&await uC(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ht})),(s,i)=>{const o=200*Math.pow(2,s);return i&&pc(i)&&Date.now()+o-r<Dr})}catch(r){if(this._debug(n,"error",r),K(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),_t()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Zn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Zn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await $r(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:gc()}else if(s&&!s.user&&!s.user){const o=await Zn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await hn(this.storage,this.storageKey+"-user"),await $r(this.storage,this.storageKey,s)):s.user=gc()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<hc;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${hc}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),pc(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new yl;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new mn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),K(i)){const o={session:null,error:i};return pc(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await $r(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Yp(s);await $r(this.storage,this.storageKey,i)}else{const s=Yp(n);await $r(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await hn(this.storage,this.storageKey),await hn(this.storage,this.storageKey+"-code-verifier"),await hn(this.storage,this.storageKey+"-user"),this.userStorage&&await hn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&_t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Dr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Dr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Dr}ms, refresh threshold is ${qu} ticks`),s<=qu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Oy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Nr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Y(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mc(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+qj>s)return r;const{data:i,error:o}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=mc(r);n!=null&&n.allowExpired||yC(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=xC(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,sC(`${a}.${l}`)))throw new Ju("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}}Mi.nextInstanceID=0;const MC=Mi;class LC extends MC{constructor(t){super(t)}}var DC=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class $C{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Bj(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Oj,realtime:Lj,auth:Object.assign(Object.assign({},Mj),{storageKey:c}),global:Ij},f=Wj(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Uj(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new nj(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Rk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Nj(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return DC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LC({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new vj(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FC=(e,t,n)=>new $C(e,t,n),UC="https://kuqiblpyfyutjvqepioj.supabase.co",VC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt1cWlibHB5Znl1dGp2cWVwaW9qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI1NTMzMjIsImV4cCI6MjA2ODEyOTMyMn0.x6hdLZZkIZYTtLDYzZgr_eAf4YLOEnITgB1VyrxRSh0",G=FC(UC,VC);function Z(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function em(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xl(...e){return t=>{let n=!1;const r=e.map(s=>{const i=em(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():em(e[s],null)}}}}function Xe(...e){return p.useCallback(xl(...e),e)}function Ji(e,t=[]){let n=[];function r(i,o){const a=p.createContext(o),l=n.length;n=[...n,o];const c=f=>{var w;const{scope:h,children:m,...x}=f,v=((w=h==null?void 0:h[e])==null?void 0:w[l])||a,b=p.useMemo(()=>x,Object.values(x));return u.jsx(v.Provider,{value:b,children:m})};c.displayName=i+"Provider";function d(f,h){var v;const m=((v=h==null?void 0:h[e])==null?void 0:v[l])||a,x=p.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,BC(s,...t)]}function BC(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var xr=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},WC=jd[" useInsertionEffect ".trim().toString()]||xr;function My({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=zC({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=p.useCallback(d=>{var f;if(a){const h=HC(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[a,e,i,o]);return[l,c]}function zC({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),i=p.useRef(t);return WC(()=>{i.current=t},[t]),p.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function HC(e){return typeof e=="function"}function Ia(e){const t=GC(e),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,a=p.Children.toArray(i),l=a.find(qC);if(l){const c=l.props.children,d=a.map(f=>f===l?p.Children.count(c)>1?p.Children.only(null):p.isValidElement(c)?c.props.children:null:f);return u.jsx(t,{...o,ref:s,children:p.isValidElement(c)?p.cloneElement(c,void 0,d):null})}return u.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function GC(e){const t=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=QC(s),a=YC(i,s.props);return s.type!==p.Fragment&&(a.ref=r?xl(r,o):o),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var KC=Symbol("radix.slottable");function qC(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===KC}function YC(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function QC(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var JC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],et=JC.reduce((e,t)=>{const n=Ia(`Primitive.${t}`),r=p.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ly(e,t){e&&vf.flushSync(()=>e.dispatchEvent(t))}function Dy(e){const t=e+"CollectionProvider",[n,r]=Ji(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:b,children:w}=v,y=Ne.useRef(null),g=Ne.useRef(new Map).current;return u.jsx(s,{scope:b,itemMap:g,collectionRef:y,children:w})};o.displayName=t;const a=e+"CollectionSlot",l=Ia(a),c=Ne.forwardRef((v,b)=>{const{scope:w,children:y}=v,g=i(a,w),S=Xe(b,g.collectionRef);return u.jsx(l,{ref:S,children:y})});c.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Ia(d),m=Ne.forwardRef((v,b)=>{const{scope:w,children:y,...g}=v,S=Ne.useRef(null),_=Xe(b,S),j=i(d,w);return Ne.useEffect(()=>(j.itemMap.set(S,{ref:S,...g}),()=>void j.itemMap.delete(S))),u.jsx(h,{[f]:"",ref:_,children:y})});m.displayName=d;function x(v){const b=i(e+"CollectionConsumer",v);return Ne.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const g=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((j,k)=>g.indexOf(j.ref.current)-g.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},x,r]}var XC=p.createContext(void 0);function $y(e){const t=p.useContext(XC);return e||t||"ltr"}function on(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function ZC(e,t=globalThis==null?void 0:globalThis.document){const n=on(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var eE="DismissableLayer",Xu="dismissableLayer.update",tE="dismissableLayer.pointerDownOutside",nE="dismissableLayer.focusOutside",tm,Fy=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uy=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,c=p.useContext(Fy),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),x=Xe(t,k=>f(k)),v=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(b),y=d?v.indexOf(d):-1,g=c.layersWithOutsidePointerEventsDisabled.size>0,S=y>=w,_=iE(k=>{const C=k.target,A=[...c.branches].some(E=>E.contains(C));!S||A||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},h),j=oE(k=>{const C=k.target;[...c.branches].some(E=>E.contains(C))||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},h);return ZC(k=>{y===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),p.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(tm=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),nm(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=tm)}},[d,h,n,c]),p.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),nm())},[d,c]),p.useEffect(()=>{const k=()=>m({});return document.addEventListener(Xu,k),()=>document.removeEventListener(Xu,k)},[]),u.jsx(et.div,{...l,ref:x,style:{pointerEvents:g?S?"auto":"none":void 0,...e.style},onFocusCapture:Z(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Z(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Z(e.onPointerDownCapture,_.onPointerDownCapture)})});Uy.displayName=eE;var rE="DismissableLayerBranch",sE=p.forwardRef((e,t)=>{const n=p.useContext(Fy),r=p.useRef(null),s=Xe(t,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(et.div,{...e,ref:s})});sE.displayName=rE;function iE(e,t=globalThis==null?void 0:globalThis.document){const n=on(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Vy(tE,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function oE(e,t=globalThis==null?void 0:globalThis.document){const n=on(e),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&Vy(nE,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function nm(){const e=new CustomEvent(Xu);document.dispatchEvent(e)}function Vy(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Ly(s,i):s.dispatchEvent(i)}var yc=0;function aE(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??rm()),document.body.insertAdjacentElement("beforeend",e[1]??rm()),yc++,()=>{yc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),yc--}},[])}function rm(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var xc="focusScope.autoFocusOnMount",wc="focusScope.autoFocusOnUnmount",sm={bubbles:!1,cancelable:!0},lE="FocusScope",By=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=p.useState(null),c=on(s),d=on(i),f=p.useRef(null),h=Xe(t,v=>l(v)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(g){if(m.paused||!a)return;const S=g.target;a.contains(S)?f.current=S:gn(f.current,{select:!0})},b=function(g){if(m.paused||!a)return;const S=g.relatedTarget;S!==null&&(a.contains(S)||gn(f.current,{select:!0}))},w=function(g){if(document.activeElement===document.body)for(const _ of g)_.removedNodes.length>0&&gn(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const y=new MutationObserver(w);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),y.disconnect()}}},[r,a,m.paused]),p.useEffect(()=>{if(a){om.add(m);const v=document.activeElement;if(!a.contains(v)){const w=new CustomEvent(xc,sm);a.addEventListener(xc,c),a.dispatchEvent(w),w.defaultPrevented||(cE(pE(Wy(a)),{select:!0}),document.activeElement===v&&gn(a))}return()=>{a.removeEventListener(xc,c),setTimeout(()=>{const w=new CustomEvent(wc,sm);a.addEventListener(wc,d),a.dispatchEvent(w),w.defaultPrevented||gn(v??document.body,{select:!0}),a.removeEventListener(wc,d),om.remove(m)},0)}}},[a,c,d,m]);const x=p.useCallback(v=>{if(!n&&!r||m.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(b&&w){const y=v.currentTarget,[g,S]=uE(y);g&&S?!v.shiftKey&&w===S?(v.preventDefault(),n&&gn(g,{select:!0})):v.shiftKey&&w===g&&(v.preventDefault(),n&&gn(S,{select:!0})):w===y&&v.preventDefault()}},[n,r,m.paused]);return u.jsx(et.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});By.displayName=lE;function cE(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(gn(r,{select:t}),document.activeElement!==n)return}function uE(e){const t=Wy(e),n=im(t,e),r=im(t.reverse(),e);return[n,r]}function Wy(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function im(e,t){for(const n of e)if(!dE(n,{upTo:t}))return n}function dE(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function fE(e){return e instanceof HTMLInputElement&&"select"in e}function gn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&fE(e)&&t&&e.select()}}var om=hE();function hE(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=am(e,t),e.unshift(t)},remove(t){var n;e=am(e,t),(n=e[0])==null||n.resume()}}}function am(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function pE(e){return e.filter(t=>t.tagName!=="A")}var mE=jd[" useId ".trim().toString()]||(()=>{}),gE=0;function Zu(e){const[t,n]=p.useState(mE());return xr(()=>{e||n(r=>r??String(gE++))},[e]),e||(t?`radix-${t}`:"")}const vE=["top","right","bottom","left"],Bn=Math.min,rt=Math.max,Oa=Math.round,No=Math.floor,Vt=e=>({x:e,y:e}),yE={left:"right",right:"left",bottom:"top",top:"bottom"},xE={start:"end",end:"start"};function ed(e,t,n){return rt(e,Bn(t,n))}function an(e,t){return typeof e=="function"?e(t):e}function ln(e){return e.split("-")[0]}function Ns(e){return e.split("-")[1]}function Ef(e){return e==="x"?"y":"x"}function Pf(e){return e==="y"?"height":"width"}const wE=new Set(["top","bottom"]);function $t(e){return wE.has(ln(e))?"y":"x"}function Tf(e){return Ef($t(e))}function bE(e,t,n){n===void 0&&(n=!1);const r=Ns(e),s=Tf(e),i=Pf(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Ma(o)),[o,Ma(o)]}function SE(e){const t=Ma(e);return[td(e),t,td(t)]}function td(e){return e.replace(/start|end/g,t=>xE[t])}const lm=["left","right"],cm=["right","left"],_E=["top","bottom"],kE=["bottom","top"];function jE(e,t,n){switch(e){case"top":case"bottom":return n?t?cm:lm:t?lm:cm;case"left":case"right":return t?_E:kE;default:return[]}}function CE(e,t,n,r){const s=Ns(e);let i=jE(ln(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(td)))),i}function Ma(e){return e.replace(/left|right|bottom|top/g,t=>yE[t])}function EE(e){return{top:0,right:0,bottom:0,left:0,...e}}function zy(e){return typeof e!="number"?EE(e):{top:e,right:e,bottom:e,left:e}}function La(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function um(e,t,n){let{reference:r,floating:s}=e;const i=$t(t),o=Tf(t),a=Pf(o),l=ln(t),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Ns(t)){case"start":m[o]-=h*(n&&c?-1:1);break;case"end":m[o]+=h*(n&&c?-1:1);break}return m}const PE=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=um(c,r,l),h=r,m={},x=0;for(let v=0;v<a.length;v++){const{name:b,fn:w}=a[v],{x:y,y:g,data:S,reset:_}=await w({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:e,floating:t}});d=y??d,f=g??f,m={...m,[b]:{...m[b],...S}},_&&x<=50&&(x++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(c=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=um(c,h,l)),v=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Li(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=an(t,e),x=zy(m),b=a[h?f==="floating"?"reference":"floating":f],w=La(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,g=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(g))?await(i.getScale==null?void 0:i.getScale(g))||{x:1,y:1}:{x:1,y:1},_=La(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:g,strategy:l}):y);return{top:(w.top-_.top+x.top)/S.y,bottom:(_.bottom-w.bottom+x.bottom)/S.y,left:(w.left-_.left+x.left)/S.x,right:(_.right-w.right+x.right)/S.x}}const TE=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=an(e,t)||{};if(c==null)return{};const f=zy(d),h={x:n,y:r},m=Tf(s),x=Pf(m),v=await o.getDimensions(c),b=m==="y",w=b?"top":"left",y=b?"bottom":"right",g=b?"clientHeight":"clientWidth",S=i.reference[x]+i.reference[m]-h[m]-i.floating[x],_=h[m]-i.reference[m],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=j?j[g]:0;(!k||!await(o.isElement==null?void 0:o.isElement(j)))&&(k=a.floating[g]||i.floating[x]);const C=S/2-_/2,A=k/2-v[x]/2-1,E=Bn(f[w],A),M=Bn(f[y],A),U=E,B=k-v[x]-M,V=k/2-v[x]/2+C,X=ed(U,V,B),O=!l.arrow&&Ns(s)!=null&&V!==X&&i.reference[x]/2-(V<U?E:M)-v[x]/2<0,R=O?V<U?V-U:V-B:0;return{[m]:h[m]+R,data:{[m]:X,centerOffset:V-X-R,...O&&{alignmentOffset:R}},reset:O}}}),NE=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...b}=an(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=ln(s),y=$t(a),g=ln(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=h||(g||!v?[Ma(a)]:SE(a)),j=x!=="none";!h&&j&&_.push(...CE(a,v,x,S));const k=[a,..._],C=await Li(t,b),A=[];let E=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(C[w]),f){const V=bE(s,o,S);A.push(C[V[0]],C[V[1]])}if(E=[...E,{placement:s,overflows:A}],!A.every(V=>V<=0)){var M,U;const V=(((M=i.flip)==null?void 0:M.index)||0)+1,X=k[V];if(X&&(!(f==="alignment"?y!==$t(X):!1)||E.every(P=>P.overflows[0]>0&&$t(P.placement)===y)))return{data:{index:V,overflows:E},reset:{placement:X}};let O=(U=E.filter(R=>R.overflows[0]<=0).sort((R,P)=>R.overflows[1]-P.overflows[1])[0])==null?void 0:U.placement;if(!O)switch(m){case"bestFit":{var B;const R=(B=E.filter(P=>{if(j){const N=$t(P.placement);return N===y||N==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(N=>N>0).reduce((N,L)=>N+L,0)]).sort((P,N)=>P[1]-N[1])[0])==null?void 0:B[0];R&&(O=R);break}case"initialPlacement":O=a;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function dm(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function fm(e){return vE.some(t=>e[t]>=0)}const AE=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=an(e,t);switch(r){case"referenceHidden":{const i=await Li(t,{...s,elementContext:"reference"}),o=dm(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:fm(o)}}}case"escaped":{const i=await Li(t,{...s,altBoundary:!0}),o=dm(i,n.floating);return{data:{escapedOffsets:o,escaped:fm(o)}}}default:return{}}}}},Hy=new Set(["left","top"]);async function RE(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ln(n),a=Ns(n),l=$t(n)==="y",c=Hy.has(o)?-1:1,d=i&&l?-1:1,f=an(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(m=a==="end"?x*-1:x),l?{x:m*d,y:h*c}:{x:h*c,y:m*d}}const IE=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await RE(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},OE=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:w,y}=b;return{x:w,y}}},...l}=an(e,t),c={x:n,y:r},d=await Li(t,l),f=$t(ln(s)),h=Ef(f);let m=c[h],x=c[f];if(i){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=m+d[b],g=m-d[w];m=ed(y,m,g)}if(o){const b=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=x+d[b],g=x-d[w];x=ed(y,x,g)}const v=a.fn({...t,[h]:m,[f]:x});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:i,[f]:o}}}}}},ME=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=an(e,t),d={x:n,y:r},f=$t(s),h=Ef(f);let m=d[h],x=d[f];const v=an(a,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const g=h==="y"?"height":"width",S=i.reference[h]-i.floating[g]+b.mainAxis,_=i.reference[h]+i.reference[g]-b.mainAxis;m<S?m=S:m>_&&(m=_)}if(c){var w,y;const g=h==="y"?"width":"height",S=Hy.has(ln(s)),_=i.reference[f]-i.floating[g]+(S&&((w=o.offset)==null?void 0:w[f])||0)+(S?0:b.crossAxis),j=i.reference[f]+i.reference[g]+(S?0:((y=o.offset)==null?void 0:y[f])||0)-(S?b.crossAxis:0);x<_?x=_:x>j&&(x=j)}return{[h]:m,[f]:x}}}},LE=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...c}=an(e,t),d=await Li(t,c),f=ln(s),h=Ns(s),m=$t(s)==="y",{width:x,height:v}=i.floating;let b,w;f==="top"||f==="bottom"?(b=f,w=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,b=h==="end"?"top":"bottom");const y=v-d.top-d.bottom,g=x-d.left-d.right,S=Bn(v-d[b],y),_=Bn(x-d[w],g),j=!t.middlewareData.shift;let k=S,C=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=g),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=y),j&&!h){const E=rt(d.left,0),M=rt(d.right,0),U=rt(d.top,0),B=rt(d.bottom,0);m?C=x-2*(E!==0||M!==0?E+M:rt(d.left,d.right)):k=v-2*(U!==0||B!==0?U+B:rt(d.top,d.bottom))}await l({...t,availableWidth:C,availableHeight:k});const A=await o.getDimensions(a.floating);return x!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function wl(){return typeof window<"u"}function As(e){return Gy(e)?(e.nodeName||"").toLowerCase():"#document"}function ot(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function zt(e){var t;return(t=(Gy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Gy(e){return wl()?e instanceof Node||e instanceof ot(e).Node:!1}function Rt(e){return wl()?e instanceof Element||e instanceof ot(e).Element:!1}function Wt(e){return wl()?e instanceof HTMLElement||e instanceof ot(e).HTMLElement:!1}function hm(e){return!wl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ot(e).ShadowRoot}const DE=new Set(["inline","contents"]);function Xi(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=It(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!DE.has(s)}const $E=new Set(["table","td","th"]);function FE(e){return $E.has(As(e))}const UE=[":popover-open",":modal"];function bl(e){return UE.some(t=>{try{return e.matches(t)}catch{return!1}})}const VE=["transform","translate","scale","rotate","perspective"],BE=["transform","translate","scale","rotate","perspective","filter"],WE=["paint","layout","strict","content"];function Nf(e){const t=Af(),n=Rt(e)?It(e):e;return VE.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||BE.some(r=>(n.willChange||"").includes(r))||WE.some(r=>(n.contain||"").includes(r))}function zE(e){let t=Wn(e);for(;Wt(t)&&!ys(t);){if(Nf(t))return t;if(bl(t))return null;t=Wn(t)}return null}function Af(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const HE=new Set(["html","body","#document"]);function ys(e){return HE.has(As(e))}function It(e){return ot(e).getComputedStyle(e)}function Sl(e){return Rt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wn(e){if(As(e)==="html")return e;const t=e.assignedSlot||e.parentNode||hm(e)&&e.host||zt(e);return hm(t)?t.host:t}function Ky(e){const t=Wn(e);return ys(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wt(t)&&Xi(t)?t:Ky(t)}function Di(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Ky(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=ot(s);if(i){const a=nd(o);return t.concat(o,o.visualViewport||[],Xi(s)?s:[],a&&n?Di(a):[])}return t.concat(s,Di(s,[],n))}function nd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function qy(e){const t=It(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Wt(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=Oa(n)!==i||Oa(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Rf(e){return Rt(e)?e:e.contextElement}function ls(e){const t=Rf(e);if(!Wt(t))return Vt(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=qy(t);let o=(i?Oa(n.width):n.width)/r,a=(i?Oa(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const GE=Vt(0);function Yy(e){const t=ot(e);return!Af()||!t.visualViewport?GE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function KE(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ot(e)?!1:t}function wr(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Rf(e);let o=Vt(1);t&&(r?Rt(r)&&(o=ls(r)):o=ls(e));const a=KE(i,n,r)?Yy(i):Vt(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=ot(i),m=r&&Rt(r)?ot(r):r;let x=h,v=nd(x);for(;v&&r&&m!==x;){const b=ls(v),w=v.getBoundingClientRect(),y=It(v),g=w.left+(v.clientLeft+parseFloat(y.paddingLeft))*b.x,S=w.top+(v.clientTop+parseFloat(y.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,f*=b.y,l+=g,c+=S,x=ot(v),v=nd(x)}}return La({width:d,height:f,x:l,y:c})}function If(e,t){const n=Sl(e).scrollLeft;return t?t.left+n:wr(zt(e)).left+n}function Qy(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:If(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function qE(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=zt(r),a=t?bl(t.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Vt(1);const d=Vt(0),f=Wt(r);if((f||!f&&!i)&&((As(r)!=="body"||Xi(o))&&(l=Sl(r)),Wt(r))){const m=wr(r);c=ls(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=o&&!f&&!i?Qy(o,l,!0):Vt(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function YE(e){return Array.from(e.getClientRects())}function QE(e){const t=zt(e),n=Sl(e),r=e.ownerDocument.body,s=rt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=rt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+If(e);const a=-n.scrollTop;return It(r).direction==="rtl"&&(o+=rt(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function JE(e,t){const n=ot(e),r=zt(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Af();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const XE=new Set(["absolute","fixed"]);function ZE(e,t){const n=wr(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Wt(e)?ls(e):Vt(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function pm(e,t,n){let r;if(t==="viewport")r=JE(e,n);else if(t==="document")r=QE(zt(e));else if(Rt(t))r=ZE(t,n);else{const s=Yy(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return La(r)}function Jy(e,t){const n=Wn(e);return n===t||!Rt(n)||ys(n)?!1:It(n).position==="fixed"||Jy(n,t)}function eP(e,t){const n=t.get(e);if(n)return n;let r=Di(e,[],!1).filter(a=>Rt(a)&&As(a)!=="body"),s=null;const i=It(e).position==="fixed";let o=i?Wn(e):e;for(;Rt(o)&&!ys(o);){const a=It(o),l=Nf(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&XE.has(s.position)||Xi(o)&&!l&&Jy(e,o))?r=r.filter(d=>d!==o):s=a,o=Wn(o)}return t.set(e,r),r}function tP(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?bl(t)?[]:eP(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=pm(t,d,s);return c.top=rt(f.top,c.top),c.right=Bn(f.right,c.right),c.bottom=Bn(f.bottom,c.bottom),c.left=rt(f.left,c.left),c},pm(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nP(e){const{width:t,height:n}=qy(e);return{width:t,height:n}}function rP(e,t,n){const r=Wt(t),s=zt(t),i=n==="fixed",o=wr(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Vt(0);function c(){l.x=If(s)}if(r||!r&&!i)if((As(t)!=="body"||Xi(s))&&(a=Sl(t)),r){const m=wr(t,!0,i,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?Qy(s,a):Vt(0),f=o.left+a.scrollLeft-l.x-d.x,h=o.top+a.scrollTop-l.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function bc(e){return It(e).position==="static"}function mm(e,t){if(!Wt(e)||It(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return zt(e)===n&&(n=n.ownerDocument.body),n}function Xy(e,t){const n=ot(e);if(bl(e))return n;if(!Wt(e)){let s=Wn(e);for(;s&&!ys(s);){if(Rt(s)&&!bc(s))return s;s=Wn(s)}return n}let r=mm(e,t);for(;r&&FE(r)&&bc(r);)r=mm(r,t);return r&&ys(r)&&bc(r)&&!Nf(r)?n:r||zE(e)||n}const sP=async function(e){const t=this.getOffsetParent||Xy,n=this.getDimensions,r=await n(e.floating);return{reference:rP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function iP(e){return It(e).direction==="rtl"}const oP={convertOffsetParentRelativeRectToViewportRelativeRect:qE,getDocumentElement:zt,getClippingRect:tP,getOffsetParent:Xy,getElementRects:sP,getClientRects:YE,getDimensions:nP,getScale:ls,isElement:Rt,isRTL:iP};function Zy(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function aP(e,t){let n=null,r;const s=zt(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=c;if(a||t(),!h||!m)return;const x=No(f),v=No(s.clientWidth-(d+h)),b=No(s.clientHeight-(f+m)),w=No(d),g={rootMargin:-x+"px "+-v+"px "+-b+"px "+-w+"px",threshold:rt(0,Bn(1,l))||1};let S=!0;function _(j){const k=j[0].intersectionRatio;if(k!==l){if(!S)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!Zy(c,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(_,{...g,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,g)}n.observe(e)}return o(!0),i}function lP(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Rf(e),d=s||i?[...c?Di(c):[],...Di(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=c&&a?aP(c,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(w=>{let[y]=w;y&&y.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var g;(g=m)==null||g.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let x,v=l?wr(e):null;l&&b();function b(){const w=wr(e);v&&!Zy(v,w)&&n(),v=w,x=requestAnimationFrame(b)}return n(),()=>{var w;d.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(w=m)==null||w.disconnect(),m=null,l&&cancelAnimationFrame(x)}}const cP=IE,uP=OE,dP=NE,fP=LE,hP=AE,gm=TE,pP=ME,mP=(e,t,n)=>{const r=new Map,s={platform:oP,...n},i={...s.platform,_c:r};return PE(e,t,{...s,platform:i})};var gP=typeof document<"u",vP=function(){},ea=gP?p.useLayoutEffect:vP;function Da(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Da(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Da(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function ex(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function vm(e,t){const n=ex(e);return Math.round(t*n)/n}function Sc(e){const t=p.useRef(e);return ea(()=>{t.current=e}),t}function yP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);Da(h,r)||m(r);const[x,v]=p.useState(null),[b,w]=p.useState(null),y=p.useCallback(P=>{P!==j.current&&(j.current=P,v(P))},[]),g=p.useCallback(P=>{P!==k.current&&(k.current=P,w(P))},[]),S=i||x,_=o||b,j=p.useRef(null),k=p.useRef(null),C=p.useRef(d),A=l!=null,E=Sc(l),M=Sc(s),U=Sc(c),B=p.useCallback(()=>{if(!j.current||!k.current)return;const P={placement:t,strategy:n,middleware:h};M.current&&(P.platform=M.current),mP(j.current,k.current,P).then(N=>{const L={...N,isPositioned:U.current!==!1};V.current&&!Da(C.current,L)&&(C.current=L,vf.flushSync(()=>{f(L)}))})},[h,t,n,M,U]);ea(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[c]);const V=p.useRef(!1);ea(()=>(V.current=!0,()=>{V.current=!1}),[]),ea(()=>{if(S&&(j.current=S),_&&(k.current=_),S&&_){if(E.current)return E.current(S,_,B);B()}},[S,_,B,E,A]);const X=p.useMemo(()=>({reference:j,floating:k,setReference:y,setFloating:g}),[y,g]),O=p.useMemo(()=>({reference:S,floating:_}),[S,_]),R=p.useMemo(()=>{const P={position:n,left:0,top:0};if(!O.floating)return P;const N=vm(O.floating,d.x),L=vm(O.floating,d.y);return a?{...P,transform:"translate("+N+"px, "+L+"px)",...ex(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:N,top:L}},[n,a,O.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:B,refs:X,elements:O,floatingStyles:R}),[d,B,X,O,R])}const xP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?gm({element:r.current,padding:s}).fn(n):{}:r?gm({element:r,padding:s}).fn(n):{}}}},wP=(e,t)=>({...cP(e),options:[e,t]}),bP=(e,t)=>({...uP(e),options:[e,t]}),SP=(e,t)=>({...pP(e),options:[e,t]}),_P=(e,t)=>({...dP(e),options:[e,t]}),kP=(e,t)=>({...fP(e),options:[e,t]}),jP=(e,t)=>({...hP(e),options:[e,t]}),CP=(e,t)=>({...xP(e),options:[e,t]});var EP="Arrow",tx=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return u.jsx(et.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});tx.displayName=EP;var PP=tx;function TP(e){const[t,n]=p.useState(void 0);return xr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Of="Popper",[nx,rx]=Ji(Of),[NP,sx]=nx(Of),ix=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return u.jsx(NP,{scope:t,anchor:r,onAnchorChange:s,children:n})};ix.displayName=Of;var ox="PopperAnchor",ax=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=sx(ox,n),o=p.useRef(null),a=Xe(t,o);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(et.div,{...s,ref:a})});ax.displayName=ox;var Mf="PopperContent",[AP,RP]=nx(Mf),lx=p.forwardRef((e,t)=>{var se,ie,te,we,Pe,Os;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...v}=e,b=sx(Mf,n),[w,y]=p.useState(null),g=Xe(t,Ms=>y(Ms)),[S,_]=p.useState(null),j=TP(S),k=(j==null?void 0:j.width)??0,C=(j==null?void 0:j.height)??0,A=r+(i!=="center"?"-"+i:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(c)?c:[c],U=M.length>0,B={padding:E,boundary:M.filter(OP),altBoundary:U},{refs:V,floatingStyles:X,placement:O,isPositioned:R,middlewareData:P}=yP({strategy:"fixed",placement:A,whileElementsMounted:(...Ms)=>lP(...Ms,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[wP({mainAxis:s+C,alignmentAxis:o}),l&&bP({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?SP():void 0,...B}),l&&_P({...B}),kP({...B,apply:({elements:Ms,rects:fh,availableWidth:A1,availableHeight:R1})=>{const{width:I1,height:O1}=fh.reference,lo=Ms.floating.style;lo.setProperty("--radix-popper-available-width",`${A1}px`),lo.setProperty("--radix-popper-available-height",`${R1}px`),lo.setProperty("--radix-popper-anchor-width",`${I1}px`),lo.setProperty("--radix-popper-anchor-height",`${O1}px`)}}),S&&CP({element:S,padding:a}),MP({arrowWidth:k,arrowHeight:C}),h&&jP({strategy:"referenceHidden",...B})]}),[N,L]=dx(O),$=on(x);xr(()=>{R&&($==null||$())},[R,$]);const T=(se=P.arrow)==null?void 0:se.x,D=(ie=P.arrow)==null?void 0:ie.y,z=((te=P.arrow)==null?void 0:te.centerOffset)!==0,[q,J]=p.useState();return xr(()=>{w&&J(window.getComputedStyle(w).zIndex)},[w]),u.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:R?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(we=P.transformOrigin)==null?void 0:we.x,(Pe=P.transformOrigin)==null?void 0:Pe.y].join(" "),...((Os=P.hide)==null?void 0:Os.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(AP,{scope:n,placedSide:N,onArrowChange:_,arrowX:T,arrowY:D,shouldHideArrow:z,children:u.jsx(et.div,{"data-side":N,"data-align":L,...v,ref:g,style:{...v.style,animation:R?void 0:"none"}})})})});lx.displayName=Mf;var cx="PopperArrow",IP={top:"bottom",right:"left",bottom:"top",left:"right"},ux=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=RP(cx,r),o=IP[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(PP,{...s,ref:n,style:{...s.style,display:"block"}})})});ux.displayName=cx;function OP(e){return e!==null}var MP=e=>({name:"transformOrigin",options:e,fn(t){var b,w,y;const{placement:n,rects:r,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,d]=dx(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let x="",v="";return c==="bottom"?(x=o?f:`${h}px`,v=`${-l}px`):c==="top"?(x=o?f:`${h}px`,v=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,v=o?f:`${m}px`):c==="left"&&(x=`${r.floating.width+l}px`,v=o?f:`${m}px`),{data:{x,y:v}}}});function dx(e){const[t,n="center"]=e.split("-");return[t,n]}var LP=ix,DP=ax,$P=lx,FP=ux;function UP(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var _l=e=>{const{present:t,children:n}=e,r=VP(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=Xe(r.ref,BP(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};_l.displayName="Presence";function VP(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[a,l]=UP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=Ao(r.current);i.current=a==="mounted"?c:"none"},[a]),xr(()=>{const c=r.current,d=s.current;if(d!==e){const h=i.current,m=Ao(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),xr(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=m=>{const v=Ao(r.current).includes(m.animationName);if(m.target===t&&v&&(l("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=m=>{m.target===t&&(i.current=Ao(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Ao(e){return(e==null?void 0:e.animationName)||"none"}function BP(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _c="rovingFocusGroup.onEntryFocus",WP={bubbles:!1,cancelable:!0},Zi="RovingFocusGroup",[rd,fx,zP]=Dy(Zi),[HP,hx]=Ji(Zi,[zP]),[GP,KP]=HP(Zi),px=p.forwardRef((e,t)=>u.jsx(rd.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(rd.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(qP,{...e,ref:t})})}));px.displayName=Zi;var qP=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=Xe(t,h),x=$y(i),[v,b]=My({prop:o,defaultProp:a??null,onChange:l,caller:Zi}),[w,y]=p.useState(!1),g=on(c),S=fx(n),_=p.useRef(!1),[j,k]=p.useState(0);return p.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(_c,g),()=>C.removeEventListener(_c,g)},[g]),u.jsx(GP,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:v,onItemFocus:p.useCallback(C=>b(C),[b]),onItemShiftTab:p.useCallback(()=>y(!0),[]),onFocusableItemAdd:p.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>k(C=>C-1),[]),children:u.jsx(et.div,{tabIndex:w||j===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Z(e.onMouseDown,()=>{_.current=!0}),onFocus:Z(e.onFocus,C=>{const A=!_.current;if(C.target===C.currentTarget&&A&&!w){const E=new CustomEvent(_c,WP);if(C.currentTarget.dispatchEvent(E),!E.defaultPrevented){const M=S().filter(O=>O.focusable),U=M.find(O=>O.active),B=M.find(O=>O.id===v),X=[U,B,...M].filter(Boolean).map(O=>O.ref.current);vx(X,d)}}_.current=!1}),onBlur:Z(e.onBlur,()=>y(!1))})})}),mx="RovingFocusGroupItem",gx=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=e,l=Zu(),c=i||l,d=KP(mx,n),f=d.currentTabStopId===c,h=fx(n),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:v}=d;return p.useEffect(()=>{if(r)return m(),()=>x()},[r,m,x]),u.jsx(rd.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:u.jsx(et.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:Z(e.onMouseDown,b=>{r?d.onItemFocus(c):b.preventDefault()}),onFocus:Z(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Z(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const w=JP(b,d.orientation,d.dir);if(w!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let g=h().filter(S=>S.focusable).map(S=>S.ref.current);if(w==="last")g.reverse();else if(w==="prev"||w==="next"){w==="prev"&&g.reverse();const S=g.indexOf(b.currentTarget);g=d.loop?XP(g,S+1):g.slice(S+1)}setTimeout(()=>vx(g))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});gx.displayName=mx;var YP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function QP(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function JP(e,t,n){const r=QP(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return YP[r]}function vx(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function XP(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var ZP=px,eT=gx,tT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Or=new WeakMap,Ro=new WeakMap,Io={},kc=0,yx=function(e){return e&&(e.host||yx(e.parentNode))},nT=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=yx(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},rT=function(e,t,n,r){var s=nT(t,Array.isArray(e)?e:[e]);Io[n]||(Io[n]=new WeakMap);var i=Io[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),x=m!==null&&m!=="false",v=(Or.get(h)||0)+1,b=(i.get(h)||0)+1;Or.set(h,v),i.set(h,b),o.push(h),v===1&&x&&Ro.set(h,!0),b===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(t),a.clear(),kc++,function(){o.forEach(function(f){var h=Or.get(f)-1,m=i.get(f)-1;Or.set(f,h),i.set(f,m),h||(Ro.has(f)||f.removeAttribute(r),Ro.delete(f)),m||f.removeAttribute(n)}),kc--,kc||(Or=new WeakMap,Or=new WeakMap,Ro=new WeakMap,Io={})}},sT=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||tT(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),rT(r,s,n,"aria-hidden")):function(){return null}},Dt=function(){return Dt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Dt.apply(this,arguments)};function xx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function iT(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var ta="right-scroll-bar-position",na="width-before-scroll-bar",oT="with-scroll-bars-hidden",aT="--removed-body-scroll-bar-size";function jc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function lT(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var cT=typeof window<"u"?p.useLayoutEffect:p.useEffect,ym=new WeakMap;function uT(e,t){var n=lT(t||null,function(r){return e.forEach(function(s){return jc(s,r)})});return cT(function(){var r=ym.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||jc(a,null)}),i.forEach(function(a){s.has(a)||jc(a,o)})}ym.set(n,e)},[e]),n}function dT(e){return e}function fT(e,t){t===void 0&&(t=dT);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function hT(e){e===void 0&&(e={});var t=fT(null);return t.options=Dt({async:!0,ssr:!1},e),t}var wx=function(e){var t=e.sideCar,n=xx(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Dt({},n))};wx.isSideCarExport=!0;function pT(e,t){return e.useMedium(t),wx}var bx=hT(),Cc=function(){},kl=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Cc,onWheelCapture:Cc,onTouchMoveCapture:Cc}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,x=e.noIsolation,v=e.inert,b=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,g=e.gapMode,S=xx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,j=uT([n,t]),k=Dt(Dt({},S),s);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:bx,removeScrollBar:c,shards:f,noRelative:m,noIsolation:x,inert:v,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:g}),o?p.cloneElement(p.Children.only(a),Dt(Dt({},k),{ref:j})):p.createElement(y,Dt({},k,{className:l,ref:j}),a))});kl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kl.classNames={fullWidth:na,zeroRight:ta};var xm,mT=function(){if(xm)return xm;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=mT();return t&&e.setAttribute("nonce",t),e}function vT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function yT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var xT=function(){var e=0,t=null;return{add:function(n){e==0&&(t=gT())&&(vT(t,n),yT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},wT=function(){var e=xT();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Sx=function(){var e=wT(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},bT={left:0,top:0,right:0,gap:0},Ec=function(e){return parseInt(e||"",10)||0},ST=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Ec(n),Ec(r),Ec(s)]},_T=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return bT;var t=ST(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},kT=Sx(),cs="data-scroll-locked",jT=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(oT,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(cs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ta,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(na,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ta," .").concat(ta,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(na," .").concat(na,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(cs,`] {
    `).concat(aT,": ").concat(a,`px;
  }
`)},wm=function(){var e=parseInt(document.body.getAttribute(cs)||"0",10);return isFinite(e)?e:0},CT=function(){p.useEffect(function(){return document.body.setAttribute(cs,(wm()+1).toString()),function(){var e=wm()-1;e<=0?document.body.removeAttribute(cs):document.body.setAttribute(cs,e.toString())}},[])},ET=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;CT();var i=p.useMemo(function(){return _T(s)},[s]);return p.createElement(kT,{styles:jT(i,!t,s,n?"":"!important")})},sd=!1;if(typeof window<"u")try{var Oo=Object.defineProperty({},"passive",{get:function(){return sd=!0,!0}});window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{sd=!1}var Mr=sd?{passive:!1}:!1,PT=function(e){return e.tagName==="TEXTAREA"},_x=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!PT(e)&&n[t]==="visible")},TT=function(e){return _x(e,"overflowY")},NT=function(e){return _x(e,"overflowX")},bm=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=kx(e,r);if(s){var i=jx(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},AT=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},RT=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},kx=function(e,t){return e==="v"?TT(t):NT(t)},jx=function(e,t){return e==="v"?AT(t):RT(t)},IT=function(e,t){return e==="h"&&t==="rtl"?-1:1},OT=function(e,t,n,r,s){var i=IT(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,l=t.contains(a),c=!1,d=o>0,f=0,h=0;do{if(!a)break;var m=jx(e,a),x=m[0],v=m[1],b=m[2],w=v-b-i*x;(x||w)&&kx(e,a)&&(f+=w,h+=x);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(s&&Math.abs(f)<1||!s&&o>f)||!d&&(s&&Math.abs(h)<1||!s&&-o>h))&&(c=!0),c},Mo=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Sm=function(e){return[e.deltaX,e.deltaY]},_m=function(e){return e&&"current"in e?e.current:e},MT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},LT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},DT=0,Lr=[];function $T(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(DT++)[0],i=p.useState(Sx)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=iT([e.lockRef.current],(e.shards||[]).map(_m),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var w=Mo(v),y=n.current,g="deltaX"in v?v.deltaX:y[0]-w[0],S="deltaY"in v?v.deltaY:y[1]-w[1],_,j=v.target,k=Math.abs(g)>Math.abs(S)?"h":"v";if("touches"in v&&k==="h"&&j.type==="range")return!1;var C=bm(k,j);if(!C)return!0;if(C?_=k:(_=k==="v"?"h":"v",C=bm(k,j)),!C)return!1;if(!r.current&&"changedTouches"in v&&(g||S)&&(r.current=_),!_)return!0;var A=r.current||_;return OT(A,b,v,A==="h"?g:S,!0)},[]),l=p.useCallback(function(v){var b=v;if(!(!Lr.length||Lr[Lr.length-1]!==i)){var w="deltaY"in b?Sm(b):Mo(b),y=t.current.filter(function(_){return _.name===b.type&&(_.target===b.target||b.target===_.shadowParent)&&MT(_.delta,w)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var g=(o.current.shards||[]).map(_m).filter(Boolean).filter(function(_){return _.contains(b.target)}),S=g.length>0?a(b,g[0]):!o.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),c=p.useCallback(function(v,b,w,y){var g={name:v,delta:b,target:w,should:y,shadowParent:FT(w)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(S){return S!==g})},1)},[]),d=p.useCallback(function(v){n.current=Mo(v),r.current=void 0},[]),f=p.useCallback(function(v){c(v.type,Sm(v),v.target,a(v,e.lockRef.current))},[]),h=p.useCallback(function(v){c(v.type,Mo(v),v.target,a(v,e.lockRef.current))},[]);p.useEffect(function(){return Lr.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Mr),document.addEventListener("touchmove",l,Mr),document.addEventListener("touchstart",d,Mr),function(){Lr=Lr.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,Mr),document.removeEventListener("touchmove",l,Mr),document.removeEventListener("touchstart",d,Mr)}},[]);var m=e.removeScrollBar,x=e.inert;return p.createElement(p.Fragment,null,x?p.createElement(i,{styles:LT(s)}):null,m?p.createElement(ET,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function FT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const UT=pT(bx,$T);var Cx=p.forwardRef(function(e,t){return p.createElement(kl,Dt({},e,{ref:t,sideCar:UT}))});Cx.classNames=kl.classNames;const VT=Cx;var id=["Enter"," "],BT=["ArrowDown","PageUp","Home"],Ex=["ArrowUp","PageDown","End"],WT=[...BT,...Ex],zT={ltr:[...id,"ArrowRight"],rtl:[...id,"ArrowLeft"]},HT={ltr:["ArrowLeft"],rtl:["ArrowRight"]},eo="Menu",[$i,GT,KT]=Dy(eo),[jr,Px]=Ji(eo,[KT,rx,hx]),jl=rx(),Tx=hx(),[qT,Rs]=jr(eo),[YT,to]=jr(eo),Nx=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=e,a=jl(t),[l,c]=p.useState(null),d=p.useRef(!1),f=on(i),h=$y(s);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),u.jsx(LP,{...a,children:u.jsx(qT,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(YT,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};Nx.displayName=eo;var QT="MenuAnchor",Lf=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=jl(n);return u.jsx(DP,{...s,...r,ref:t})});Lf.displayName=QT;var JT="MenuPortal",[jM,Ax]=jr(JT,{forceMount:void 0}),vt="MenuContent",[XT,Df]=jr(vt),Rx=p.forwardRef((e,t)=>{const n=Ax(vt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Rs(vt,e.__scopeMenu),o=to(vt,e.__scopeMenu);return u.jsx($i.Provider,{scope:e.__scopeMenu,children:u.jsx(_l,{present:r||i.open,children:u.jsx($i.Slot,{scope:e.__scopeMenu,children:o.modal?u.jsx(ZT,{...s,ref:t}):u.jsx(e2,{...s,ref:t})})})})}),ZT=p.forwardRef((e,t)=>{const n=Rs(vt,e.__scopeMenu),r=p.useRef(null),s=Xe(t,r);return p.useEffect(()=>{const i=r.current;if(i)return sT(i)},[]),u.jsx($f,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Z(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),e2=p.forwardRef((e,t)=>{const n=Rs(vt,e.__scopeMenu);return u.jsx($f,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),t2=Ia("MenuContent.ScrollLock"),$f=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:x,...v}=e,b=Rs(vt,n),w=to(vt,n),y=jl(n),g=Tx(n),S=GT(n),[_,j]=p.useState(null),k=p.useRef(null),C=Xe(t,k,b.onContentChange),A=p.useRef(0),E=p.useRef(""),M=p.useRef(0),U=p.useRef(null),B=p.useRef("right"),V=p.useRef(0),X=x?VT:p.Fragment,O=x?{as:t2,allowPinchZoom:!0}:void 0,R=N=>{var se,ie;const L=E.current+N,$=S().filter(te=>!te.disabled),T=document.activeElement,D=(se=$.find(te=>te.ref.current===T))==null?void 0:se.textValue,z=$.map(te=>te.textValue),q=h2(z,L,D),J=(ie=$.find(te=>te.textValue===q))==null?void 0:ie.ref.current;(function te(we){E.current=we,window.clearTimeout(A.current),we!==""&&(A.current=window.setTimeout(()=>te(""),1e3))})(L),J&&setTimeout(()=>J.focus())};p.useEffect(()=>()=>window.clearTimeout(A.current),[]),aE();const P=p.useCallback(N=>{var $,T;return B.current===(($=U.current)==null?void 0:$.side)&&m2(N,(T=U.current)==null?void 0:T.area)},[]);return u.jsx(XT,{scope:n,searchRef:E,onItemEnter:p.useCallback(N=>{P(N)&&N.preventDefault()},[P]),onItemLeave:p.useCallback(N=>{var L;P(N)||((L=k.current)==null||L.focus(),j(null))},[P]),onTriggerLeave:p.useCallback(N=>{P(N)&&N.preventDefault()},[P]),pointerGraceTimerRef:M,onPointerGraceIntentChange:p.useCallback(N=>{U.current=N},[]),children:u.jsx(X,{...O,children:u.jsx(By,{asChild:!0,trapped:s,onMountAutoFocus:Z(i,N=>{var L;N.preventDefault(),(L=k.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u.jsx(Uy,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:u.jsx(ZP,{asChild:!0,...g,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:j,onEntryFocus:Z(l,N=>{w.isUsingKeyboardRef.current||N.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx($P,{role:"menu","aria-orientation":"vertical","data-state":qx(b.open),"data-radix-menu-content":"",dir:w.dir,...y,...v,ref:C,style:{outline:"none",...v.style},onKeyDown:Z(v.onKeyDown,N=>{const $=N.target.closest("[data-radix-menu-content]")===N.currentTarget,T=N.ctrlKey||N.altKey||N.metaKey,D=N.key.length===1;$&&(N.key==="Tab"&&N.preventDefault(),!T&&D&&R(N.key));const z=k.current;if(N.target!==z||!WT.includes(N.key))return;N.preventDefault();const J=S().filter(se=>!se.disabled).map(se=>se.ref.current);Ex.includes(N.key)&&J.reverse(),d2(J)}),onBlur:Z(e.onBlur,N=>{N.currentTarget.contains(N.target)||(window.clearTimeout(A.current),E.current="")}),onPointerMove:Z(e.onPointerMove,Fi(N=>{const L=N.target,$=V.current!==N.clientX;if(N.currentTarget.contains(L)&&$){const T=N.clientX>V.current?"right":"left";B.current=T,V.current=N.clientX}}))})})})})})})});Rx.displayName=vt;var n2="MenuGroup",Ff=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(et.div,{role:"group",...r,ref:t})});Ff.displayName=n2;var r2="MenuLabel",Ix=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(et.div,{...r,ref:t})});Ix.displayName=r2;var $a="MenuItem",km="menu.itemSelect",Cl=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,i=p.useRef(null),o=to($a,e.__scopeMenu),a=Df($a,e.__scopeMenu),l=Xe(t,i),c=p.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const h=new CustomEvent(km,{bubbles:!0,cancelable:!0});f.addEventListener(km,m=>r==null?void 0:r(m),{once:!0}),Ly(f,h),h.defaultPrevented?c.current=!1:o.onClose()}};return u.jsx(Ox,{...s,ref:l,disabled:n,onClick:Z(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),c.current=!0},onPointerUp:Z(e.onPointerUp,f=>{var h;c.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Z(e.onKeyDown,f=>{const h=a.searchRef.current!=="";n||h&&f.key===" "||id.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Cl.displayName=$a;var Ox=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=e,o=Df($a,n),a=Tx(n),l=p.useRef(null),c=Xe(t,l),[d,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const x=l.current;x&&m((x.textContent??"").trim())},[i.children]),u.jsx($i.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:u.jsx(eT,{asChild:!0,...a,focusable:!r,children:u.jsx(et.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:Z(e.onPointerMove,Fi(x=>{r?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(e.onPointerLeave,Fi(x=>o.onItemLeave(x))),onFocus:Z(e.onFocus,()=>f(!0)),onBlur:Z(e.onBlur,()=>f(!1))})})})}),s2="MenuCheckboxItem",Mx=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return u.jsx(Ux,{scope:e.__scopeMenu,checked:n,children:u.jsx(Cl,{role:"menuitemcheckbox","aria-checked":Fa(n)?"mixed":n,...s,ref:t,"data-state":Vf(n),onSelect:Z(s.onSelect,()=>r==null?void 0:r(Fa(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Mx.displayName=s2;var Lx="MenuRadioGroup",[i2,o2]=jr(Lx,{value:void 0,onValueChange:()=>{}}),Dx=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,i=on(r);return u.jsx(i2,{scope:e.__scopeMenu,value:n,onValueChange:i,children:u.jsx(Ff,{...s,ref:t})})});Dx.displayName=Lx;var $x="MenuRadioItem",Fx=p.forwardRef((e,t)=>{const{value:n,...r}=e,s=o2($x,e.__scopeMenu),i=n===s.value;return u.jsx(Ux,{scope:e.__scopeMenu,checked:i,children:u.jsx(Cl,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":Vf(i),onSelect:Z(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});Fx.displayName=$x;var Uf="MenuItemIndicator",[Ux,a2]=jr(Uf,{checked:!1}),Vx=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,i=a2(Uf,n);return u.jsx(_l,{present:r||Fa(i.checked)||i.checked===!0,children:u.jsx(et.span,{...s,ref:t,"data-state":Vf(i.checked)})})});Vx.displayName=Uf;var l2="MenuSeparator",Bx=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(et.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Bx.displayName=l2;var c2="MenuArrow",Wx=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=jl(n);return u.jsx(FP,{...s,...r,ref:t})});Wx.displayName=c2;var u2="MenuSub",[CM,zx]=jr(u2),Xs="MenuSubTrigger",Hx=p.forwardRef((e,t)=>{const n=Rs(Xs,e.__scopeMenu),r=to(Xs,e.__scopeMenu),s=zx(Xs,e.__scopeMenu),i=Df(Xs,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),u.jsx(Lf,{asChild:!0,...c,children:u.jsx(Ox,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":qx(n.open),...e,ref:xl(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Z(e.onPointerMove,Fi(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Z(e.onPointerLeave,Fi(f=>{var m,x;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const v=(x=n.content)==null?void 0:x.dataset.side,b=v==="right",w=b?-5:5,y=h[b?"left":"right"],g=h[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:y,y:h.top},{x:g,y:h.top},{x:g,y:h.bottom},{x:y,y:h.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Z(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||zT[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});Hx.displayName=Xs;var Gx="MenuSubContent",Kx=p.forwardRef((e,t)=>{const n=Ax(vt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Rs(vt,e.__scopeMenu),o=to(vt,e.__scopeMenu),a=zx(Gx,e.__scopeMenu),l=p.useRef(null),c=Xe(t,l);return u.jsx($i.Provider,{scope:e.__scopeMenu,children:u.jsx(_l,{present:r||i.open,children:u.jsx($i.Slot,{scope:e.__scopeMenu,children:u.jsx($f,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Z(e.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Z(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Z(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=HT[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=a.trigger)==null||m.focus(),d.preventDefault())})})})})})});Kx.displayName=Gx;function qx(e){return e?"open":"closed"}function Fa(e){return e==="indeterminate"}function Vf(e){return Fa(e)?"indeterminate":e?"checked":"unchecked"}function d2(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function f2(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function h2(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=f2(e,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function p2(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],l=t[o],c=a.x,d=a.y,f=l.x,h=l.y;d>r!=h>r&&n<(f-c)*(r-d)/(h-d)+c&&(s=!s)}return s}function m2(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return p2(n,t)}function Fi(e){return t=>t.pointerType==="mouse"?e(t):void 0}var g2=Nx,v2=Lf,y2=Rx,x2=Ff,w2=Ix,b2=Cl,S2=Mx,_2=Dx,k2=Fx,j2=Vx,C2=Bx,E2=Wx,P2=Hx,T2=Kx,El="DropdownMenu",[N2,EM]=Ji(El,[Px]),tt=Px(),[A2,Yx]=N2(El),Qx=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,l=tt(t),c=p.useRef(null),[d,f]=My({prop:s,defaultProp:i??!1,onChange:o,caller:El});return u.jsx(A2,{scope:t,triggerId:Zu(),triggerRef:c,contentId:Zu(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:a,children:u.jsx(g2,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};Qx.displayName=El;var Jx="DropdownMenuTrigger",Xx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,i=Yx(Jx,n),o=tt(n);return u.jsx(v2,{asChild:!0,...o,children:u.jsx(et.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:xl(t,i.triggerRef),onPointerDown:Z(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:Z(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Xx.displayName=Jx;var Zx="DropdownMenuContent",ew=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Yx(Zx,n),i=tt(n),o=p.useRef(!1);return u.jsx(y2,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:t,onCloseAutoFocus:Z(e.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Z(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ew.displayName=Zx;var R2="DropdownMenuGroup",I2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tt(n);return u.jsx(x2,{...s,...r,ref:t})});I2.displayName=R2;var O2="DropdownMenuLabel",M2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tt(n);return u.jsx(w2,{...s,...r,ref:t})});M2.displayName=O2;var L2="DropdownMenuItem",tw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tt(n);return u.jsx(b2,{...s,...r,ref:t})});tw.displayName=L2;var D2="DropdownMenuCheckboxItem",$2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tt(n);return u.jsx(S2,{...s,...r,ref:t})});$2.displayName=D2;var F2="DropdownMenuRadioGroup",U2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tt(n);return u.jsx(_2,{...s,...r,ref:t})});U2.displayName=F2;var V2="DropdownMenuRadioItem",B2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tt(n);return u.jsx(k2,{...s,...r,ref:t})});B2.displayName=V2;var W2="DropdownMenuItemIndicator",z2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tt(n);return u.jsx(j2,{...s,...r,ref:t})});z2.displayName=W2;var H2="DropdownMenuSeparator",G2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tt(n);return u.jsx(C2,{...s,...r,ref:t})});G2.displayName=H2;var K2="DropdownMenuArrow",q2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tt(n);return u.jsx(E2,{...s,...r,ref:t})});q2.displayName=K2;var Y2="DropdownMenuSubTrigger",Q2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tt(n);return u.jsx(P2,{...s,...r,ref:t})});Q2.displayName=Y2;var J2="DropdownMenuSubContent",X2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tt(n);return u.jsx(T2,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});X2.displayName=J2;var nw=Qx,rw=Xx,sw=ew,iw=tw;const ow=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Pl=p.createContext({}),Tl=p.createContext(null),Nl=typeof document<"u",Bf=Nl?p.useLayoutEffect:p.useEffect,aw=p.createContext({strict:!1}),Wf=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Z2="framerAppearId",lw="data-"+Wf(Z2);function eN(e,t,n,r){const{visualElement:s}=p.useContext(Pl),i=p.useContext(aw),o=p.useContext(Tl),a=p.useContext(ow).reducedMotion,l=p.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;p.useInsertionEffect(()=>{c&&c.update(n,o)});const d=p.useRef(!!(n[lw]&&!window.HandoffComplete));return Bf(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),p.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function Jr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function tN(e,t,n){return p.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Jr(n)&&(n.current=r))},[t])}function Ui(e){return typeof e=="string"||Array.isArray(e)}function Al(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const zf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hf=["initial",...zf];function Rl(e){return Al(e.animate)||Hf.some(t=>Ui(e[t]))}function cw(e){return!!(Rl(e)||e.variants)}function nN(e,t){if(Rl(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ui(n)?n:void 0,animate:Ui(r)?r:void 0}}return e.inherit!==!1?t:{}}function rN(e){const{initial:t,animate:n}=nN(e,p.useContext(Pl));return p.useMemo(()=>({initial:t,animate:n}),[jm(t),jm(n)])}function jm(e){return Array.isArray(e)?e.join(" "):e}const Cm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vi={};for(const e in Cm)Vi[e]={isEnabled:t=>Cm[e].some(n=>!!t[n])};function sN(e){for(const t in e)Vi[t]={...Vi[t],...e[t]}}const Gf=p.createContext({}),uw=p.createContext({}),iN=Symbol.for("motionComponentSymbol");function oN({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&sN(e);function i(a,l){let c;const d={...p.useContext(ow),...a,layoutId:aN(a)},{isStatic:f}=d,h=rN(a),m=r(a,f);if(!f&&Nl){h.visualElement=eN(s,m,d,t);const x=p.useContext(uw),v=p.useContext(aw).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,v,e,x))}return p.createElement(Pl.Provider,{value:h},c&&h.visualElement?p.createElement(c,{visualElement:h.visualElement,...d}):null,n(s,a,tN(m,h.visualElement,l),m,f,h.visualElement))}const o=p.forwardRef(i);return o[iN]=s,o}function aN({layoutId:e}){const t=p.useContext(Gf).id;return t&&e!==void 0?t+"-"+e:e}function lN(e){function t(r,s={}){return oN(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const cN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kf(e){return typeof e!="string"||e.includes("-")?!1:!!(cN.indexOf(e)>-1||/[A-Z]/.test(e))}const Ua={};function uN(e){Object.assign(Ua,e)}const no=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cr=new Set(no);function dw(e,{layout:t,layoutId:n}){return Cr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ua[e]||e==="opacity")}const Ze=e=>!!(e&&e.getVelocity),dN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fN=no.length;function hN(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<fN;o++){const a=no[o];if(e[a]!==void 0){const l=dN[a]||a;i+=`${l}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const fw=e=>t=>typeof t=="string"&&t.startsWith(e),hw=fw("--"),od=fw("var(--"),pN=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,mN=(e,t)=>t&&typeof e=="number"?t.transform(e):e,zn=(e,t,n)=>Math.min(Math.max(n,e),t),Er={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},fi={...Er,transform:e=>zn(0,1,e)},Lo={...Er,default:1},hi=e=>Math.round(e*1e5)/1e5,Il=/(-)?([\d]*\.?[\d])+/g,pw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,gN=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ro(e){return typeof e=="string"}const so=e=>({test:t=>ro(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),vn=so("deg"),Bt=so("%"),W=so("px"),vN=so("vh"),yN=so("vw"),Em={...Bt,parse:e=>Bt.parse(e)/100,transform:e=>Bt.transform(e*100)},Pm={...Er,transform:Math.round},mw={borderWidth:W,borderTopWidth:W,borderRightWidth:W,borderBottomWidth:W,borderLeftWidth:W,borderRadius:W,radius:W,borderTopLeftRadius:W,borderTopRightRadius:W,borderBottomRightRadius:W,borderBottomLeftRadius:W,width:W,maxWidth:W,height:W,maxHeight:W,size:W,top:W,right:W,bottom:W,left:W,padding:W,paddingTop:W,paddingRight:W,paddingBottom:W,paddingLeft:W,margin:W,marginTop:W,marginRight:W,marginBottom:W,marginLeft:W,rotate:vn,rotateX:vn,rotateY:vn,rotateZ:vn,scale:Lo,scaleX:Lo,scaleY:Lo,scaleZ:Lo,skew:vn,skewX:vn,skewY:vn,distance:W,translateX:W,translateY:W,translateZ:W,x:W,y:W,z:W,perspective:W,transformPerspective:W,opacity:fi,originX:Em,originY:Em,originZ:W,zIndex:Pm,fillOpacity:fi,strokeOpacity:fi,numOctaves:Pm};function qf(e,t,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=e;let l=!1,c=!1,d=!0;for(const f in t){const h=t[f];if(hw(f)){i[f]=h;continue}const m=mw[f],x=mN(h,m);if(Cr.has(f)){if(l=!0,o[f]=x,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,a[f]=x):s[f]=x}if(t.transform||(l||r?s.transform=hN(e.transform,n,d,r):s.transform&&(s.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:m=0}=a;s.transformOrigin=`${f} ${h} ${m}`}}const Yf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gw(e,t,n){for(const r in t)!Ze(t[r])&&!dw(r,n)&&(e[r]=t[r])}function xN({transformTemplate:e},t,n){return p.useMemo(()=>{const r=Yf();return qf(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function wN(e,t,n){const r=e.style||{},s={};return gw(s,r,e),Object.assign(s,xN(e,t,n)),e.transformValues?e.transformValues(s):s}function bN(e,t,n){const r={},s=wN(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const SN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Va(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||SN.has(e)}let vw=e=>!Va(e);function _N(e){e&&(vw=t=>t.startsWith("on")?!Va(t):e(t))}try{_N(require("@emotion/is-prop-valid").default)}catch{}function kN(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(vw(s)||n===!0&&Va(s)||!t&&!Va(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Tm(e,t,n){return typeof e=="string"?e:W.transform(t+n*e)}function jN(e,t,n){const r=Tm(t,e.x,e.width),s=Tm(n,e.y,e.height);return`${r} ${s}`}const CN={offset:"stroke-dashoffset",array:"stroke-dasharray"},EN={offset:"strokeDashoffset",array:"strokeDasharray"};function PN(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?CN:EN;e[i.offset]=W.transform(-r);const o=W.transform(t),a=W.transform(n);e[i.array]=`${o} ${a}`}function Qf(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,f,h){if(qf(e,c,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:x,dimensions:v}=e;m.transform&&(v&&(x.transform=m.transform),delete m.transform),v&&(s!==void 0||i!==void 0||x.transform)&&(x.transformOrigin=jN(v,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&PN(m,o,a,l,!1)}const yw=()=>({...Yf(),attrs:{}}),Jf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function TN(e,t,n,r){const s=p.useMemo(()=>{const i=yw();return Qf(i,t,{enableHardwareAcceleration:!1},Jf(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};gw(i,e.style,e),s.style={...i,...s.style}}return s}function NN(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Kf(n)?TN:bN)(r,i,o,n),d={...kN(r,typeof n=="string",e),...l,ref:s},{children:f}=r,h=p.useMemo(()=>Ze(f)?f.get():f,[f]);return p.createElement(n,{...d,children:h})}}function xw(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const ww=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bw(e,t,n,r){xw(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(ww.has(s)?s:Wf(s),t.attrs[s])}function Xf(e,t){const{style:n}=e,r={};for(const s in n)(Ze(n[s])||t.style&&Ze(t.style[s])||dw(s,e))&&(r[s]=n[s]);return r}function Sw(e,t){const n=Xf(e,t);for(const r in e)if(Ze(e[r])||Ze(t[r])){const s=no.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function Zf(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function _w(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ba=e=>Array.isArray(e),AN=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),RN=e=>Ba(e)?e[e.length-1]||0:e;function ra(e){const t=Ze(e)?e.get():e;return AN(t)?t.toValue():t}function IN({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const o={latestValues:ON(r,s,i,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const kw=e=>(t,n)=>{const r=p.useContext(Pl),s=p.useContext(Tl),i=()=>IN(e,t,r,s);return n?i():_w(i)};function ON(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=ra(i[h]);let{initial:o,animate:a}=e;const l=Rl(e),c=cw(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;return f&&typeof f!="boolean"&&!Al(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const x=Zf(e,m);if(!x)return;const{transitionEnd:v,transition:b,...w}=x;for(const y in w){let g=w[y];if(Array.isArray(g)){const S=d?g.length-1:0;g=g[S]}g!==null&&(s[y]=g)}for(const y in v)s[y]=v[y]}),s}const ve=e=>e;class Nm{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function MN(e){let t=new Nm,n=new Nm,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const f=d&&s,h=f?t:n;return c&&o.add(l),h.add(l)&&f&&s&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),o.has(d)&&(a.schedule(d),e())}s=!1,i&&(i=!1,a.process(l))}};return a}const Do=["prepare","read","update","preRender","render","postRender"],LN=40;function DN(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Do.reduce((f,h)=>(f[h]=MN(()=>n=!0),f),{}),o=f=>i[f].process(s),a=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,LN),1),s.timestamp=f,s.isProcessing=!0,Do.forEach(o),s.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,s.isProcessing||e(a)};return{schedule:Do.reduce((f,h)=>{const m=i[h];return f[h]=(x,v=!1,b=!1)=>(n||l(),m.schedule(x,v,b)),f},{}),cancel:f=>Do.forEach(h=>i[h].cancel(f)),state:s,steps:i}}const{schedule:le,cancel:cn,state:Le,steps:Pc}=DN(typeof requestAnimationFrame<"u"?requestAnimationFrame:ve,!0),$N={useVisualState:kw({scrapeMotionValuesFromProps:Sw,createRenderState:yw,onMount:(e,t,{renderState:n,latestValues:r})=>{le.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),le.render(()=>{Qf(n,r,{enableHardwareAcceleration:!1},Jf(t.tagName),e.transformTemplate),bw(t,n)})}})},FN={useVisualState:kw({scrapeMotionValuesFromProps:Xf,createRenderState:Yf})};function UN(e,{forwardMotionProps:t=!1},n,r){return{...Kf(e)?$N:FN,preloadedFeatures:n,useRender:NN(t),createVisualElement:r,Component:e}}function Jt(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const jw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Ol(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const VN=e=>t=>jw(t)&&e(t,Ol(t));function Zt(e,t,n,r){return Jt(e,t,VN(n),r)}const BN=(e,t)=>n=>t(e(n)),$n=(...e)=>e.reduce(BN);function Cw(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Am=Cw("dragHorizontal"),Rm=Cw("dragVertical");function Ew(e){let t=!1;if(e==="y")t=Rm();else if(e==="x")t=Am();else{const n=Am(),r=Rm();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Pw(){const e=Ew(!0);return e?(e(),!1):!0}class Jn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Im(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||Pw())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&le.update(()=>a[r](i,o))};return Zt(e.current,n,s,{passive:!e.getProps()[r]})}class WN extends Jn{mount(){this.unmount=$n(Im(this.node,!0),Im(this.node,!1))}unmount(){}}class zN extends Jn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$n(Jt(this.node.current,"focus",()=>this.onFocus()),Jt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Tw=(e,t)=>t?e===t?!0:Tw(e,t.parentElement):!1;function Tc(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Ol(n))}class HN extends Jn{constructor(){super(...arguments),this.removeStartListeners=ve,this.removeEndListeners=ve,this.removeAccessibleListeners=ve,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Zt(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();le.update(()=>{!f&&!Tw(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Zt(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=$n(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Tc("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&le.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Jt(this.node.current,"keyup",o),Tc("down",(a,l)=>{this.startPress(a,l)})},n=Jt(this.node.current,"keydown",t),r=()=>{this.isPressing&&Tc("cancel",(i,o)=>this.cancelPress(i,o))},s=Jt(this.node.current,"blur",r);this.removeAccessibleListeners=$n(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&le.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Pw()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&le.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Zt(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Jt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=$n(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ad=new WeakMap,Nc=new WeakMap,GN=e=>{const t=ad.get(e.target);t&&t(e)},KN=e=>{e.forEach(GN)};function qN({root:e,...t}){const n=e||document;Nc.has(n)||Nc.set(n,{});const r=Nc.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(KN,{root:e,...t})),r[s]}function YN(e,t,n){const r=qN(t);return ad.set(e,n),r.observe(e),()=>{ad.delete(e),r.unobserve(e)}}const QN={some:0,all:1};class JN extends Jn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:QN[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return YN(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(XN(t,n))&&this.startObserver()}unmount(){}}function XN({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ZN={inView:{Feature:JN},tap:{Feature:HN},focus:{Feature:zN},hover:{Feature:WN}};function Nw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function eA(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function tA(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Ml(e,t,n){const r=e.getProps();return Zf(r,t,n!==void 0?n:r.custom,eA(e),tA(e))}let nA=ve,eh=ve;const Fn=e=>e*1e3,en=e=>e/1e3,rA={current:!1},Aw=e=>Array.isArray(e)&&typeof e[0]=="number";function Rw(e){return!!(!e||typeof e=="string"&&Iw[e]||Aw(e)||Array.isArray(e)&&e.every(Rw))}const Zs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Iw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zs([0,.65,.55,1]),circOut:Zs([.55,0,1,.45]),backIn:Zs([.31,.01,.66,-.59]),backOut:Zs([.33,1.53,.69,.99])};function Ow(e){if(e)return Aw(e)?Zs(e):Array.isArray(e)?e.map(Ow):Iw[e]}function sA(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=Ow(a);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function iA(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Mw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,oA=1e-7,aA=12;function lA(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=Mw(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>oA&&++a<aA);return o}function io(e,t,n,r){if(e===t&&n===r)return ve;const s=i=>lA(i,0,1,e,n);return i=>i===0||i===1?i:Mw(s(i),t,r)}const cA=io(.42,0,1,1),uA=io(0,0,.58,1),Lw=io(.42,0,.58,1),dA=e=>Array.isArray(e)&&typeof e[0]!="number",Dw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$w=e=>t=>1-e(1-t),th=e=>1-Math.sin(Math.acos(e)),Fw=$w(th),fA=Dw(th),Uw=io(.33,1.53,.69,.99),nh=$w(Uw),hA=Dw(nh),pA=e=>(e*=2)<1?.5*nh(e):.5*(2-Math.pow(2,-10*(e-1))),mA={linear:ve,easeIn:cA,easeInOut:Lw,easeOut:uA,circIn:th,circInOut:fA,circOut:Fw,backIn:nh,backInOut:hA,backOut:Uw,anticipate:pA},Om=e=>{if(Array.isArray(e)){eh(e.length===4);const[t,n,r,s]=e;return io(t,n,r,s)}else if(typeof e=="string")return mA[e];return e},rh=(e,t)=>n=>!!(ro(n)&&gN.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Vw=(e,t,n)=>r=>{if(!ro(r))return r;const[s,i,o,a]=r.match(Il);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},gA=e=>zn(0,255,e),Ac={...Er,transform:e=>Math.round(gA(e))},dr={test:rh("rgb","red"),parse:Vw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ac.transform(e)+", "+Ac.transform(t)+", "+Ac.transform(n)+", "+hi(fi.transform(r))+")"};function vA(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ld={test:rh("#"),parse:vA,transform:dr.transform},Xr={test:rh("hsl","hue"),parse:Vw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Bt.transform(hi(t))+", "+Bt.transform(hi(n))+", "+hi(fi.transform(r))+")"},Fe={test:e=>dr.test(e)||ld.test(e)||Xr.test(e),parse:e=>dr.test(e)?dr.parse(e):Xr.test(e)?Xr.parse(e):ld.parse(e),transform:e=>ro(e)?e:e.hasOwnProperty("red")?dr.transform(e):Xr.transform(e)},he=(e,t,n)=>-n*e+n*t+e;function Rc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yA({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=Rc(l,a,e+1/3),i=Rc(l,a,e),o=Rc(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Ic=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},xA=[ld,dr,Xr],wA=e=>xA.find(t=>t.test(e));function Mm(e){const t=wA(e);let n=t.parse(e);return t===Xr&&(n=yA(n)),n}const Bw=(e,t)=>{const n=Mm(e),r=Mm(t),s={...n};return i=>(s.red=Ic(n.red,r.red,i),s.green=Ic(n.green,r.green,i),s.blue=Ic(n.blue,r.blue,i),s.alpha=he(n.alpha,r.alpha,i),dr.transform(s))};function bA(e){var t,n;return isNaN(e)&&ro(e)&&(((t=e.match(Il))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(pw))===null||n===void 0?void 0:n.length)||0)>0}const Ww={regex:pN,countKey:"Vars",token:"${v}",parse:ve},zw={regex:pw,countKey:"Colors",token:"${c}",parse:Fe.parse},Hw={regex:Il,countKey:"Numbers",token:"${n}",parse:Er.parse};function Oc(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function Wa(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Oc(n,Ww),Oc(n,zw),Oc(n,Hw),n}function Gw(e){return Wa(e).values}function Kw(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Wa(e),i=t.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(Ww.token,o[l]):l<r+n?a=a.replace(zw.token,Fe.transform(o[l])):a=a.replace(Hw.token,hi(o[l]));return a}}const SA=e=>typeof e=="number"?0:e;function _A(e){const t=Gw(e);return Kw(e)(t.map(SA))}const Hn={test:bA,parse:Gw,createTransformer:Kw,getAnimatableNone:_A},qw=(e,t)=>n=>`${n>0?t:e}`;function Yw(e,t){return typeof e=="number"?n=>he(e,t,n):Fe.test(e)?Bw(e,t):e.startsWith("var(")?qw(e,t):Jw(e,t)}const Qw=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,o)=>Yw(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},kA=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Yw(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},Jw=(e,t)=>{const n=Hn.createTransformer(t),r=Wa(e),s=Wa(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?$n(Qw(r.values,s.values),n):qw(e,t)},Bi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Lm=(e,t)=>n=>he(e,t,n);function jA(e){return typeof e=="number"?Lm:typeof e=="string"?Fe.test(e)?Bw:Jw:Array.isArray(e)?Qw:typeof e=="object"?kA:Lm}function CA(e,t,n){const r=[],s=n||jA(e[0]),i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||ve:t;a=$n(l,a)}r.push(a)}return r}function Xw(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(eh(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=CA(t,r,s),a=o.length,l=c=>{let d=0;if(a>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=Bi(e[d],e[d+1],c);return o[d](f)};return n?c=>l(zn(e[0],e[i-1],c)):l}function EA(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Bi(0,t,r);e.push(he(n,1,s))}}function PA(e){const t=[0];return EA(t,e.length-1),t}function TA(e,t){return e.map(n=>n*t)}function NA(e,t){return e.map(()=>t||Lw).splice(0,e.length-1)}function za({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=dA(r)?r.map(Om):Om(r),i={done:!1,value:t[0]},o=TA(n&&n.length===t.length?n:PA(t),e),a=Xw(o,t,{ease:Array.isArray(s)?s:NA(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}function Zw(e,t){return t?e*(1e3/t):0}const AA=5;function e1(e,t,n){const r=Math.max(t-AA,0);return Zw(n-e(r),t-r)}const Mc=.001,RA=.01,Dm=10,IA=.05,OA=1;function MA({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i;nA(e<=Fn(Dm));let o=1-t;o=zn(IA,OA,o),e=zn(RA,Dm,en(e)),o<1?(s=c=>{const d=c*o,f=d*e,h=d-n,m=cd(c,o),x=Math.exp(-f);return Mc-h/m*x},i=c=>{const f=c*o*e,h=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*e,x=Math.exp(-f),v=cd(Math.pow(c,2),o);return(-s(c)+Mc>0?-1:1)*((h-m)*x)/v}):(s=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-Mc+d*f},i=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const a=5/e,l=DA(s,i,a);if(e=Fn(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const LA=12;function DA(e,t,n){let r=n;for(let s=1;s<LA;s++)r=r-e(r)/t(r);return r}function cd(e,t){return e*Math.sqrt(1-t*t)}const $A=["duration","bounce"],FA=["stiffness","damping","mass"];function $m(e,t){return t.some(n=>e[n]!==void 0)}function UA(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!$m(e,FA)&&$m(e,$A)){const n=MA(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function t1({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=UA({...r,velocity:-en(r.velocity||0)}),m=f||0,x=l/(2*Math.sqrt(a*c)),v=i-s,b=en(Math.sqrt(a/c)),w=Math.abs(v)<5;n||(n=w?.01:2),t||(t=w?.005:.5);let y;if(x<1){const g=cd(b,x);y=S=>{const _=Math.exp(-x*b*S);return i-_*((m+x*b*v)/g*Math.sin(g*S)+v*Math.cos(g*S))}}else if(x===1)y=g=>i-Math.exp(-b*g)*(v+(m+b*v)*g);else{const g=b*Math.sqrt(x*x-1);y=S=>{const _=Math.exp(-x*b*S),j=Math.min(g*S,300);return i-_*((m+x*b*v)*Math.sinh(j)+g*v*Math.cosh(j))/g}}return{calculatedDuration:h&&d||null,next:g=>{const S=y(g);if(h)o.done=g>=d;else{let _=m;g!==0&&(x<1?_=e1(y,g,S):_=0);const j=Math.abs(_)<=n,k=Math.abs(i-S)<=t;o.done=j&&k}return o.value=o.done?i:S,o}}}function Fm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=C=>a!==void 0&&C<a||l!==void 0&&C>l,x=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let v=n*t;const b=f+v,w=o===void 0?b:o(b);w!==b&&(v=w-f);const y=C=>-v*Math.exp(-C/r),g=C=>w+y(C),S=C=>{const A=y(C),E=g(C);h.done=Math.abs(A)<=c,h.value=h.done?w:E};let _,j;const k=C=>{m(h.value)&&(_=C,j=t1({keyframes:[h.value,x(h.value)],velocity:e1(g,C,h.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:C=>{let A=!1;return!j&&_===void 0&&(A=!0,S(C),k(C)),_!==void 0&&C>_?j.next(C-_):(!A&&S(C),h)}}}const VA=e=>{const t=({timestamp:n})=>e(n);return{start:()=>le.update(t,!0),stop:()=>cn(t),now:()=>Le.isProcessing?Le.timestamp:performance.now()}},Um=2e4;function Vm(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Um;)t+=n,r=e.next(t);return t>=Um?1/0:t}const BA={decay:Fm,inertia:Fm,tween:za,keyframes:za,spring:t1};function Ha({autoplay:e=!0,delay:t=0,driver:n=VA,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...h}){let m=1,x=!1,v,b;const w=()=>{b=new Promise($=>{v=$})};w();let y;const g=BA[s]||za;let S;g!==za&&typeof r[0]!="number"&&(S=Xw([0,100],r,{clamp:!1}),r=[0,100]);const _=g({...h,keyframes:r});let j;a==="mirror"&&(j=g({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let k="idle",C=null,A=null,E=null;_.calculatedDuration===null&&i&&(_.calculatedDuration=Vm(_));const{calculatedDuration:M}=_;let U=1/0,B=1/0;M!==null&&(U=M+o,B=U*(i+1)-o);let V=0;const X=$=>{if(A===null)return;m>0&&(A=Math.min(A,$)),m<0&&(A=Math.min($-B/m,A)),C!==null?V=C:V=Math.round($-A)*m;const T=V-t*(m>=0?1:-1),D=m>=0?T<0:T>B;V=Math.max(T,0),k==="finished"&&C===null&&(V=B);let z=V,q=_;if(i){const te=Math.min(V,B)/U;let we=Math.floor(te),Pe=te%1;!Pe&&te>=1&&(Pe=1),Pe===1&&we--,we=Math.min(we,i+1),!!(we%2)&&(a==="reverse"?(Pe=1-Pe,o&&(Pe-=o/U)):a==="mirror"&&(q=j)),z=zn(0,1,Pe)*U}const J=D?{done:!1,value:r[0]}:q.next(z);S&&(J.value=S(J.value));let{done:se}=J;!D&&M!==null&&(se=m>=0?V>=B:V<=0);const ie=C===null&&(k==="finished"||k==="running"&&se);return f&&f(J.value),ie&&P(),J},O=()=>{y&&y.stop(),y=void 0},R=()=>{k="idle",O(),v(),w(),A=E=null},P=()=>{k="finished",d&&d(),O(),v()},N=()=>{if(x)return;y||(y=n(X));const $=y.now();l&&l(),C!==null?A=$-C:(!A||k==="finished")&&(A=$),k==="finished"&&w(),E=A,C=null,k="running",y.start()};e&&N();const L={then($,T){return b.then($,T)},get time(){return en(V)},set time($){$=Fn($),V=$,C!==null||!y||m===0?C=$:A=y.now()-$/m},get duration(){const $=_.calculatedDuration===null?Vm(_):_.calculatedDuration;return en($)},get speed(){return m},set speed($){$===m||!y||(m=$,L.time=en(V))},get state(){return k},play:N,pause:()=>{k="paused",C=V},stop:()=>{x=!0,k!=="idle"&&(k="idle",c&&c(),R())},cancel:()=>{E!==null&&X(E),R()},complete:()=>{k="finished"},sample:$=>(A=0,X($))};return L}function WA(e){let t;return()=>(t===void 0&&(t=e()),t)}const zA=WA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),HA=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),$o=10,GA=2e4,KA=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Rw(t.ease);function qA(e,t,{onUpdate:n,onComplete:r,...s}){if(!(zA()&&HA.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const d=()=>{l=new Promise(g=>{a=g})};d();let{keyframes:f,duration:h=300,ease:m,times:x}=s;if(KA(t,s)){const g=Ha({...s,repeat:0,delay:0});let S={done:!1,value:f[0]};const _=[];let j=0;for(;!S.done&&j<GA;)S=g.sample(j),_.push(S.value),j+=$o;x=void 0,f=_,h=j-$o,m="linear"}const v=sA(e.owner.current,t,f,{...s,duration:h,ease:m,times:x}),b=()=>{c=!1,v.cancel()},w=()=>{c=!0,le.update(b),a(),d()};return v.onfinish=()=>{c||(e.set(iA(f,s)),r&&r(),w())},{then(g,S){return l.then(g,S)},attachTimeline(g){return v.timeline=g,v.onfinish=null,ve},get time(){return en(v.currentTime||0)},set time(g){v.currentTime=Fn(g)},get speed(){return v.playbackRate},set speed(g){v.playbackRate=g},get duration(){return en(h)},play:()=>{o||(v.play(),cn(b))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:g}=v;if(g){const S=Ha({...s,autoplay:!1});e.setWithVelocity(S.sample(g-$o).value,S.sample(g).value,$o)}w()},complete:()=>{c||v.finish()},cancel:w}}function YA({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ve,pause:ve,stop:ve,then:i=>(i(),Promise.resolve()),cancel:ve,complete:ve});return t?Ha({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const QA={type:"spring",stiffness:500,damping:25,restSpeed:10},JA=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),XA={type:"keyframes",duration:.8},ZA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eR=(e,{keyframes:t})=>t.length>2?XA:Cr.has(e)?e.startsWith("scale")?JA(t[1]):QA:ZA,ud=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Hn.test(t)||t==="0")&&!t.startsWith("url(")),tR=new Set(["brightness","contrast","saturate","opacity"]);function nR(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Il)||[];if(!r)return e;const s=n.replace(r,"");let i=tR.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const rR=/([a-z-]*)\(.*?\)/g,dd={...Hn,getAnimatableNone:e=>{const t=e.match(rR);return t?t.map(nR).join(" "):e}},sR={...mw,color:Fe,backgroundColor:Fe,outlineColor:Fe,fill:Fe,stroke:Fe,borderColor:Fe,borderTopColor:Fe,borderRightColor:Fe,borderBottomColor:Fe,borderLeftColor:Fe,filter:dd,WebkitFilter:dd},sh=e=>sR[e];function n1(e,t){let n=sh(e);return n!==dd&&(n=Hn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const r1=e=>/^0[^.\s]+$/.test(e);function iR(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||r1(e)}function oR(e,t,n,r){const s=ud(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),iR(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];i[d]=n1(t,a)}return i}function aR({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function ih(e,t){return e[t]||e.default||e}const lR={skipAnimations:!1},oh=(e,t,n,r={})=>s=>{const i=ih(r,e)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Fn(o);const l=oR(t,e,n,i),c=l[0],d=l[l.length-1],f=ud(e,c),h=ud(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:x=>{t.set(x),i.onUpdate&&i.onUpdate(x)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(aR(i)||(m={...m,...eR(e,m)}),m.duration&&(m.duration=Fn(m.duration)),m.repeatDelay&&(m.repeatDelay=Fn(m.repeatDelay)),!f||!h||rA.current||i.type===!1||lR.skipAnimations)return YA(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const x=qA(t,e,m);if(x)return x}return Ha(m)};function Ga(e){return!!(Ze(e)&&e.add)}const s1=e=>/^\-?\d*\.?\d+$/.test(e);function ah(e,t){e.indexOf(t)===-1&&e.push(t)}function lh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class ch{constructor(){this.subscriptions=[]}add(t){return ah(this.subscriptions,t),()=>lh(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cR=e=>!isNaN(parseFloat(e));class uR{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Le;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,le.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>le.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=cR(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ch);const r=this.events[t].add(n);return t==="change"?()=>{r(),le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Zw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xs(e,t){return new uR(e,t)}const i1=e=>t=>t.test(e),dR={test:e=>e==="auto",parse:e=>e},o1=[Er,W,Bt,vn,yN,vN,dR],Hs=e=>o1.find(i1(e)),fR=[...o1,Fe,Hn],hR=e=>fR.find(i1(e));function pR(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xs(n))}function mR(e,t){const n=Ml(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=RN(i[o]);pR(e,o,a)}}function gR(e,t,n){var r,s;const i=Object.keys(t).filter(a=>!e.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(s=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&s!==void 0?s:t[l]),d!=null&&(typeof d=="string"&&(s1(d)||r1(d))?d=parseFloat(d):!hR(d)&&Hn.test(c)&&(d=n1(l,c)),e.addValue(l,xs(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function vR(e,t){return t?(t[e]||t.default||t).from:void 0}function yR(e,t,n){const r={};for(const s in e){const i=vR(s,t);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function xR({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function wR(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function a1(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const c=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in a){const h=e.getValue(f),m=a[f];if(!h||m===void 0||d&&xR(d,f))continue;const x={delay:n,elapsed:0,...ih(i||{},f)};if(window.HandoffAppearAnimations){const w=e.getProps()[lw];if(w){const y=window.HandoffAppearAnimations(w,f,h,le);y!==null&&(x.elapsed=y,x.isHandoff=!0)}}let v=!x.isHandoff&&!wR(h,m);if(x.type==="spring"&&(h.getVelocity()||x.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(oh(f,h,m,e.shouldReduceMotion&&Cr.has(f)?{type:!1}:x));const b=h.animation;Ga(l)&&(l.add(f),b.then(()=>l.remove(f))),c.push(b)}return o&&Promise.all(c).then(()=>{o&&mR(e,o)}),c}function fd(e,t,n={}){const r=Ml(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(a1(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return bR(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function bR(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(SR).forEach((c,d)=>{c.notify("AnimationStart",t),o.push(fd(c,t,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function SR(e,t){return e.sortNodePosition(t)}function _R(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>fd(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=fd(e,t,n);else{const s=typeof t=="function"?Ml(e,t,n.custom):t;r=Promise.all(a1(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const kR=[...zf].reverse(),jR=zf.length;function CR(e){return t=>Promise.all(t.map(({animation:n,options:r})=>_R(e,n,r)))}function ER(e){let t=CR(e);const n=TR();let r=!0;const s=(l,c)=>{const d=Ml(e,c);if(d){const{transition:f,transitionEnd:h,...m}=d;l={...l,...m,...h}}return l};function i(l){t=l(e)}function o(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let x={},v=1/0;for(let w=0;w<jR;w++){const y=kR[w],g=n[y],S=d[y]!==void 0?d[y]:f[y],_=Ui(S),j=y===c?g.isActive:null;j===!1&&(v=w);let k=S===f[y]&&S!==d[y]&&_;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),g.protectedKeys={...x},!g.isActive&&j===null||!S&&!g.prevProp||Al(S)||typeof S=="boolean")continue;let A=PR(g.prevProp,S)||y===c&&g.isActive&&!k&&_||w>v&&_,E=!1;const M=Array.isArray(S)?S:[S];let U=M.reduce(s,{});j===!1&&(U={});const{prevResolvedValues:B={}}=g,V={...B,...U},X=O=>{A=!0,m.has(O)&&(E=!0,m.delete(O)),g.needsAnimating[O]=!0};for(const O in V){const R=U[O],P=B[O];if(x.hasOwnProperty(O))continue;let N=!1;Ba(R)&&Ba(P)?N=!Nw(R,P):N=R!==P,N?R!==void 0?X(O):m.add(O):R!==void 0&&m.has(O)?X(O):g.protectedKeys[O]=!0}g.prevProp=S,g.prevResolvedValues=U,g.isActive&&(x={...x,...U}),r&&e.blockInitialAnimation&&(A=!1),A&&(!k||E)&&h.push(...M.map(O=>({animation:O,options:{type:y,...l}})))}if(m.size){const w={};m.forEach(y=>{const g=e.getBaseTarget(y);g!==void 0&&(w[y]=g)}),h.push({animation:w})}let b=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(h):Promise.resolve()}function a(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var x;return(x=m.animationState)===null||x===void 0?void 0:x.setActive(l,c)}),n[l].isActive=c;const h=o(d,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function PR(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Nw(t,e):!1}function er(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TR(){return{animate:er(!0),whileInView:er(),whileHover:er(),whileTap:er(),whileDrag:er(),whileFocus:er(),exit:er()}}class NR extends Jn{constructor(t){super(t),t.animationState||(t.animationState=ER(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Al(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let AR=0;class RR extends Jn{constructor(){super(...arguments),this.id=AR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const IR={animation:{Feature:NR},exit:{Feature:RR}},Bm=(e,t)=>Math.abs(e-t);function OR(e,t){const n=Bm(e.x,t.x),r=Bm(e.y,t.y);return Math.sqrt(n**2+r**2)}class l1{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Dc(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=OR(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:x}=f,{timestamp:v}=Le;this.history.push({...x,timestamp:v});const{onStart:b,onMove:w}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Lc(h,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Dc(f.type==="pointercancel"?this.lastMoveEventInfo:Lc(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,b),x&&x(f,b)},!jw(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Ol(t),a=Lc(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Le;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,Dc(a,this.history)),this.removeListeners=$n(Zt(this.contextWindow,"pointermove",this.handlePointerMove),Zt(this.contextWindow,"pointerup",this.handlePointerUp),Zt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cn(this.updatePoint)}}function Lc(e,t){return t?{point:t(e.point)}:e}function Wm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Dc({point:e},t){return{point:e,delta:Wm(e,c1(t)),offset:Wm(e,MR(t)),velocity:LR(t,.1)}}function MR(e){return e[0]}function c1(e){return e[e.length-1]}function LR(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=c1(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Fn(t)));)n--;if(!r)return{x:0,y:0};const i=en(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function lt(e){return e.max-e.min}function hd(e,t=0,n=.01){return Math.abs(e-t)<=n}function zm(e,t,n,r=.5){e.origin=r,e.originPoint=he(t.min,t.max,e.origin),e.scale=lt(n)/lt(t),(hd(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=he(n.min,n.max,e.origin)-e.originPoint,(hd(e.translate)||isNaN(e.translate))&&(e.translate=0)}function pi(e,t,n,r){zm(e.x,t.x,n.x,r?r.originX:void 0),zm(e.y,t.y,n.y,r?r.originY:void 0)}function Hm(e,t,n){e.min=n.min+t.min,e.max=e.min+lt(t)}function DR(e,t,n){Hm(e.x,t.x,n.x),Hm(e.y,t.y,n.y)}function Gm(e,t,n){e.min=t.min-n.min,e.max=e.min+lt(t)}function mi(e,t,n){Gm(e.x,t.x,n.x),Gm(e.y,t.y,n.y)}function $R(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?he(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?he(n,e,r.max):Math.min(e,n)),e}function Km(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function FR(e,{top:t,left:n,bottom:r,right:s}){return{x:Km(e.x,n,s),y:Km(e.y,t,r)}}function qm(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function UR(e,t){return{x:qm(e.x,t.x),y:qm(e.y,t.y)}}function VR(e,t){let n=.5;const r=lt(e),s=lt(t);return s>r?n=Bi(t.min,t.max-r,e.min):r>s&&(n=Bi(e.min,e.max-s,t.min)),zn(0,1,n)}function BR(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const pd=.35;function WR(e=pd){return e===!1?e=0:e===!0&&(e=pd),{x:Ym(e,"left","right"),y:Ym(e,"top","bottom")}}function Ym(e,t,n){return{min:Qm(e,t),max:Qm(e,n)}}function Qm(e,t){return typeof e=="number"?e:e[t]||0}const Jm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zr=()=>({x:Jm(),y:Jm()}),Xm=()=>({min:0,max:0}),be=()=>({x:Xm(),y:Xm()});function ft(e){return[e("x"),e("y")]}function u1({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function zR({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function HR(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function $c(e){return e===void 0||e===1}function md({scale:e,scaleX:t,scaleY:n}){return!$c(e)||!$c(t)||!$c(n)}function sr(e){return md(e)||d1(e)||e.z||e.rotate||e.rotateX||e.rotateY}function d1(e){return Zm(e.x)||Zm(e.y)}function Zm(e){return e&&e!=="0%"}function Ka(e,t,n){const r=e-n,s=t*r;return n+s}function eg(e,t,n,r,s){return s!==void 0&&(e=Ka(e,s,r)),Ka(e,n,r)+t}function gd(e,t=0,n=1,r,s){e.min=eg(e.min,t,n,r,s),e.max=eg(e.max,t,n,r,s)}function f1(e,{x:t,y:n}){gd(e.x,t.translate,t.scale,t.originPoint),gd(e.y,n.translate,n.scale,n.originPoint)}function GR(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&es(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,f1(e,o)),r&&sr(i.latestValues)&&es(e,i.latestValues))}t.x=tg(t.x),t.y=tg(t.y)}function tg(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function bn(e,t){e.min=e.min+t,e.max=e.max+t}function ng(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,o=he(e.min,e.max,i);gd(e,t[n],t[r],o,t.scale)}const KR=["x","scaleX","originX"],qR=["y","scaleY","originY"];function es(e,t){ng(e.x,t,KR),ng(e.y,t,qR)}function h1(e,t){return u1(HR(e.getBoundingClientRect(),t))}function YR(e,t,n){const r=h1(e,n),{scroll:s}=t;return s&&(bn(r.x,s.offset.x),bn(r.y,s.offset.y)),r}const p1=({current:e})=>e?e.ownerDocument.defaultView:null,QR=new WeakMap;class JR{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=be(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ol(d,"page").point)},i=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:x}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Ew(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ft(b=>{let w=this.getAxisMotionValue(b).get()||0;if(Bt.test(w)){const{projection:y}=this.visualElement;if(y&&y.layout){const g=y.layout.layoutBox[b];g&&(w=lt(g)*(parseFloat(w)/100))}}this.originPoint[b]=w}),x&&le.update(()=>x(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:x,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=f;if(m&&this.currentDirection===null){this.currentDirection=XR(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),v&&v(d,f)},a=(d,f)=>this.stop(d,f),l=()=>ft(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new l1(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:p1(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&le.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Fo(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=$R(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Jr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=FR(s.layoutBox,n):this.constraints=!1,this.elastic=WR(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ft(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=BR(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Jr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=YR(r,s.root,this.visualElement.getTransformPagePoint());let o=UR(s.layout.layoutBox,i);if(n){const a=n(zR(o));this.hasMutatedConstraints=!!a,a&&(o=u1(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ft(d=>{if(!Fo(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,x={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(oh(t,r,0,n))}stopAnimation(){ft(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ft(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ft(n=>{const{drag:r}=this.getProps();if(!Fo(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-he(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Jr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ft(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=VR({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ft(o=>{if(!Fo(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(he(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;QR.set(this.visualElement,this);const t=this.visualElement.current,n=Zt(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Jr(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Jt(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ft(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=pd,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Fo(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function XR(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class ZR extends Jn{constructor(t){super(t),this.removeGroupControls=ve,this.removeListeners=ve,this.controls=new JR(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ve}unmount(){this.removeGroupControls(),this.removeListeners()}}const rg=e=>(t,n)=>{e&&le.update(()=>e(t,n))};class eI extends Jn{constructor(){super(...arguments),this.removePointerDownListener=ve}onPointerDown(t){this.session=new l1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:p1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:rg(t),onStart:rg(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&le.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Zt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function tI(){const e=p.useContext(Tl);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=p.useId();return p.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const sa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Gs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(W.test(e))e=parseFloat(e);else return e;const n=sg(e,t.target.x),r=sg(e,t.target.y);return`${n}% ${r}%`}},nI={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Hn.parse(e);if(s.length>5)return r;const i=Hn.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=he(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class rI extends Ne.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;uN(sI),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),sa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||le.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function m1(e){const[t,n]=tI(),r=p.useContext(Gf);return Ne.createElement(rI,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(uw),isPresent:t,safeToRemove:n})}const sI={borderRadius:{...Gs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gs,borderTopRightRadius:Gs,borderBottomLeftRadius:Gs,borderBottomRightRadius:Gs,boxShadow:nI},g1=["TopLeft","TopRight","BottomLeft","BottomRight"],iI=g1.length,ig=e=>typeof e=="string"?parseFloat(e):e,og=e=>typeof e=="number"||W.test(e);function oI(e,t,n,r,s,i){s?(e.opacity=he(0,n.opacity!==void 0?n.opacity:1,aI(r)),e.opacityExit=he(t.opacity!==void 0?t.opacity:1,0,lI(r))):i&&(e.opacity=he(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<iI;o++){const a=`border${g1[o]}Radius`;let l=ag(t,a),c=ag(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||og(l)===og(c)?(e[a]=Math.max(he(ig(l),ig(c),r),0),(Bt.test(c)||Bt.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=he(t.rotate||0,n.rotate||0,r))}function ag(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const aI=v1(0,.5,Fw),lI=v1(.5,.95,ve);function v1(e,t,n){return r=>r<e?0:r>t?1:n(Bi(e,t,r))}function lg(e,t){e.min=t.min,e.max=t.max}function dt(e,t){lg(e.x,t.x),lg(e.y,t.y)}function cg(e,t,n,r,s){return e-=t,e=Ka(e,1/n,r),s!==void 0&&(e=Ka(e,1/s,r)),e}function cI(e,t=0,n=1,r=.5,s,i=e,o=e){if(Bt.test(t)&&(t=parseFloat(t),t=he(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=he(i.min,i.max,r);e===i&&(a-=t),e.min=cg(e.min,t,n,a,s),e.max=cg(e.max,t,n,a,s)}function ug(e,t,[n,r,s],i,o){cI(e,t[n],t[r],t[s],t.scale,i,o)}const uI=["x","scaleX","originX"],dI=["y","scaleY","originY"];function dg(e,t,n,r){ug(e.x,t,uI,n?n.x:void 0,r?r.x:void 0),ug(e.y,t,dI,n?n.y:void 0,r?r.y:void 0)}function fg(e){return e.translate===0&&e.scale===1}function y1(e){return fg(e.x)&&fg(e.y)}function fI(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function x1(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function hg(e){return lt(e.x)/lt(e.y)}class hI{constructor(){this.members=[]}add(t){ah(this.members,t),t.scheduleRender()}remove(t){if(lh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pg(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const pI=(e,t)=>e.depth-t.depth;class mI{constructor(){this.children=[],this.isDirty=!1}add(t){ah(this.children,t),this.isDirty=!0}remove(t){lh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(pI),this.isDirty=!1,this.children.forEach(t)}}function gI(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(cn(r),e(i-t))};return le.read(r,!0),()=>cn(r)}function vI(e){window.MotionDebug&&window.MotionDebug.record(e)}function yI(e){return e instanceof SVGElement&&e.tagName!=="svg"}function xI(e,t,n){const r=Ze(e)?e:xs(e);return r.start(oh("",r,t,n)),r.animation}const mg=["","X","Y","Z"],wI={visibility:"hidden"},gg=1e3;let bI=0;const ir={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function w1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=bI++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ir.totalNodes=ir.resolvedTargetDeltas=ir.recalculatedProjection=0,this.nodes.forEach(kI),this.nodes.forEach(TI),this.nodes.forEach(NI),this.nodes.forEach(jI),vI(ir)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new mI)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ch),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yI(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=gI(h,250),sa.hasAnimatedSinceResize&&(sa.hasAnimatedSinceResize=!1,this.nodes.forEach(yg))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||MI,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=d.getProps(),y=!this.targetLayout||!x1(this.targetLayout,x)||m,g=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,g);const S={...ih(v,"layout"),onPlay:b,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||yg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AI),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vg);return}this.isUpdating||this.nodes.forEach(EI),this.isUpdating=!1,this.nodes.forEach(PI),this.nodes.forEach(SI),this.nodes.forEach(_I),this.clearAllSnapshots();const a=performance.now();Le.delta=zn(0,1e3/60,a-Le.timestamp),Le.timestamp=a,Le.isProcessing=!0,Pc.update.process(Le),Pc.preRender.process(Le),Pc.render.process(Le),Le.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(CI),this.sharedNodes.forEach(RI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!y1(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||sr(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),LI(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return be();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(bn(a.x,l.offset.x),bn(a.y,l.offset.y)),a}removeElementScroll(o){const a=be();dt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){dt(a,o);const{scroll:h}=this.root;h&&(bn(a.x,-h.offset.x),bn(a.y,-h.offset.y))}bn(a.x,d.offset.x),bn(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=be();dt(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&es(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),sr(d.latestValues)&&es(l,d.latestValues)}return sr(this.latestValues)&&es(l,this.latestValues),l}removeTransform(o){const a=be();dt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!sr(c.latestValues))continue;md(c.latestValues)&&c.updateSnapshot();const d=be(),f=c.measurePageBox();dt(d,f),dg(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return sr(this.latestValues)&&dg(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Le.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Le.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),mi(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=be(),this.targetWithTransforms=be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dt(this.target,this.layout.layoutBox),f1(this.target,this.targetDelta)):dt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),mi(this.relativeTargetOrigin,this.target,m.target),dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ir.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||md(this.parent.latestValues)||d1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Le.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;dt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;GR(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:x}=a;if(!x){this.projectionTransform&&(this.projectionDelta=Zr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Zr(),this.projectionDeltaWithTransform=Zr());const v=this.projectionTransform;pi(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=pg(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),ir.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Zr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=be(),m=l?l.source:void 0,x=this.layout?this.layout.source:void 0,v=m!==x,b=this.getStack(),w=!b||b.members.length<=1,y=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(OI));this.animationProgress=0;let g;this.mixTargetDelta=S=>{const _=S/1e3;xg(f.x,o.x,_),xg(f.y,o.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mi(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),II(this.relativeTarget,this.relativeTargetOrigin,h,_),g&&fI(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=be()),dt(g,this.relativeTarget)),v&&(this.animationValues=d,oI(d,c,this.latestValues,_,y,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{sa.hasAnimatedSinceResize=!0,this.currentAnimation=xI(0,gg,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&b1(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||be();const f=lt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=lt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}dt(a,l),es(a,d),pi(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new hI),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<mg.length;d++){const f="rotate"+mg[d];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return wI;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ra(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=ra(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!sr(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=pg(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:m,y:x}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Ua){if(h[v]===void 0)continue;const{correct:b,applyTo:w}=Ua[v],y=c.transform==="none"?h[v]:b(h[v],f);if(w){const g=w.length;for(let S=0;S<g;S++)c[w[S]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=f===this?ra(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(vg),this.root.sharedNodes.clear()}}}function SI(e){e.updateLayout()}function _I(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?ft(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=lt(h);h.min=r[f].min,h.max=h.min+m}):b1(i,n.layoutBox,r)&&ft(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=lt(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=Zr();pi(a,r,n.layoutBox);const l=Zr();o?pi(l,e.applyTransform(s,!0),n.measuredBox):pi(l,r,n.layoutBox);const c=!y1(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const x=be();mi(x,n.layoutBox,h.layoutBox);const v=be();mi(v,r,m.layoutBox),x1(x,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=x,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function kI(e){ir.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function jI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function CI(e){e.clearSnapshot()}function vg(e){e.clearMeasurements()}function EI(e){e.isLayoutDirty=!1}function PI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function yg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function TI(e){e.resolveTargetDelta()}function NI(e){e.calcProjection()}function AI(e){e.resetRotation()}function RI(e){e.removeLeadSnapshot()}function xg(e,t,n){e.translate=he(t.translate,0,n),e.scale=he(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function wg(e,t,n,r){e.min=he(t.min,n.min,r),e.max=he(t.max,n.max,r)}function II(e,t,n,r){wg(e.x,t.x,n.x,r),wg(e.y,t.y,n.y,r)}function OI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const MI={duration:.45,ease:[.4,0,.1,1]},bg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Sg=bg("applewebkit/")&&!bg("chrome/")?Math.round:ve;function _g(e){e.min=Sg(e.min),e.max=Sg(e.max)}function LI(e){_g(e.x),_g(e.y)}function b1(e,t,n){return e==="position"||e==="preserve-aspect"&&!hd(hg(t),hg(n),.2)}const DI=w1({attachResizeListener:(e,t)=>Jt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fc={current:void 0},S1=w1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Fc.current){const e=new DI({});e.mount(window),e.setOptions({layoutScroll:!0}),Fc.current=e}return Fc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),$I={pan:{Feature:eI},drag:{Feature:ZR,ProjectionNode:S1,MeasureLayout:m1}},FI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function UI(e){const t=FI.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function vd(e,t,n=1){const[r,s]=UI(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return s1(o)?parseFloat(o):o}else return od(s)?vd(s,t,n+1):s}function VI(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!od(i))return;const o=vd(i,r);o&&s.set(o)});for(const s in t){const i=t[s];if(!od(i))continue;const o=vd(i,r);o&&(t[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const BI=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),_1=e=>BI.has(e),WI=e=>Object.keys(e).some(_1),kg=e=>e===Er||e===W,jg=(e,t)=>parseFloat(e.split(", ")[t]),Cg=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return jg(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?jg(i[1],e):0}},zI=new Set(["x","y","z"]),HI=no.filter(e=>!zI.has(e));function GI(e){const t=[];return HI.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const ws={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Cg(4,13),y:Cg(5,14)};ws.translateX=ws.x;ws.translateY=ws.y;const KI=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{a[c]=ws[c](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(a[c]),e[c]=ws[c](l,i)}),e},qI=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(_1);let i=[],o=!1;const a=[];if(s.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Hs(d);const h=t[l];let m;if(Ba(h)){const x=h.length,v=h[0]===null?1:0;d=h[v],f=Hs(d);for(let b=v;b<x&&h[b]!==null;b++)m?eh(Hs(h[b])===m):m=Hs(h[b])}else m=Hs(h);if(f!==m)if(kg(f)&&kg(m)){const x=c.get();typeof x=="string"&&c.set(parseFloat(x)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===W&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(h):(o||(i=GI(e),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=KI(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Nl&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function YI(e,t,n,r){return WI(t)?qI(e,t,n,r):{target:t,transitionEnd:r}}const QI=(e,t,n,r)=>{const s=VI(e,t,r);return t=s.target,r=s.transitionEnd,YI(e,t,n,r)},yd={current:null},k1={current:!1};function JI(){if(k1.current=!0,!!Nl)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>yd.current=e.matches;e.addListener(t),t()}else yd.current=!1}function XI(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],o=n[s];if(Ze(i))e.addValue(s,i),Ga(r)&&r.add(s);else if(Ze(o))e.addValue(s,xs(i,{owner:e})),Ga(r)&&r.remove(s);else if(o!==i)if(e.hasValue(s)){const a=e.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(s);e.addValue(s,xs(a!==void 0?a:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Eg=new WeakMap,j1=Object.keys(Vi),ZI=j1.length,Pg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],eO=Hf.length;class tO{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>le.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Rl(n),this.isVariantNode=cw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];a[f]!==void 0&&Ze(h)&&(h.set(a[f],!1),Ga(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Eg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),k1.current||JI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Eg.delete(this.current),this.projection&&this.projection.unmount(),cn(this.notifyUpdate),cn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Cr.has(t),s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&le.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let o,a;for(let l=0;l<ZI;l++){const c=j1[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=Vi[c];h&&(o=h),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&Jr(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):be()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Pg.length;r++){const s=Pg[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=XI(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<eO;r++){const s=Hf[r],i=this.props[s];(Ui(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=xs(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Zf(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ze(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ch),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class C1 extends tO{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let o=yR(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){gR(this,r,o);const a=QI(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function nO(e){return window.getComputedStyle(e)}class rO extends C1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Cr.has(n)){const r=sh(n);return r&&r.default||0}else{const r=nO(t),s=(hw(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return h1(t,n)}build(t,n,r,s){qf(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Xf(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ze(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){xw(t,n,r,s)}}class sO extends C1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Cr.has(n)){const r=sh(n);return r&&r.default||0}return n=ww.has(n)?n:Wf(n),t.getAttribute(n)}measureInstanceViewportBox(){return be()}scrapeMotionValuesFromProps(t,n){return Sw(t,n)}build(t,n,r,s){Qf(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){bw(t,n,r,s)}mount(t){this.isSVGTag=Jf(t.tagName),super.mount(t)}}const iO=(e,t)=>Kf(e)?new sO(t,{enableHardwareAcceleration:!1}):new rO(t,{enableHardwareAcceleration:!0}),oO={layout:{ProjectionNode:S1,MeasureLayout:m1}},aO={...IR,...ZN,...$I,...oO},H=lN((e,t)=>UN(e,t,aO,iO));function E1(){const e=p.useRef(!1);return Bf(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function lO(){const e=E1(),[t,n]=p.useState(0),r=p.useCallback(()=>{e.current&&n(t+1)},[t]);return[p.useCallback(()=>le.postRender(r),[r]),t]}class cO extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function uO({children:e,isPresent:t}){const n=p.useId(),r=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0});return p.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(t||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),p.createElement(cO,{isPresent:t,childRef:r,sizeRef:s},p.cloneElement(e,{ref:r}))}const Uc=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=_w(dO),l=p.useId(),c=p.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return p.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),p.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=p.createElement(uO,{isPresent:n},e)),p.createElement(Tl.Provider,{value:c},e)};function dO(){return new Map}function fO(e){return p.useEffect(()=>()=>e(),[])}const or=e=>e.key||"";function hO(e,t){e.forEach(n=>{const r=or(n);t.set(r,n)})}function pO(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const Wi=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=p.useContext(Gf).forceRender||lO()[0],l=E1(),c=pO(e);let d=c;const f=p.useRef(new Map).current,h=p.useRef(d),m=p.useRef(new Map).current,x=p.useRef(!0);if(Bf(()=>{x.current=!1,hO(c,m),h.current=d}),fO(()=>{x.current=!0,m.clear(),f.clear()}),x.current)return p.createElement(p.Fragment,null,d.map(y=>p.createElement(Uc,{key:or(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},y)));d=[...d];const v=h.current.map(or),b=c.map(or),w=v.length;for(let y=0;y<w;y++){const g=v[y];b.indexOf(g)===-1&&!f.has(g)&&f.set(g,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((y,g)=>{if(b.indexOf(g)!==-1)return;const S=m.get(g);if(!S)return;const _=v.indexOf(g);let j=y;if(!j){const k=()=>{f.delete(g);const C=Array.from(m.keys()).filter(A=>!b.includes(A));if(C.forEach(A=>m.delete(A)),h.current=c.filter(A=>{const E=or(A);return E===g||C.includes(E)}),!f.size){if(l.current===!1)return;a(),r&&r()}};j=p.createElement(Uc,{key:or(S),isPresent:!1,onExitComplete:k,custom:t,presenceAffectsLayout:i,mode:o},S),f.set(g,j)}d.splice(_,0,j)}),d=d.map(y=>{const g=y.key;return f.has(g)?y:p.createElement(Uc,{key:or(y),isPresent:!0,presenceAffectsLayout:i,mode:o},y)}),p.createElement(p.Fragment,null,f.size?d:d.map(y=>p.cloneElement(y)))};async function mO(e){if(!e)return[];try{const{data:t,error:n}=await G.from("watchlist").select("anime_id, status").eq("user_id",e).in("status",["Watching","Plan to Watch"]);if(n)return console.error("Error fetching watchlist:",n),[];const r=[],s=t.map(a=>a.anime_id);for(const a of s)try{const l=await fetch(`https://api.jikan.moe/v4/anime/${a}/episodes`);if(l.ok){const d=(await l.json()).data||[];if(d.length>0){const f=d[d.length-1],h=new Date(f.aired),x=(new Date().getTime()-h.getTime())/(1e3*3600*24);x<=7&&x>0&&r.push({id:`episode_${a}_${f.mal_id}`,title:"New Episode Available",message:`${f.title||`Episode ${f.mal_id}`} of ${f.title||"your anime"} is now available to watch!`,type:"new_episode",timestamp:h,read:!1,animeId:a,animeTitle:f.title||"Unknown Anime",episodeNumber:f.mal_id})}}}catch(l){console.error(`Error fetching episodes for anime ${a}:`,l)}const{data:i}=await G.from("profiles").select("watch_goal").eq("id",e).single();i!=null&&i.watch_goal&&r.push({id:"goal_achieved",title:"Watch Goal Achieved",message:"Congratulations! You've reached your monthly watch goal.",type:"goal_achieved",timestamp:new Date,read:!1});const{data:o}=await G.from("profiles").select("plan").eq("id",e).single();return(o==null?void 0:o.plan)==="free"&&r.push({id:"pro_feature",title:"Pro Feature Available",message:"Upgrade to Pro to unlock detailed episode breakdowns and smart watch guides!",type:"pro_feature",timestamp:new Date(Date.now()-72e5),read:!0}),r.sort((a,l)=>l.timestamp.getTime()-a.timestamp.getTime())}catch(t){return console.error("Error fetching notifications:",t),[]}}async function gO(){return!0}async function vO(){return!0}const yO=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!1),[s,i]=p.useState(0),[o,a]=p.useState(!1),[l,c]=p.useState(null);p.useEffect(()=>{(async()=>{const{data:{user:v}}=await G.auth.getUser();c((v==null?void 0:v.id)||null)})()},[]),p.useEffect(()=>{l&&(a(!0),mO(l).then(x=>{t(x),i(x.filter(v=>!v.read).length),a(!1)}))},[l]);const d=async x=>{l&&(t(v=>v.map(b=>b.id===x?{...b,read:!0}:b)),i(v=>Math.max(0,v-1)),await gO())},f=async()=>{l&&(t(x=>x.map(v=>({...v,read:!0}))),i(0),await vO())},h=x=>{switch(x){case"new_episode":return"";case"goal_achieved":return"";case"pro_feature":return"";case"anime_announcement":return"";default:return""}},m=x=>{switch(x){case"new_episode":return"border-blue-500/50 bg-blue-900/20";case"goal_achieved":return"border-green-500/50 bg-green-900/20";case"pro_feature":return"border-yellow-500/50 bg-yellow-900/20";case"anime_announcement":return"border-purple-500/50 bg-purple-900/20";default:return"border-blue-500/50 bg-blue-900/20"}};return l?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>r(!n),className:"relative p-2 text-slate-300 hover:text-white hover:bg-slate-800/50 rounded-lg transition-colors",disabled:o,children:[u.jsx(hk,{className:"w-5 h-5"}),s>0&&u.jsx(H.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:s>9?"9+":s})]}),u.jsx(Wi,{children:n&&u.jsxs(H.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 mt-2 w-80 bg-slate-900/95 backdrop-blur-xl border border-slate-700 rounded-lg shadow-2xl z-50",children:[u.jsx("div",{className:"p-4 border-b border-slate-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-white font-semibold",children:"Notifications"}),s>0&&u.jsx("button",{onClick:f,className:"text-purple-400 hover:text-purple-300 text-sm",children:"Mark all as read"})]})}),u.jsx("div",{className:"max-h-96 overflow-y-auto",children:o?u.jsxs("div",{className:"p-4 text-center text-slate-400",children:[u.jsx("div",{className:"w-6 h-6 border-2 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),"Loading notifications..."]}):e.length===0?u.jsx("div",{className:"p-4 text-center text-slate-400",children:"No notifications"}):e.map(x=>u.jsx(H.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`p-4 border-l-4 ${m(x.type)} ${x.read?"":"bg-slate-800/30"}`,onClick:()=>d(x.id),children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-lg",children:h(x.type)}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h4",{className:"text-white font-medium text-sm",children:x.title}),!x.read&&u.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"})]}),u.jsx("p",{className:"text-slate-300 text-sm mb-2",children:x.message}),u.jsx("p",{className:"text-slate-400 text-xs",children:x.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},x.id))}),e.length>0&&u.jsx("div",{className:"p-3 border-t border-slate-700",children:u.jsx("button",{className:"w-full text-center text-purple-400 hover:text-purple-300 text-sm",children:"View all notifications"})})]})})]}):null},xO=()=>{const e=bt(),[t,n]=p.useState(null);return p.useEffect(()=>{G.auth.getUser().then(({data:r})=>{n((r==null?void 0:r.user)||null)})},[]),u.jsx("header",{className:"w-full bg-gradient-to-r from-slate-900/90 via-purple-900/90 to-slate-900/90 px-8 py-4 flex items-center justify-end border-b border-purple-800/40 backdrop-blur-xl sticky top-0 z-50",children:u.jsx("div",{className:"flex items-center gap-4",children:t?u.jsxs(u.Fragment,{children:[u.jsx(yO,{}),u.jsxs(nw,{children:[u.jsx(rw,{asChild:!0,children:u.jsx("button",{className:"text-slate-300 hover:text-white p-2 rounded-lg transition-colors",children:u.jsx(Ck,{className:"w-5 h-5"})})}),u.jsx(sw,{className:"bg-slate-800 border border-slate-700 rounded-lg shadow-lg py-2 mt-2 min-w-[140px]",children:u.jsx(iw,{onSelect:async()=>{await G.auth.signOut(),e("/")},className:"px-4 py-2 text-white hover:bg-purple-600 cursor-pointer",children:"Sign out"})})]})]}):null})})},wO=()=>{const[e,t]=p.useState(null),n=bt();p.useEffect(()=>{G.auth.getUser().then(({data:o})=>{t((o==null?void 0:o.user)||null)})},[]);const r=()=>{n(e?"/dashboard":"/join")},s=()=>{n("/join")},i=()=>{n("/signup")};return u.jsx("footer",{className:"bg-black mt-16",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-12",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"col-span-1 md:col-span-2 flex flex-col gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center",children:u.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M8 5v14l11-7L8 5z",fill:"#fff"})})}),u.jsx("span",{className:"text-3xl font-bold text-white tracking-wide",children:"AnimeSkip"})]}),u.jsx("p",{className:"text-slate-400 max-w-md",children:"Skip the fillers, track your progress, and discover amazing anime. The ultimate anime tracking experience for true fans."}),!e&&u.jsx("button",{onClick:r,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg font-bold shadow-lg hover:from-purple-600 hover:to-blue-600 transition-all duration-200 transform hover:scale-105",children:"Get Started Free"})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-white font-semibold mb-4",children:"Quick Links"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx("button",{onClick:()=>n("/search"),className:"text-slate-400 hover:text-purple-300 transition-colors",children:"Browse Anime"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>n("/search"),className:"text-slate-400 hover:text-purple-300 transition-colors",children:"Trending"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>n("/search"),className:"text-slate-400 hover:text-purple-300 transition-colors",children:"Seasonal"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>n("/search"),className:"text-slate-400 hover:text-purple-300 transition-colors",children:"Genres"})}),!e&&u.jsx("li",{children:u.jsx("button",{onClick:()=>n("/dashboard"),className:"text-slate-400 hover:text-purple-300 transition-colors",children:"Calendar"})})]})]}),!e&&u.jsxs("div",{children:[u.jsx("h4",{className:"text-white font-semibold mb-4",children:"Support"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx("button",{onClick:()=>window.open("mailto:support@aniskip.com"),className:"text-slate-400 hover:text-purple-300 transition-colors",children:"Help Center"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>window.open("mailto:contact@aniskip.com"),className:"text-slate-400 hover:text-purple-300 transition-colors",children:"Contact Us"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>window.open("/privacy"),className:"text-slate-400 hover:text-purple-300 transition-colors",children:"Privacy Policy"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>window.open("/terms"),className:"text-slate-400 hover:text-purple-300 transition-colors",children:"Terms of Service"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>window.open("/cookies"),className:"text-slate-400 hover:text-purple-300 transition-colors",children:"Cookie Policy"})})]})]})]}),u.jsxs("div",{className:"border-t border-slate-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[u.jsx("p",{className:"text-slate-500 text-sm",children:" 2024 AnimeSkip. All rights reserved. Made with  for anime fans."}),!e&&u.jsxs("div",{className:"flex items-center gap-6 mt-4 md:mt-0",children:[u.jsx("button",{onClick:s,className:"text-slate-500 hover:text-purple-300 transition-colors text-sm",children:"Sign In"}),u.jsx("button",{onClick:i,className:"text-purple-400 hover:text-purple-300 font-semibold transition-colors text-sm",children:"Sign Up"})]})]})]})})},bO=[{title:"Dashboard",url:"/dashboard",icon:fk},{title:"Library",url:"/library",icon:Sk},{title:"Search",url:"/search",icon:Vu},{title:"Watch Guides",url:"/watch-guides",icon:pk},{title:"Settings",url:"/settings",icon:ly}];function SO({children:e}){const t=_r(),n=bt();return u.jsxs("div",{className:"min-h-screen flex w-full bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[u.jsxs("div",{className:"w-64 bg-slate-900/50 backdrop-blur-xl border-r border-slate-700 p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-xl flex items-center justify-center",children:u.jsx(as,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"font-bold text-xl gradient-text",children:"AnimeSkip"}),u.jsxs("div",{className:"flex gap-2 mt-1",children:[u.jsx("span",{className:"px-1.5 py-0.5 bg-slate-800/70 text-slate-200 rounded-full text-[9px] font-medium border border-slate-700",children:"Filler Lists"}),u.jsx("span",{className:"px-1.5 py-0.5 bg-slate-800/70 text-slate-200 rounded-full text-[9px] font-medium border border-slate-700",children:"Watch Guides"})]})]})]}),u.jsx("nav",{className:"space-y-2",children:bO.map(r=>u.jsxs(Ct,{to:r.url,className:`flex items-center gap-3 px-3 py-3 rounded-lg transition-all duration-200 ${t.pathname===r.url?"bg-purple-500/30 text-purple-300 border border-purple-500/50":"text-slate-300 hover:bg-purple-500/20 hover:text-purple-300"}`,children:[u.jsx(r.icon,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:r.title})]},r.title))}),u.jsx("div",{className:"mt-8",children:u.jsxs("div",{className:"bg-slate-800/60 rounded-xl p-4 flex flex-col gap-2 items-center",children:[u.jsx("div",{className:"text-yellow-300 font-bold mb-1",children:"Upgrade to Pro"}),u.jsx("div",{className:"text-slate-400 text-xs mb-2 text-center",children:"Get unlimited tracking, skip summaries, and premium insights"}),u.jsx("button",{onClick:()=>n("/subscription"),className:"w-full bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg py-2 font-bold text-sm shadow-lg hover:from-purple-600 hover:to-blue-600 transition mb-2",children:"Upgrade Now"})]})})]}),u.jsxs("main",{className:"flex-1 flex flex-col",children:[u.jsx(xO,{}),u.jsx("div",{className:"flex-1 overflow-auto",children:e}),u.jsx(wO,{})]})]})}const _O=window.location.hostname==="localhost"?"/api/anilist":"https://graphql.anilist.co";let Tg=0;const Ng=1e3,xd=new Map,kO=5*60*1e3,Ag=()=>{xd.clear(),console.log("API cache cleared")},jO=async()=>{const t=Date.now()-Tg;if(t<Ng){const n=Ng-t;await new Promise(r=>setTimeout(r,n))}Tg=Date.now()},oo=async(e,t,n=2)=>{const r=JSON.stringify({query:e,variables:t}),s=xd.get(r);if(s&&Date.now()-s.timestamp<kO)return console.log("Using cached data for:",r.substring(0,50)+"..."),s.data;for(let i=1;i<=n;i++)try{await jO();const o=await fetch(_O,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:e,variables:t})});if(o.status===429){console.warn("Rate limited, waiting longer..."),await new Promise(l=>setTimeout(l,5e3));continue}if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const a=await o.json();return xd.set(r,{data:a,timestamp:Date.now()}),a}catch(o){if(console.warn(`API call attempt ${i} failed:`,o),i===n)return console.log("Returning mock data due to API failure"),CO();await new Promise(a=>setTimeout(a,Math.pow(2,i)*2e3))}},CO=()=>{const e={id:1,title:{romaji:"Demo Anime",english:"Demo Anime",native:""},coverImage:{large:"https://via.placeholder.com/300x400/6366f1/ffffff?text=Demo+Anime",medium:"https://via.placeholder.com/200x300/6366f1/ffffff?text=Demo+Anime"},bannerImage:"https://via.placeholder.com/1200x300/6366f1/ffffff?text=Demo+Anime+Banner",description:"This is a demo anime that appears when the API is unavailable. Please check your internet connection and try again.",averageScore:75,episodes:12,status:"FINISHED",genres:["Action","Adventure"],season:"WINTER",seasonYear:2024,format:"TV",duration:24,studios:{nodes:[{name:"Demo Studio"}]}};return{data:{Page:{pageInfo:{total:1e3,currentPage:1,hasNextPage:!1},media:Array(8).fill(null).map((n,r)=>({...e,id:r+1,title:{romaji:`Demo Anime ${r+1}`,english:`Demo Anime ${r+1}`,native:`${r+1}`}}))}}}},EO=`
  query ($search: String, $page: Int, $perPage: Int) {
    Page(page: $page, perPage: $perPage) {
      pageInfo {
        total
        currentPage
        hasNextPage
      }
      media(search: $search, type: ANIME, sort: [POPULARITY_DESC]) {
        id
        title {
          romaji
          english
          native
        }
        coverImage {
          large
          medium
        }
        bannerImage
        description
        averageScore
        episodes
        status
        genres
        season
        seasonYear
        format
        duration
        studios {
          nodes {
            name
          }
        }
      }
    }
  }
`,PO=`
  query ($page: Int, $perPage: Int) {
    Page(page: $page, perPage: $perPage) {
      pageInfo {
        total
        currentPage
        hasNextPage
      }
      media(type: ANIME, sort: [TRENDING_DESC]) {
        id
        title {
          romaji
          english
          native
        }
        coverImage {
          large
          medium
        }
        bannerImage
        description
        averageScore
        episodes
        status
        genres
        season
        seasonYear
        format
        duration
        studios {
          nodes {
            name
          }
        }
      }
    }
  }
`,TO=`
  query ($page: Int, $perPage: Int, $season: MediaSeason, $seasonYear: Int) {
    Page(page: $page, perPage: $perPage) {
      pageInfo {
        total
        currentPage
        hasNextPage
      }
      media(type: ANIME, season: $season, seasonYear: $seasonYear, sort: [POPULARITY_DESC]) {
        id
        title {
          romaji
          english
          native
        }
        coverImage {
          large
          medium
        }
        bannerImage
        description
        averageScore
        episodes
        status
        genres
        season
        seasonYear
        format
        duration
        studios {
          nodes {
            name
          }
        }
      }
    }
  }
`,NO=`
  query ($page: Int, $perPage: Int) {
    Page(page: $page, perPage: $perPage) {
      pageInfo {
        total
        currentPage
        hasNextPage
      }
      media(type: ANIME, sort: [POPULARITY_DESC]) {
        id
        title {
          romaji
          english
          native
        }
        coverImage {
          large
          medium
        }
        bannerImage
        description
        averageScore
        episodes
        status
        genres
        season
        seasonYear
        format
        duration
        studios {
          nodes {
            name
          }
        }
      }
    }
  }
`,Rg=async(e,t=1,n=20)=>await oo(EO,{search:e,page:t,perPage:n}),uh=async(e=1,t=20)=>await oo(PO,{page:e,perPage:t}),AO=async(e=1,t=20,n="WINTER",r=new Date().getFullYear())=>await oo(TO,{page:e,perPage:t,season:n,seasonYear:r}),RO=async(e=1,t=20)=>await oo(NO,{page:e,perPage:t}),Uo=()=>{const e=new Date,t=e.getMonth()+1,n=e.getFullYear();let r;return t>=1&&t<=3?r="WINTER":t>=4&&t<=6?r="SPRING":t>=7&&t<=9?r="SUMMER":r="FALL",{season:r,year:n}},dh=async e=>(await oo(`
    query ($id: Int) {
      Media(id: $id, type: ANIME) {
        id
        title {
          romaji
          english
          native
        }
        coverImage {
          large
          medium
        }
        bannerImage
        description
        averageScore
        episodes
        status
        genres
        season
        seasonYear
        format
        duration
        studios {
          nodes {
            name
          }
        }
      }
    }
  `,{id:e})).data;function bs({anime:e,onClick:t,variant:n="default",showSignInButton:r=!1,onSignInClick:s,isInWatchlist:i=!1,onAddToWatchlist:o,onRemoveFromWatchlist:a,currentStatus:l="Plan to Watch",currentEpisode:c=1}){var y,g;const[d,f]=p.useState(!1),[h,m]=p.useState(!1);p.useEffect(()=>{},[l,c]);const x=()=>e.title.english||e.title.romaji||e.title.native,v=()=>e.averageScore?(e.averageScore/10).toFixed(1):"N/A",b=S=>{S.stopPropagation(),s?s():window.location.href="/join"},w=S=>{S.stopPropagation(),m(!0),i&&a?a(e):!i&&o&&o(e),setTimeout(()=>m(!1),600)};return u.jsxs(H.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},whileHover:{y:-5,scale:1.03,boxShadow:"0 8px 32px 0 rgba(80,0,120,0.25)"},transition:{type:"spring",stiffness:200,damping:20},className:"group relative overflow-hidden rounded-xl glass-effect border border-slate-700 hover:border-purple-500/50 transition-all duration-300 cursor-pointer",onClick:()=>t(e),onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[u.jsxs("div",{className:"relative aspect-[2/3] overflow-hidden",children:[u.jsx(H.img,{src:e.coverImage.large,alt:x(),className:"w-full h-full object-cover",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300,damping:20}}),r&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 z-10",children:u.jsx("button",{onClick:b,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg font-semibold hover:from-purple-600 hover:to-blue-600 transition-all duration-200 shadow-lg",children:"Sign In to Track"})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),!r&&(o||a)&&u.jsx(H.button,{initial:{opacity:0,scale:.8},animate:{opacity:d?1:0,scale:d?1:.8,backgroundColor:h?i?"#ef4444":"#22c55e":i?"#ef4444":"#3b82f6"},whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:25,backgroundColor:{duration:.3}},onClick:w,className:"absolute top-3 right-3 z-20 w-8 h-8 rounded-full flex items-center justify-center text-white shadow-lg border-2 border-white/20",children:u.jsx(H.div,{animate:{rotate:h?180:0,scale:h?1.2:1},transition:{rotate:{duration:.3},scale:{duration:.2}},children:i?u.jsx(kk,{className:"w-4 h-4"}):u.jsx(ay,{className:"w-4 h-4"})})}),u.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[n==="trending"&&u.jsxs("div",{className:"bg-orange-500/90 text-white px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[u.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})," Trending"]}),n==="recommended"&&u.jsxs("div",{className:"bg-purple-500/90 text-white px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[u.jsx(Pn,{className:"w-3 h-3"})," Recommended"]})]}),e.averageScore&&u.jsxs("div",{className:"absolute top-3 right-3 bg-black/70 text-white px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[u.jsx(Pn,{className:"w-3 h-3 text-yellow-400 fill-current"}),v()]})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("h3",{className:"font-semibold text-white text-sm mb-2 line-clamp-2 group-hover:text-purple-300 transition-colors",children:x()}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400 mb-3",children:[u.jsxs("span",{children:[e.episodes||"?"," eps"]}),u.jsx("span",{className:"capitalize",children:(y=e.status)==null?void 0:y.toLowerCase()})]}),u.jsx("div",{className:"flex flex-wrap gap-1",children:(g=e.genres)==null?void 0:g.slice(0,2).map((S,_)=>u.jsx("span",{className:"bg-slate-700/50 text-slate-300 px-2 py-1 rounded-full text-xs",children:S},_))})]}),u.jsx("div",{className:"absolute inset-0 rounded-xl border-2 border-transparent group-hover:border-purple-500/30 transition-colors duration-300 pointer-events-none"})]})}async function IO(e){if(console.log("getTrackedAnimeMap called with userId:",e),!e)return console.log("No userId provided, returning empty map"),{};try{console.log("Fetching watchlist from Supabase...");const{data:t,error:n}=await G.from("watchlist").select("anime_id, status, current_episode").eq("user_id",e);if(n)return console.error("Error fetching watchlist:",n),{};console.log("Watchlist data received:",t);const r={};return t==null||t.forEach(s=>{r[s.anime_id.toString()]={status:s.status,episode:s.current_episode}}),console.log("Processed watchlist map:",r),r}catch(t){return console.error("Error in getTrackedAnimeMap:",t),{}}}async function OO(e,t,n,r,s="anilist"){if(console.log("setTrackedAnime called with:",{userId:e,animeId:t,status:n,episode:r,site:s}),!e)return console.log("No userId provided, returning false"),!1;try{const{data:{user:i}}=await G.auth.getUser();if(console.log("Auth check result:",{user:i==null?void 0:i.id}),!i)return console.error("User not authenticated"),!1;if(!t||!n||r<1)return console.error("Invalid inputs:",{animeId:t,status:n,episode:r}),!1;const o={user_id:e,anime_id:t,site:s,status:n,current_episode:r};console.log("Attempting to upsert watchlist item:",o);const{data:a,error:l}=await G.from("watchlist").select("count").limit(1);console.log("Connection test result:",{testData:a,testError:l});const{data:c,error:d}=await G.from("watchlist").upsert(o,{onConflict:"user_id,anime_id"});return console.log("Upsert result:",{data:c,error:d}),d?(console.error("Error updating watchlist:",d),d.code==="42501"&&console.error("RLS (Row Level Security) error. Need to enable RLS with proper policies."),d.code==="23503"&&console.error("Foreign key error. Check if the watchlist table exists and has proper constraints."),d.code==="23505"&&console.error("Unique constraint error. This might be expected for updates."),!1):(console.log("Successfully upserted watchlist item:",c),!0)}catch(i){return console.error("Error in setTrackedAnime:",i),!1}}async function MO(e,t){if(console.log("removeTrackedAnime called with:",{userId:e,animeId:t}),!e)return!1;try{const{error:n}=await G.from("watchlist").delete().eq("user_id",e).eq("anime_id",t);return n?(console.error("Error removing from watchlist:",n),!1):(console.log("Successfully removed anime from watchlist"),!0)}catch(n){return console.error("Error in removeTrackedAnime:",n),!1}}async function LO(e){console.log("Testing watchlist connection for userId:",e);try{const{data:{user:t}}=await G.auth.getUser();if(!t)return{success:!1,error:"User not authenticated"};const{data:n,error:r}=await G.from("watchlist").select("*").limit(1);console.log("Read test result:",{readData:n,readError:r});const s={user_id:e,anime_id:999999,site:"test",status:"test",current_episode:1},{data:i,error:o}=await G.from("watchlist").insert(s);console.log("Insert test result:",{insertData:i,insertError:o});const{error:a}=await G.from("watchlist").delete().eq("user_id",e).eq("anime_id",999999);return console.log("Delete test result:",{deleteError:a}),r?{success:!1,error:"Cannot read from watchlist table",details:r}:o?{success:!1,error:"Cannot insert into watchlist table",details:o}:{success:!0,details:{readData:n,insertData:i}}}catch(t){return console.error("Error testing watchlist connection:",t),{success:!1,error:"Connection test failed",details:t}}}const DO=["Watching","Completed","Plan to Watch","On Hold","Dropped"],pn={20:{episodes:[{number:1,type:"canon"},{number:2,type:"canon"},{number:3,type:"filler"},{number:4,type:"canon"},{number:5,type:"recap"},{number:6,type:"canon"},{number:7,type:"filler"},{number:8,type:"canon"}],skipTo:4,timeSavedHours:6,summary:"Save 6 hours by skipping filler in Naruto."},21:{episodes:[{number:1,type:"canon"},{number:2,type:"canon"},{number:3,type:"filler"},{number:4,type:"recap"},{number:5,type:"canon"}],skipTo:5,timeSavedHours:4,summary:"Skip to Ep 5  rest are recap/filler."},16498:{episodes:[{number:1,type:"canon"},{number:2,type:"canon"},{number:3,type:"canon"},{number:4,type:"recap"},{number:5,type:"canon"}],skipTo:5,timeSavedHours:2,summary:"Skip recap for max efficiency."},5114:{episodes:[{number:1,type:"canon"},{number:2,type:"canon"},{number:3,type:"recap"},{number:4,type:"canon"},{number:5,type:"canon"}],skipTo:4,timeSavedHours:1.5,summary:"Skip recap for max efficiency."},11061:{episodes:[{number:1,type:"canon"},{number:2,type:"filler"},{number:3,type:"canon"},{number:4,type:"canon"},{number:5,type:"recap"}],skipTo:3,timeSavedHours:2,summary:"Skip filler and recap for max efficiency."}},Ig={20:["Watch episodes 1-5 (canon)","Skip episodes 6-19 (filler)","Watch episodes 20-50 (canon)","Skip episodes 51-100 (filler)","Finish with episodes 101-135 (canon)"],21:["Watch episodes 1-56 (canon)","Skip episodes 57-70 (filler)","Watch episodes 71-112 (canon)","Skip episodes 113-143 (filler)","Finish with episodes 144-500 (canon)"],16498:["Watch all episodes in order (minimal filler)","Optional: skip recaps at the start of each season"]};function $O(e){const[t,n]=p.useState([]);return p.useEffect(()=>{e&&fetch(`https://api.jikan.moe/v4/anime/${e}/full`).then(r=>{if(!r.ok)throw new Error("Not found");return r.json()}).then(r=>{var s;(s=r==null?void 0:r.data)!=null&&s.streaming&&Array.isArray(r.data.streaming)?n(r.data.streaming):n([])}).catch(()=>n([]))},[e]),t}function Ll({anime:e,isOpen:t,onClose:n,onAddToWatchlist:r,trackedAnime:s,onTrackAnime:i,isProUser:o=!1,userId:a,showSignInPrompt:l=!1}){var A;if(!e)return null;const c=bt(),[d,f]=p.useState(""),[h,m]=p.useState(1),[x,v]=p.useState(!1),[b,w]=p.useState(!1),[y,g]=p.useState("");console.log("[AnimeModal] userId:",a),p.useEffect(()=>{s?(f(s.status),m(s.episode)):(f(""),m(1)),v(!1),w(!1),g("")},[e,s,t]);const S=()=>e.title.english||e.title.romaji||e.title.native,_=()=>e.averageScore?(e.averageScore/10).toFixed(1):"N/A",j=async()=>{if(!a){g("No user ID available");return}g("Testing connection...");const E=await LO(a);g(E.success?" Connection successful!":` ${E.error}`),console.log("Test result:",E)},k=e.mal_id,C=$O(k);return u.jsx(Wi,{children:t&&u.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:n,children:u.jsxs(H.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl p-8 max-w-4xl w-full shadow-2xl border border-purple-800/40 relative max-h-[90vh] overflow-y-auto",onClick:E=>E.stopPropagation(),children:[u.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-slate-400 hover:text-white transition-colors p-2 rounded-full hover:bg-slate-800/50",children:u.jsx(Bu,{className:"w-6 h-6"})}),u.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[u.jsxs("div",{className:"flex-shrink-0 flex flex-col",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:e.coverImage.large,alt:S(),className:"w-64 h-96 object-cover rounded-xl shadow-lg"}),e.averageScore&&u.jsxs("div",{className:"absolute top-3 right-3 bg-black/70 text-white px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1",children:[u.jsx(Pn,{className:"w-4 h-4 text-yellow-400 fill-current"}),_()]})]}),a&&u.jsxs("div",{children:[u.jsx("div",{className:a?"mb-4 p-4 bg-slate-800/40 rounded-xl border border-slate-700/50":"mb-4",style:a?{}:{display:"none"},children:a?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-2 text-white font-semibold text-base flex items-center gap-2",children:"Set Status & Progress"}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:DO.map(E=>u.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium border transition-colors duration-150 ${d===E?"bg-purple-600 text-white border-purple-500":"bg-slate-900 text-slate-300 border-slate-700 hover:bg-purple-800/40 hover:text-white"}`,onClick:()=>{f(E),E==="Completed"&&e.episodes?m(e.episodes):m(E==="Plan to Watch"?0:1)},children:E},E))}),d?u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("label",{className:"text-slate-300 text-sm",children:"Episode:"}),u.jsx("button",{className:"px-2 py-1 rounded bg-slate-700 text-white text-xs",onClick:()=>{const E=Math.max(d==="Plan to Watch"?0:1,h-1);m(E),d==="Plan to Watch"&&E>0&&f("Watching")},disabled:h<=(d==="Plan to Watch"?0:1),children:"-"}),u.jsx("input",{type:"number",min:d==="Plan to Watch"?0:1,max:e.episodes||3e3,value:h===null?"":h,onChange:E=>{const M=E.target.value;if(/^\d*$/.test(M))if(M==="")m(NaN);else{const U=Number(M);m(U),e.episodes&&U===e.episodes?f("Completed"):U===0?f("Plan to Watch"):d==="Plan to Watch"&&U>0&&f("Watching")}},onBlur:E=>{let M=Number(E.target.value);isNaN(M)&&(M=d==="Plan to Watch"?0:1),M<(d==="Plan to Watch"?0:1)&&(M=d==="Plan to Watch"?0:1),e.episodes&&M>e.episodes&&(M=e.episodes),m(M),e.episodes&&M===e.episodes?f("Completed"):M===0?f("Plan to Watch"):d==="Plan to Watch"&&M>0&&f("Watching")},inputMode:"numeric",pattern:"[0-9]*",className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700 text-white text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 text-center"}),u.jsx("button",{className:"px-2 py-1 rounded bg-slate-700 text-white text-xs",onClick:()=>{const E=e.episodes||3e3,M=Math.min(E,h+1);m(M),d==="Plan to Watch"&&M>0&&f("Watching")},disabled:e.episodes?h>=e.episodes:!1,children:"+"}),u.jsxs("span",{className:"text-xs text-slate-400",children:["/ ",e.episodes||"?"," "]}),u.jsx("button",{className:`ml-4 px-4 py-1 rounded text-xs font-semibold text-white bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 transition-all duration-200 shadow-lg focus:outline-none ${b?"opacity-60":""}`,onClick:async()=>{let E=h;isNaN(E)&&(E=d==="Plan to Watch"?0:1),E<(d==="Plan to Watch"?0:1)&&(E=d==="Plan to Watch"?0:1),e.episodes&&E>e.episodes&&(E=e.episodes),m(E),d==="Plan to Watch"&&E>0&&f("Watching"),i&&d&&(w(!0),await i(e,d,E),v(!0),setTimeout(()=>v(!1),2e3),w(!1))},disabled:b||!d,children:x?"Saved!":s?"Update":"Save"})]}):u.jsx("div",{style:{display:"none"}})]}):u.jsx("div",{style:{display:"none"}})}),u.jsx("div",{className:"mb-4 p-3 bg-slate-700/50 rounded-lg",children:a?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(mk,{className:"w-4 h-4 text-yellow-400"}),u.jsx("span",{className:"text-yellow-400 text-sm font-medium",children:"Debug Connection"})]}),u.jsx("button",{onClick:j,className:"px-3 py-1 bg-yellow-600 text-white rounded text-xs hover:bg-yellow-700 transition-colors",children:"Test Watchlist Connection"}),y&&u.jsx("div",{className:"mt-2 text-xs text-slate-300",children:y})]}):u.jsx("div",{style:{display:"none"}})}),u.jsx("div",{children:s?u.jsxs("div",{className:"mt-2 text-xs text-green-400",children:["Currently: ",s.status," (Ep ",s.episode,")"]}):u.jsx("div",{style:{display:"none"}})})]}),!a&&u.jsxs("div",{className:"p-4 bg-red-900/20 border border-red-700/40 rounded-lg text-red-300 text-center mt-4",children:[u.jsx("strong",{children:"Debug:"})," userId is missing. You must be logged in to see the status board.",u.jsx("br",{}),"If you are logged in and still see this, check authentication logic in the parent component."]}),u.jsx("div",{className:"flex gap-3 mt-4",children:r&&u.jsxs("button",{onClick:()=>r(e),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg font-semibold hover:from-purple-600 hover:to-blue-600 transition-all duration-200 transform hover:scale-105",children:[u.jsx(ay,{className:"w-4 h-4"}),"Add to Watchlist"]})}),!a&&l&&u.jsx("div",{className:"mt-8 p-4 bg-slate-800/40 rounded-xl border border-slate-700/50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-white font-semibold text-lg mb-2",children:"Want to track this anime?"}),u.jsx("p",{className:"text-slate-300 text-sm mb-4",children:"Sign in to add anime to your watchlist and track your progress."}),u.jsx("button",{onClick:()=>{n(),window.location.href="/join"},className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg font-semibold hover:from-purple-600 hover:to-blue-600 transition-all duration-200",children:"Sign In"})]})})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h2",{className:"text-3xl font-bold text-white mb-2 leading-tight",children:S()}),e.title.native&&e.title.native!==S()&&u.jsx("p",{className:"text-lg text-slate-400 mb-2",children:e.title.native}),u.jsxs("div",{className:"flex items-center gap-4 text-slate-300",children:[u.jsx("span",{className:"capitalize bg-slate-800/50 px-3 py-1 rounded-full text-sm",children:(A=e.status)==null?void 0:A.toLowerCase()}),e.episodes&&u.jsxs("span",{className:"text-slate-400",children:[e.episodes," Episodes"]}),e.duration&&u.jsxs("span",{className:"text-slate-400",children:[e.duration," min/ep"]})]})]}),e.description&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Synopsis"}),u.jsx("div",{className:"text-slate-300 leading-relaxed line-clamp-6",dangerouslySetInnerHTML:{__html:e.description}})]}),e.genres&&e.genres.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Genres"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:e.genres.map((E,M)=>u.jsx("span",{className:"bg-purple-800/40 text-purple-100 px-3 py-1 rounded-full text-sm border border-purple-700/50",children:E},M))})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.format&&u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-slate-400 mb-1",children:"Format"}),u.jsx("p",{className:"text-white capitalize",children:e.format.toLowerCase()})]}),e.season&&u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-slate-400 mb-1",children:"Season"}),u.jsxs("p",{className:"text-white capitalize",children:[e.season.toLowerCase()," ",e.seasonYear]})]}),e.studios&&e.studios.nodes&&e.studios.nodes.length>0&&u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-slate-400 mb-1",children:"Studio"}),u.jsx("p",{className:"text-white",children:e.studios.nodes[0].name})]})]}),e.id&&u.jsxs("div",{className:"mt-8",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[u.jsx(Pn,{className:"w-5 h-5 text-yellow-400"})," Episode Breakdown"]}),o?pn[e.id]?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"overflow-x-auto mb-2",children:u.jsxs("table",{className:"min-w-[300px] w-full text-sm text-left text-slate-300",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-2 py-1",children:"Ep"}),u.jsx("th",{className:"px-2 py-1",children:"Type"})]})}),u.jsx("tbody",{children:pn[e.id].episodes.map(E=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-2 py-1 font-bold",children:E.number}),u.jsx("td",{className:`px-2 py-1 capitalize ${E.type==="filler"?"text-red-400":E.type==="recap"?"text-yellow-300":"text-green-400"}`,children:E.type})]},E.number))})]})}),pn[e.id].summary&&u.jsx("div",{className:"mb-2 text-purple-300 font-medium",children:pn[e.id].summary}),pn[e.id].skipTo&&u.jsxs("div",{className:"mb-2 text-blue-300",children:["Recommendation: ",u.jsxs("span",{className:"font-bold",children:["Skip to Ep ",pn[e.id].skipTo]})]}),pn[e.id].timeSavedHours&&u.jsxs("div",{className:"mb-2 text-green-300",children:["Save ",u.jsxs("span",{className:"font-bold",children:[pn[e.id].timeSavedHours," hours"]})," by skipping filler/recap."]})]}):u.jsx("div",{className:"text-slate-400",children:"No episode breakdown available for this anime yet."}):u.jsxs("div",{className:"flex flex-col items-center justify-center bg-slate-800/60 border border-purple-700/40 rounded-lg p-6 mt-2",children:[u.jsx(dl,{className:"w-8 h-8 text-purple-400 mb-2"}),u.jsx("div",{className:"text-purple-200 font-semibold mb-1",children:"Pro Feature Locked"}),u.jsx("div",{className:"text-slate-400 mb-2 text-center",children:"Upgrade to Pro to unlock filler skips, episode breakdowns, and save hours on your anime journey!"}),u.jsx("button",{className:"px-5 py-2 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg font-bold shadow-lg hover:from-purple-600 hover:to-blue-600 transition-all duration-200",children:"Upgrade to Pro"})]})]}),o&&e.id&&Ig[e.id]&&u.jsxs("div",{className:"mt-8",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[u.jsx(Pn,{className:"w-5 h-5 text-yellow-400"})," Smart Watch Guide"]}),u.jsx("ul",{className:"list-disc pl-6 text-purple-200 space-y-1",children:Ig[e.id].map((E,M)=>u.jsx("li",{children:E},M))})]}),o&&C.length>0&&u.jsxs("div",{className:"mt-8",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[u.jsx(Pn,{className:"w-5 h-5 text-yellow-400"})," Streaming Sites"]}),u.jsx("ul",{className:"list-disc pl-6 text-purple-200 space-y-1",children:C.map((E,M)=>u.jsx("li",{children:u.jsx("a",{href:E.url,target:"_blank",rel:"noopener noreferrer",className:"text-purple-300 hover:underline",children:E.name})},M))})]}),!o&&u.jsx("div",{className:"mt-8 flex justify-center",children:u.jsx("button",{onClick:()=>c("/subscription"),className:"px-6 py-3 bg-gradient-to-r from-yellow-400 to-yellow-600 text-black font-bold rounded-lg shadow-lg hover:from-yellow-500 hover:to-yellow-700 transition-all text-lg",children:"Upgrade to Pro for Streaming Links & More"})}),u.jsx("div",{className:"mt-6 p-4 bg-slate-800/30 rounded-lg border border-slate-700/50",children:u.jsx("p",{className:"text-slate-400 text-sm",children:"Episode breakdown and filler information coming soon..."})})]})]})]})})})}function ao(){const[e,t]=p.useState(null),[n,r]=p.useState(!1),[s,i]=p.useState(!0);return p.useEffect(()=>{let o=!0;async function a(){i(!0);const{data:{user:l}}=await G.auth.getUser();if(!l){o&&(t(null),r(!1),i(!1));return}const{data:c}=await G.from("profiles").select("plan, show_nsfw").eq("id",l.id).single();o&&(t((c==null?void 0:c.plan)||"free"),r((c==null?void 0:c.show_nsfw)||!1),i(!1))}return a(),()=>{o=!1}},[]),{plan:e,showNsfw:n,loading:s}}function Dl(){const[e,t]=p.useState({}),[n,r]=p.useState(null),[s,i]=p.useState(!0);return p.useEffect(()=>{(async()=>{console.log("useWatchlist: Fetching current user...");const{data:{user:d}}=await G.auth.getUser();console.log("useWatchlist: Current user:",d),r((d==null?void 0:d.id)||null),i(!1)})();const{data:{subscription:c}}=G.auth.onAuthStateChange((d,f)=>{var h,m;console.log("useWatchlist: Auth state changed:",d,(h=f==null?void 0:f.user)==null?void 0:h.id),r(((m=f==null?void 0:f.user)==null?void 0:m.id)||null)});return()=>c.unsubscribe()},[]),p.useEffect(()=>{(async()=>{if(console.log("useWatchlist: Loading watchlist for userId:",n),n){const c=await IO(n);console.log("useWatchlist: Setting trackedMap:",c),t(c)}else console.log("useWatchlist: No userId, setting empty trackedMap"),t({})})()},[n]),{trackedMap:e,userId:n,loading:s,updateTrackedAnime:async(l,c,d)=>{if(console.log("useWatchlist: updateTrackedAnime called with:",{animeId:l,status:c,episode:d,userId:n}),!n)return console.log("useWatchlist: No userId, cannot update tracked anime"),!1;try{const f=await OO(n,l,c,d);if(console.log("useWatchlist: setTrackedAnime result:",f),f){const h={...e,[l.toString()]:{status:c,episode:d}};console.log("useWatchlist: Updating local state with:",h),t(h)}return f}catch(f){return console.error("useWatchlist: Error updating tracked anime:",f),!1}},removeAnime:async l=>{if(console.log("useWatchlist: removeAnime called with:",{animeId:l,userId:n}),!n)return!1;const c=await MO(n,l);return c&&t(d=>{const f={...d};return delete f[l.toString()],f}),c}}}function Og(){return Number(localStorage.getItem("monthlyGoal")||15)}const Vc=["Hentai","Ecchi"],Mg=({value:e,suffix:t="",duration:n=2})=>{const[r,s]=p.useState(0);return p.useEffect(()=>{const i=parseFloat((e||"0").toString().replace(/[^0-9.]/g,"")),o=Date.now(),a=setInterval(()=>{const l=(Date.now()-o)/1e3,c=Math.min(l/n,1),d=Math.floor(i*c);s(d),c>=1&&(clearInterval(a),s(i))},50);return()=>clearInterval(a)},[e,n]),u.jsxs(H.span,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10,delay:.2},className:"text-2xl font-bold text-white",children:[r,t]})};function FO(){const{trackedMap:e,loading:t,updateTrackedAnime:n,removeAnime:r}=Dl(),[s,i]=p.useState([]),[o,a]=p.useState(null),[l,c]=p.useState(!1),[d,f]=p.useState(!0),[h,m]=p.useState(0),[x,v]=p.useState(0),[b,w]=p.useState(0),[y,g]=p.useState(Og()),[S,_]=p.useState(Og().toString()),{plan:j,loading:k,showNsfw:C}=ao(),[A,E]=p.useState([]),[M,U]=p.useState(!0);p.useEffect(()=>{U(!0),uh(1,3).then(T=>{E(T.data.Page.media||[]),U(!1)}).catch(T=>{console.error("Error loading trending anime:",T),U(!1)})},[]);const B=[{title:"Total Anime",value:h.toString(),icon:as,color:"from-purple-500 to-blue-500",change:""},{title:"Episodes Watched",value:x.toString(),icon:jk,color:"from-green-500 to-emerald-500",change:""},{title:"Hours Watched",value:b.toFixed(1)+"h",icon:Uu,color:"from-blue-500 to-cyan-500",change:""},{title:"Time Saved",value:"-",icon:cy,color:"from-orange-500 to-red-500",change:""}];p.useEffect(()=>{const T=Object.keys(e).map(Number);if(T.length===0){i([]),f(!1),m(0),v(0),w(0);return}f(!0),Promise.all(T.map(D=>dh(D).then(z=>z.Media).catch(()=>null))).then(D=>{const z={};D.forEach(ie=>{ie&&(z[ie.id]=ie)});let q=D.filter(ie=>ie&&e[ie.id]&&["Watching","On Hold"].includes(e[ie.id].status));if(C===!1){let ie=D.filter(te=>te!==null);C||(ie=ie.filter(te=>{var we;return te&&!((we=te.genres)!=null&&we.some(Pe=>Vc.includes(Pe)))}))}i(q),m(C===!1?Object.entries(e).filter(([ie])=>{var we;const te=z[ie];return te&&!((we=te.genres)!=null&&we.some(Pe=>Vc.includes(Pe)))}).length:Object.keys(e).length);let J=0,se=0;Object.entries(e).forEach(([ie,te])=>{var Pe;const we=z[ie];we&&(C||!((Pe=we.genres)!=null&&Pe.some(Os=>Vc.includes(Os))))&&(J+=te.episode,se+=(we.duration||24)*te.episode/60)}),v(J),w(se),f(!1)})},[e,l,C]);const V=async(T,D,z)=>{await n(T.id,D,z),c(!1),a(null)},X=T=>{a(T),c(!0)},O=async T=>{await r(T.id)},R=Math.min(100,b/y*100),P=Math.max(0,y-b),N={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},L={hidden:{y:50,opacity:0,scale:.8},visible:{y:0,opacity:1,scale:1,transition:{type:"spring",stiffness:200,damping:15}}},$={hidden:{y:-30,opacity:0,scale:.9},visible:{y:0,opacity:1,scale:1,transition:{type:"spring",stiffness:300,damping:20}}};return k||t?u.jsx("div",{className:"flex justify-center items-center h-96",children:u.jsx("div",{className:"w-10 h-10 border-4 border-purple-400 border-t-transparent rounded-full animate-spin"})}):u.jsxs(H.div,{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4 md:p-8",initial:"hidden",animate:"visible",variants:N,children:[u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx(H.div,{className:"mb-8",variants:$,children:u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx(H.h1,{className:"text-3xl md:text-4xl font-bold text-white mb-2",variants:$,children:"Welcome back, Ramanan"}),u.jsx(H.p,{className:"text-slate-400",variants:$,children:"Ready to start your anime journey?"})]}),u.jsxs(H.div,{className:"flex items-center gap-3",variants:$,children:[u.jsxs("div",{className:"bg-yellow-500/20 text-yellow-300 border border-yellow-500/50 px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1",children:[u.jsx(ci,{className:"w-4 h-4"}),"Free Plan"]}),u.jsxs("button",{className:"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2",children:[u.jsx(as,{className:"w-4 h-4"}),"Start Watching"]})]})]})}),u.jsx(H.div,{className:"grid lg:grid-cols-4 gap-6 mb-8",variants:N,children:B.map(T=>u.jsxs(H.div,{className:"glass-effect border-slate-700 rounded-lg p-6",variants:L,whileHover:{scale:1.02,transition:{type:"spring",stiffness:300}},children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx(H.div,{className:`p-3 rounded-xl bg-gradient-to-r ${T.color} bg-opacity-20`,whileHover:{rotate:5},transition:{type:"spring",stiffness:300},children:u.jsx(T.icon,{className:"w-6 h-6 text-white"})}),u.jsx("div",{className:"bg-green-500/20 text-green-300 px-2 py-1 rounded text-xs font-medium",children:T.change})]}),u.jsxs("div",{children:[u.jsx("div",{className:"mb-1",children:T.title==="Hours Watched"||T.title==="Time Saved"?u.jsx(Mg,{value:parseFloat(T.value),suffix:T.title==="Hours Watched"?"h":"min"}):u.jsx(Mg,{value:parseInt(T.value)})}),u.jsx("p",{className:"text-slate-400 text-sm",children:T.title})]})]},T.title))}),u.jsxs(H.div,{className:"grid lg:grid-cols-3 gap-6 mb-8",variants:N,children:[u.jsx(H.div,{className:"lg:col-span-2",variants:L,children:u.jsxs("div",{className:"glass-effect border-slate-700 rounded-lg p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Continue Watching"}),d?u.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading..."}):s.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(as,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),u.jsx("p",{className:"text-slate-400",children:"No anime in progress"}),u.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Start watching anime to see them here"})]}):u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.map(T=>{var D,z,q;return u.jsxs("div",{className:"relative",children:[u.jsx(bs,{anime:T,onClick:X,variant:"default",showSignInButton:!1,isInWatchlist:!0,onRemoveFromWatchlist:O,currentStatus:((D=e[T.id])==null?void 0:D.status)||"Plan to Watch",currentEpisode:((z=e[T.id])==null?void 0:z.episode)||1}),u.jsxs("div",{className:"absolute bottom-3 left-3 bg-black/70 text-white px-2 py-1 rounded text-xs font-medium",children:["Ep ",((q=e[T.id])==null?void 0:q.episode)||1]})]},T.id)})})]})}),u.jsx(H.div,{variants:L,children:u.jsxs("div",{className:"glass-effect border-slate-700 rounded-lg p-6",children:[u.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[u.jsx(bk,{className:"w-5 h-5"}),"Monthly Goal"]}),u.jsxs("div",{className:"text-center",children:[u.jsxs(H.div,{className:"text-3xl font-bold text-white mb-2",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10,delay:1.5},children:[b.toFixed(1),"h"]}),u.jsxs("div",{className:"text-sm text-slate-400 mb-4",children:["of ",y,"h goal"]}),u.jsx("div",{className:"w-full bg-slate-700 rounded-full h-3 mb-4",children:u.jsx(H.div,{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full",initial:{width:0},animate:{width:R+"%"},transition:{duration:2}})}),u.jsxs("div",{className:"text-sm text-slate-400 mb-2",children:[P.toFixed(1),"h remaining"]}),u.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[u.jsx("label",{htmlFor:"goal-input",className:"text-slate-400 text-xs",children:"Set goal:"}),u.jsx("input",{id:"goal-input",type:"number",min:1,max:5208,value:S,onChange:T=>{const D=T.target.value;(D===""||/^\d{0,4}$/.test(D))&&_(D)},onBlur:()=>{const T=Number(S);S===""||isNaN(T)||T<1?_(y.toString()):T>5208?(g(5208),_("5208"),localStorage.setItem("monthlyGoal","5208")):(g(T),localStorage.setItem("monthlyGoal",T.toString()))},inputMode:"numeric",pattern:"[0-9]*",className:"w-24 px-2 py-1 rounded bg-slate-900 border border-slate-700 text-white text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),u.jsx("span",{className:"text-slate-400 text-xs",children:"hours"})]}),u.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:["Progress: ",R.toFixed(0),"%"]})]})]})})]}),u.jsxs(H.div,{className:"grid lg:grid-cols-2 gap-6",variants:N,children:[u.jsxs(H.div,{className:"glass-effect border-slate-700 rounded-lg p-6",variants:L,children:[u.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Recent Activity"}),u.jsxs("div",{className:"text-center py-8",children:[u.jsx(Uu,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),u.jsx("p",{className:"text-slate-400",children:"No recent activity"}),u.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Start watching anime to see activity here"})]})]}),u.jsxs(H.div,{className:"glass-effect border-slate-700 rounded-lg p-6",variants:L,children:[u.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[u.jsx(uy,{className:"w-5 h-5"}),"Trending This Week"]}),u.jsx("div",{className:"space-y-4",children:M?u.jsx("div",{className:"flex justify-center items-center h-24",children:u.jsx("div",{className:"w-8 h-8 border-4 border-purple-400 border-t-transparent rounded-full animate-spin"})}):A.map(T=>u.jsxs(H.div,{className:"flex items-center gap-3 p-3 rounded-lg bg-slate-800/30 hover:bg-slate-800/50 transition-colors cursor-pointer",variants:L,whileHover:{scale:1.02,x:5,transition:{type:"spring",stiffness:300}},onClick:()=>{var z;const D={id:T.id,title:{english:T.title.english||T.title.romaji||T.title.native,romaji:T.title.romaji||T.title.english||T.title.native,native:T.title.native||T.title.english||T.title.romaji},coverImage:{large:T.coverImage.large,medium:T.coverImage.medium},bannerImage:T.bannerImage||T.coverImage.large,episodes:T.episodes||0,status:((z=T.status)==null?void 0:z.toUpperCase())||"UNKNOWN",averageScore:T.averageScore?T.averageScore*10:0,genres:T.genres||[],description:T.description||"",duration:T.duration||0,format:"TV",season:"UNKNOWN",seasonYear:T.seasonYear||0,studios:{nodes:[]},source:"ANILIST"};a(D),c(!0)},children:[u.jsx("img",{src:T.coverImage.large,alt:T.title.english||T.title.romaji||T.title.native,className:"w-14 h-20 object-cover rounded-lg"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-medium text-white text-sm mb-1",children:T.title.english||T.title.romaji||T.title.native}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"bg-yellow-500/20 text-yellow-300 text-xs px-2 py-1 rounded flex items-center gap-1",children:[u.jsx(Pn,{className:"w-3 h-3"}),T.averageScore?(T.averageScore/10).toFixed(1):"N/A"]}),u.jsx("span",{className:"text-xs text-slate-400",children:T.episodes?`${T.episodes} eps`:"Ongoing"})]})]}),u.jsx("button",{className:"text-slate-300 hover:text-white p-2 rounded-lg border border-slate-600 hover:bg-slate-700 transition-colors",onClick:D=>{var q;D.stopPropagation();const z={id:T.id,title:{english:T.title.english||T.title.romaji||T.title.native,romaji:T.title.romaji||T.title.english||T.title.native,native:T.title.native||T.title.english||T.title.romaji},coverImage:{large:T.coverImage.large,medium:T.coverImage.medium},bannerImage:T.bannerImage||T.coverImage.large,episodes:T.episodes||0,status:((q=T.status)==null?void 0:q.toUpperCase())||"UNKNOWN",averageScore:T.averageScore?T.averageScore*10:0,genres:T.genres||[],description:T.description||"",duration:T.duration||0,format:"TV",season:"UNKNOWN",seasonYear:T.seasonYear||0,studios:{nodes:[]},source:"ANILIST"};n(z.id,"Plan to Watch",1)},children:u.jsx("span",{className:"text-lg",children:"+"})})]},T.id))})]})]})]}),u.jsx(Wi,{children:o&&u.jsx(Ll,{anime:o,isOpen:l,onClose:()=>c(!1),onTrackAnime:V,trackedAnime:o?e[o.id]:void 0,isProUser:j==="pro",showSignInPrompt:!1})})]})}function UO(){const{trackedMap:e,userId:t,loading:n,updateTrackedAnime:r,removeAnime:s}=Dl(),[i,o]=p.useState([]),[a,l]=p.useState(null),{plan:c,loading:d,showNsfw:f}=ao(),[h,m]=p.useState(!0);p.useEffect(()=>{const g=Object.keys(e).map(Number);if(g.length===0){o([]),m(!1);return}m(!0),Promise.all(g.map(S=>dh(S).then(_=>!_||typeof _.Media>"u"||_.Media===null?(console.error("AniList returned null or undefined for anime ID:",S,JSON.stringify(_,null,2)),null):_.Media).catch(_=>(console.error("Error fetching anime details for ID:",S,_),null)))).then(S=>{o(S.filter(Boolean)),m(!1)})},[e]);const x=async(g,S,_)=>{await r(g.id,S,_)},v=g=>{x(g,"Plan to Watch",1),l(null)},b=async g=>{await s(g.id)};if(d||n)return null;const w=["Ecchi","Hentai","Erotica","Adult","Yaoi","Yuri"],y=f===!1?i.filter(g=>{var S;return!((S=g.genres)!=null&&S.some(_=>w.includes(_)))}):i;return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4 md:p-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx(H.h1,{className:"text-3xl md:text-4xl font-bold text-white mb-6",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:300,damping:20},children:"My Library"}),h?u.jsx("div",{className:"glass-effect border-slate-700 rounded-lg p-8 text-center text-slate-400",children:"Loading..."}):y.length===0?u.jsxs("div",{className:"glass-effect border-slate-700 rounded-lg p-8 text-center text-slate-400",children:["No anime in your library yet.",u.jsx("br",{}),"Add anime from Search or Trending to start tracking your watchlist!"]}):u.jsx(H.div,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.07,delayChildren:.1}}},children:y.map(g=>{var S,_;return u.jsx(bs,{anime:g,onClick:l,variant:"default",showSignInButton:!1,isInWatchlist:!0,onRemoveFromWatchlist:b,currentStatus:((S=e[g.id])==null?void 0:S.status)||"Plan to Watch",currentEpisode:((_=e[g.id])==null?void 0:_.episode)||1},g.id)})}),u.jsx(Ll,{anime:a,isOpen:!!a,onClose:()=>l(null),onAddToWatchlist:v,trackedAnime:a?e[a.id]:void 0,onTrackAnime:x,isProUser:c==="pro",showSignInPrompt:!1,userId:t})]})})}const VO=["All","Airing","Completed"],Lg=["Hentai"],Dg=!1;function BO(){const[e,t]=p.useState(""),[n,r]=p.useState([]),[s,i]=p.useState(!1),[o,a]=p.useState(null),{trackedMap:l,userId:c,loading:d,updateTrackedAnime:f,removeAnime:h}=Dl(),[m,x]=p.useState("All"),[v,b]=p.useState("All"),{plan:w,loading:y,showNsfw:g}=ao(),[S,_]=p.useState([]),[j,k]=p.useState(!0);p.useEffect(()=>{k(!0),uh(1,10).then(R=>{_(R.data.Page.media||[]),k(!1)})},[]);const C=p.useMemo(()=>{const R=new Set;return n.forEach(P=>{var N;return(N=P.genres)==null?void 0:N.forEach(L=>R.add(L))}),["All",...Array.from(R).sort()]},[n]),A=async R=>{R.preventDefault(),i(!0);const P=await Rg(e,1,50);r(P.data.Page.media),i(!1),x("All"),b("All")},E=async R=>{i(!0),t(R),b(R);const P=await Rg(R,1,50);r(P.data.Page.media),i(!1)},M=async(R,P,N)=>{await f(R.id,P,N)},U=R=>{M(R,"Plan to Watch",1),a(null)},B=async R=>{await h(R.id)},V=p.useMemo(()=>n.filter(R=>{var $,T;let P=!0,N=!0,L=!0;return m!=="All"&&(m==="Airing"?P=R.status==="RELEASING":m==="Completed"&&(P=R.status==="FINISHED")),v!=="All"&&(N=($=R.genres)==null?void 0:$.includes(v)),g===!1&&(L=!((T=R.genres)==null?void 0:T.some(q=>Lg.includes(q)))&&!Dg),P&&N&&L}),[n,m,v,g]),X=p.useMemo(()=>S.filter(R=>{var L;return!((L=R.genres)==null?void 0:L.some($=>Lg.includes($)))&&!Dg}),[S,g]),O=["Action","Adventure","Fantasy","Comedy","Drama","Romance","Sci-Fi","Horror","Mystery","Slice of Life","Sports","Supernatural"];return y||d?null:u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4 md:p-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs(H.div,{className:"mb-8",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:300,damping:20},children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Search Anime"}),u.jsx("form",{onSubmit:A,className:"mb-6",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx("input",{type:"text",value:e,onChange:R=>t(R.target.value),placeholder:"Search for anime...",className:"flex-1 px-6 py-4 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),u.jsx("button",{type:"submit",className:"px-8 py-4 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-xl font-semibold hover:from-purple-600 hover:to-blue-600 transition-all duration-200 transform hover:scale-105",children:"Search"})]})}),n.length>0&&u.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[u.jsx("select",{value:m,onChange:R=>x(R.target.value),className:"px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:VO.map(R=>u.jsx("option",{value:R,children:R},R))}),u.jsx("select",{value:v,onChange:R=>b(R.target.value),className:"px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:C.map(R=>u.jsx("option",{value:R,children:R},R))})]})]}),!e&&u.jsxs(u.Fragment,{children:[!j&&S.length>0&&u.jsxs(H.div,{className:"mb-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:300,damping:20},children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Trending Now"}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6",children:X.map(R=>{var P,N;return u.jsx(bs,{anime:R,onClick:a,variant:"trending",showSignInButton:!c,isInWatchlist:!!l[R.id],onAddToWatchlist:c?U:void 0,onRemoveFromWatchlist:c?B:void 0,currentStatus:((P=l[R.id])==null?void 0:P.status)||"Plan to Watch",currentEpisode:((N=l[R.id])==null?void 0:N.episode)||1},R.id)})})]}),u.jsxs(H.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:300,damping:20,delay:.1},children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Browse by Genre"}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:O.map(R=>u.jsx("button",{onClick:()=>E(R),className:"px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg text-white hover:bg-purple-600/20 hover:border-purple-500 transition-all duration-200",children:R},R))})]})]}),e&&u.jsxs(H.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:300,damping:20},children:[u.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:['Search Results for "',e,'"']}),s?u.jsx("div",{className:"glass-effect border-slate-700 rounded-lg p-8 text-center text-slate-400",children:"Loading..."}):u.jsx(H.div,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.07,delayChildren:.1}}},children:V.map(R=>{var P,N;return u.jsx(bs,{anime:R,onClick:a,variant:"default",showSignInButton:!c,isInWatchlist:!!l[R.id],onAddToWatchlist:c?U:void 0,onRemoveFromWatchlist:c?B:void 0,currentStatus:((P=l[R.id])==null?void 0:P.status)||"Plan to Watch",currentEpisode:((N=l[R.id])==null?void 0:N.episode)||1},R.id)})})]}),u.jsx(Ll,{anime:o,isOpen:!!o,onClose:()=>a(null),onAddToWatchlist:U,trackedAnime:o?l[o.id]:void 0,onTrackAnime:M,isProUser:w==="pro",showSignInPrompt:!1,userId:c})]})})}const WO=["Auto","Light","Dark"],zO=["UTC","Central Time","Eastern Time","Pacific Time"],HO=()=>{const e=bt(),[,t]=p.useState(null),[n,r]=p.useState(!0),[s,i]=p.useState(!1),[o,a]=p.useState(null),[l,c]=p.useState(null),[d,f]=p.useState(""),[h,m]=p.useState(""),[x,v]=p.useState(15),[b,w]=p.useState("Auto"),[y,g]=p.useState("UTC"),[S,_]=p.useState(!1),[j,k]=p.useState(""),[C,A]=p.useState("free"),[E,M]=p.useState(!1),[U,B]=p.useState(!1);p.useEffect(()=>{(async()=>{r(!0),a(null);const{data:{user:R}}=await G.auth.getUser();if(!R){a("Not logged in"),r(!1);return}const{data:P,error:N}=await G.from("profiles").select("*").eq("id",R.id).single();if(N){a("Could not fetch profile"),r(!1);return}t(P),f(P.display_name||""),m(R.email||""),v(P.watch_goal||15),w(P.theme?P.theme.charAt(0).toUpperCase()+P.theme.slice(1):"Auto"),g(P.time_zone||"UTC"),_(P.notifications_enabled||!1),k(P.created_at?new Date(P.created_at).toLocaleDateString():""),A(P.plan||"free"),M(P.show_nsfw||!1),B(P.new_episode_notifications||!1),r(!1)})()},[]);const V=async()=>{i(!0),a(null),c(null);const{data:{user:O}}=await G.auth.getUser();if(!O){a("Not logged in"),i(!1);return}const{error:R}=await G.from("profiles").update({display_name:d,watch_goal:x,theme:b.toLowerCase(),time_zone:y,notifications_enabled:S,show_nsfw:E,new_episode_notifications:U}).eq("id",O.id);R?(a("Failed to save settings"),console.error(R)):c("Settings saved!"),i(!1)},X=async()=>{i(!0),a(null);const{data:{user:O}}=await G.auth.getUser();if(!O){a("Not logged in"),i(!1);return}const{error:R}=await G.from("profiles").update({plan:"pro"}).eq("id",O.id);R?(a("Failed to upgrade to Pro"),console.error(R)):(c("Successfully upgraded to Pro!"),window.location.reload()),i(!1)};return n?u.jsx("div",{className:"flex justify-center items-center h-96",children:u.jsx("div",{className:"w-10 h-10 border-4 border-purple-400 border-t-transparent rounded-full animate-spin"})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4 md:p-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs(H.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7},className:"w-full max-w-5xl grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"md:col-span-2 flex flex-col gap-8",children:[u.jsxs("div",{className:"bg-white/10 rounded-2xl p-8 shadow-xl border border-white/10",children:[u.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[u.jsx(ly,{className:"w-6 h-6 text-purple-300"})," Account Settings"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-purple-200 mb-1",children:"Full Name"}),u.jsx("input",{type:"text",value:d,onChange:O=>f(O.target.value),className:"w-full px-4 py-2 rounded-lg bg-slate-900 text-white border border-purple-800 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-purple-200 mb-1",children:"Email"}),u.jsx("input",{type:"email",value:h,disabled:!0,className:"w-full px-4 py-2 rounded-lg bg-slate-900 text-white border border-purple-800 opacity-60"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-purple-200 mb-1",children:"Monthly Watch Goal (hours)"}),u.jsx("input",{type:"number",value:x,onChange:O=>v(Number(O.target.value)),className:"w-full px-4 py-2 rounded-lg bg-slate-900 text-white border border-purple-800 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[u.jsx("label",{className:"text-purple-200",children:"New Episode Notifications"}),C==="pro"?u.jsx("input",{type:"checkbox",checked:U,onChange:O=>B(O.target.checked),className:"accent-purple-500 w-5 h-5"}):u.jsxs("span",{className:"flex items-center gap-2 text-slate-400",children:[u.jsx("input",{type:"checkbox",checked:!1,disabled:!0,className:"w-5 h-5"}),u.jsx(dl,{className:"w-4 h-4 text-purple-400"}),u.jsx("span",{className:"text-xs",children:"Pro Only"})]}),C!=="pro"&&u.jsx("button",{onClick:()=>window.location.href="/subscription",className:"ml-2 text-purple-300 hover:text-white text-xs underline",children:"Upgrade"})]}),u.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[u.jsx("label",{className:"text-purple-200",children:"Show NSFW Titles"}),u.jsx("input",{type:"checkbox",checked:E,onChange:O=>M(O.target.checked),className:"accent-purple-500 w-5 h-5"}),u.jsx("span",{className:"text-xs text-slate-400",children:"(Uncheck to hide Ecchi, Hentai, etc.)"})]})]}),u.jsxs("div",{className:"bg-white/10 rounded-2xl p-8 shadow-xl border border-white/10",children:[u.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Preferences"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-purple-200 mb-1",children:"Theme"}),u.jsx("select",{value:b,onChange:O=>w(O.target.value),className:"w-full px-4 py-2 rounded-lg bg-slate-900 text-white border border-purple-800 focus:outline-none focus:ring-2 focus:ring-purple-500",children:WO.map(O=>u.jsx("option",{value:O,children:O},O))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-purple-200 mb-1",children:"Time Zone"}),u.jsx("select",{value:y,onChange:O=>g(O.target.value),className:"w-full px-4 py-2 rounded-lg bg-slate-900 text-white border border-purple-800 focus:outline-none focus:ring-2 focus:ring-purple-500",children:zO.map(O=>u.jsx("option",{value:O,children:O},O))})]})]}),o&&u.jsx("div",{className:"text-red-400 mb-2",children:o}),l&&u.jsx("div",{className:"text-green-400 mb-2",children:l}),u.jsx("div",{className:"flex gap-4 mt-4",children:u.jsxs("button",{onClick:V,disabled:s,className:"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white px-6 py-2 rounded-lg text-lg font-semibold flex items-center gap-2",children:[s?u.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):null,"Save"]})})]})]}),u.jsxs("div",{className:"flex flex-col gap-8",children:[u.jsxs("div",{className:"bg-white/10 rounded-2xl p-8 shadow-xl border border-white/10 mb-4",children:[u.jsxs("h2",{className:"text-lg font-bold text-white mb-2 flex items-center gap-2",children:[u.jsx(ci,{className:"w-5 h-5 text-yellow-400"})," Subscription"]}),u.jsx("div",{className:"mb-2",children:u.jsx("span",{className:"bg-yellow-500/20 text-yellow-300 border border-yellow-500/50 px-3 py-1 rounded-full text-sm font-medium",children:C==="free"?"Free Plan":"Pro Plan"})}),u.jsxs("ul",{className:"text-purple-200 text-sm mb-4",children:[u.jsx("li",{children:" Unlimited tracking"}),u.jsx("li",{children:" Skip summaries"}),u.jsx("li",{children:" Advanced insights"}),u.jsx("li",{children:" Cross-platform sync"})]}),u.jsxs("button",{className:"w-full bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[u.jsx(ci,{className:"w-4 h-4"})," Upgrade to Pro"]})]}),u.jsxs("div",{className:"bg-white/10 rounded-2xl p-8 shadow-xl border border-white/10",children:[u.jsx("h2",{className:"text-lg font-bold text-white mb-2",children:"Quick Stats"}),u.jsxs("div",{className:"text-purple-200 text-sm mb-2",children:["Member since ",u.jsx("span",{className:"text-white font-semibold",children:j})]}),u.jsxs("div",{className:"text-purple-200 text-sm",children:["Account type ",u.jsx("span",{className:"text-white font-semibold",children:C})]})]})]})]}),C!=="pro"&&u.jsxs("div",{className:"glass-effect border-slate-700 rounded-lg p-6 mb-6",children:[u.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[u.jsx(ci,{className:"w-5 h-5 text-yellow-400"}),"Upgrade to Pro"]}),u.jsx("p",{className:"text-slate-300 mb-4",children:"Unlock advanced features like episode breakdowns, smart watch guides, and more!"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>e("/subscription"),className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white px-6 py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-600 transition-all duration-200",children:"View Plans"}),u.jsx("button",{onClick:X,disabled:s,className:"bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-all duration-200 disabled:opacity-50",children:s?"Upgrading...":"Upgrade to Pro (Free)"})]})]}),C==="pro"&&u.jsx("div",{className:"glass-effect border-slate-700 rounded-lg p-6 mb-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-purple-200",children:"New Episode Notifications"}),u.jsx("p",{className:"text-slate-400 text-sm",children:"Get notified when new episodes of your watched anime are released"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer",checked:U,onChange:O=>B(O.target.checked)}),u.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]})})]})})},$g=()=>u.jsx("div",{className:"min-h-screen bg-[#181f32] flex items-center justify-center",children:u.jsx("h1",{className:"text-3xl font-bold text-white",children:"Subscription/Upgrade flow coming soon."})}),GO=({anime:e,userId:t,initialStatus:n})=>{const[r,s]=p.useState(n||"Add to List"),i=async a=>{const{error:l}=await G.from("user_anime_list").upsert({user_id:t,anime_id:e.id,status:a,title:e.title.romaji,image_url:e.coverImage.large},{onConflict:"user_id, anime_id"});l?console.error("Error updating status:",l):s(a)},o=["Watching","Completed","Paused","Dropped","Plan to Watch"];return u.jsxs(nw,{children:[u.jsx(rw,{asChild:!0,children:u.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-md",children:[r," ",u.jsx(vk,{size:16})]})}),u.jsx(sw,{className:"bg-gray-800 text-white rounded-md shadow-lg",children:o.map(a=>u.jsx(iw,{onSelect:()=>i(a),className:"px-4 py-2 hover:bg-blue-500 cursor-pointer",children:a},a))})]})},KO=({anime:e,userId:t})=>{const[n,r]=p.useState([]),[s,i]=p.useState(!0);p.useEffect(()=>{(async()=>{const{data:l}=await G.from("user_anime_progress").select("watched_episodes").eq("user_id",t).eq("anime_id",e.id).single();l&&r(l.watched_episodes||[]),i(!1)})()},[e.id,t]);const o=async a=>{const l=n.includes(a)?n.filter(d=>d!==a):[...n,a],{error:c}=await G.from("user_anime_progress").upsert({user_id:t,anime_id:e.id,watched_episodes:l},{onConflict:"user_id, anime_id"});c?console.error("Error updating progress:",c):r(l)};return s?u.jsx("div",{children:"Loading episodes..."}):u.jsxs("div",{className:"mt-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Episodes"}),u.jsx("div",{className:"grid grid-cols-5 md:grid-cols-10 gap-2",children:Array.from({length:e.episodes},(a,l)=>l+1).map(a=>u.jsx("button",{onClick:()=>o(a),className:`p-2 rounded-md text-center ${n.includes(a)?"bg-green-500 text-white":"bg-gray-700 text-gray-300"}`,children:a},a))})]})};function qO(){const{id:e}=D_(),[t,n]=p.useState(null),[r,s]=p.useState(!0),[i,o]=p.useState(null),[a,l]=p.useState();return p.useEffect(()=>{(async()=>{const{data:{user:d}}=await G.auth.getUser();d&&o(d.id)})()},[]),p.useEffect(()=>{e&&dh(Number(e)).then(c=>{n(c.Media),s(!1)})},[e]),p.useEffect(()=>{(async()=>{if(i&&t){const{data:d}=await G.from("user_anime_list").select("status").eq("user_id",i).eq("anime_id",t.id).single();d&&l(d.status)}})()},[i,t]),r?u.jsx("div",{children:"Loading..."}):t?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4 md:p-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[u.jsx("div",{className:"w-full md:w-1/3",children:u.jsx("img",{src:t.coverImage.large,alt:t.title.romaji,className:"rounded-lg shadow-lg"})}),u.jsxs("div",{className:"w-full md:w-2/3 text-white",children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:t.title.english||t.title.romaji}),u.jsx("p",{className:"text-lg text-slate-300 mb-4",children:t.title.native}),u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[u.jsx("div",{className:"font-bold text-lg",children:t.format}),u.jsxs("div",{children:[t.episodes," episodes"]})]}),u.jsx("p",{className:"text-slate-400 mb-6",dangerouslySetInnerHTML:{__html:t.description}}),i&&u.jsx(GO,{anime:t,userId:i,initialStatus:a})]})]}),i&&u.jsx(KO,{anime:t,userId:i})]})}):u.jsx("div",{children:"Anime not found."})}const YO=()=>u.jsx("div",{className:"flex items-center justify-center",children:u.jsx("div",{className:"w-8 h-8 border-4 border-purple-400 border-t-transparent rounded-full animate-spin"})}),QO=()=>{var L,$,T;const e=bt(),[t,n]=p.useState(!1),[r,s]=p.useState(null),[i,o]=p.useState(0),[a,l]=p.useState([]),[c,d]=p.useState([]),[f,h]=p.useState([]),[m,x]=p.useState(!0),{trackedMap:v,userId:b,updateTrackedAnime:w}=Dl(),[y,g]=p.useState(null),{plan:S,loading:_}=ao(),[j,k]=p.useState(0),[C,A]=p.useState(""),[E,M]=p.useState(!1),[U,B]=p.useState(!1),V=D=>{D.preventDefault(),C.trim()&&e(`/search?q=${encodeURIComponent(C.trim())}`)};p.useEffect(()=>{const D=z=>{const q=z.target;q.closest(".filter-dropdown")||M(!1),q.closest(".mobile-menu")||B(!1)};return(E||U)&&document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[E,U]),p.useEffect(()=>{x(!0);const{season:D,year:z}=Uo();Promise.allSettled([RO(1,8),uh(1,8),AO(1,8,D,z)]).then(q=>{const[J,se,ie]=q;if(J.status==="fulfilled"){const te=J.value.data.Page.media;l(te.slice(0,3)),se.status!=="fulfilled"&&d(te.slice(3,8))}else console.error("Failed to load popular anime:",J.reason);se.status==="fulfilled"?d(se.value.data.Page.media.slice(0,8)):(console.error("Failed to load trending anime:",se.reason),J.status==="fulfilled"&&d(J.value.data.Page.media.slice(3,8))),ie.status==="fulfilled"?h(ie.value.data.Page.media.slice(0,8)):(console.error("Failed to load seasonal anime:",ie.reason),se.status==="fulfilled"&&h(se.value.data.Page.media.slice(0,8))),k(5e4),x(!1)})},[]),p.useEffect(()=>{G.auth.getUser().then(({data:D})=>{g((D==null?void 0:D.user)||null)})},[]);const X=()=>{a.length>0&&o(D=>(D+1)%a.length)},O=()=>{a.length>0&&o(D=>(D-1+a.length)%a.length)},R=D=>{s(D),n(!0)},P=async(D,z,q)=>{await w(D.id,z,q)},N=D=>{P(D,"Plan to Watch",1),n(!1),s(null)};return _?null:u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[u.jsxs("header",{className:"w-full bg-gradient-to-r from-slate-900/95 via-purple-900/95 to-slate-900/95 px-6 py-4 flex items-center justify-between border-b border-purple-800/40 backdrop-blur-xl sticky top-0 z-50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-blue-500 rounded-xl flex items-center justify-center",children:u.jsx(as,{className:"w-8 h-8 text-white"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"font-bold text-2xl gradient-text",children:"AnimeSkip"}),u.jsxs("div",{className:"flex gap-2 mt-1",children:[u.jsx("span",{className:"px-2 py-0.5 bg-slate-800/70 text-slate-200 rounded-full text-[10px] font-medium border border-slate-700",children:"Filler Lists"}),u.jsx("span",{className:"px-2 py-0.5 bg-slate-800/70 text-slate-200 rounded-full text-[10px] font-medium border border-slate-700",children:"Watch Guides"})]})]})]}),u.jsxs("form",{onSubmit:V,className:"relative flex-1 max-w-md mx-8",children:[u.jsx("input",{type:"text",value:C,onChange:D=>A(D.target.value),placeholder:"Search anime...",className:"w-full px-4 py-2 pl-10 bg-slate-800/50 border border-slate-700 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),u.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[y&&u.jsx("span",{className:"text-slate-300 text-base font-medium mr-2",children:(()=>{const z=(y.email||"").split("@")[0];let q=!1;try{q=localStorage.getItem("welcomed_"+z)==="1",q||localStorage.setItem("welcomed_"+z,"1")}catch{}return q?`Welcome back, ${z}`:`Welcome, ${z}`})()}),y?u.jsx("button",{onClick:()=>e("/dashboard"),className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg font-semibold hover:from-purple-600 hover:to-blue-600 transition-all duration-200",children:"Dashboard"}):u.jsxs(u.Fragment,{children:[u.jsx(Ct,{to:"/join",className:"text-slate-300 hover:text-white transition-colors font-medium",children:"Sign In"}),u.jsx(Ct,{to:"/signup",className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg font-semibold hover:from-purple-600 hover:to-blue-600 transition-all duration-200",children:"Sign Up"})]})]})]}),u.jsx("section",{className:"relative w-full mx-auto mt-0 mb-12",style:{height:"70vh",minHeight:480,maxHeight:700},children:u.jsx("div",{className:"relative w-full h-full",style:{height:"100%"},children:m?u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx(YO,{})}):u.jsx(Wi,{initial:!1,children:a.length>0&&u.jsxs(H.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.6},className:"absolute inset-0 w-full h-full flex cursor-pointer",onClick:()=>R(a[i]),children:[u.jsx("img",{src:a[i].bannerImage||a[i].coverImage.large,alt:a[i].title.romaji,className:"object-cover w-full h-full absolute inset-0 z-0",style:{filter:"brightness(0.55)"}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent z-10"}),u.jsxs("div",{className:"relative z-20 flex flex-col justify-end h-full w-full px-12 pb-16 max-w-4xl",children:[u.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-white mb-4 drop-shadow-lg leading-tight",children:a[i].title.english||a[i].title.romaji}),u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("span",{className:"bg-purple-600/80 text-white text-xs font-bold px-3 py-1 rounded-full",children:a[i].format}),u.jsxs("span",{className:"bg-slate-700/80 text-slate-200 text-xs font-medium px-3 py-1 rounded-full",children:[a[i].season," ",a[i].seasonYear]}),u.jsx("span",{className:"bg-slate-700/80 text-slate-200 text-xs font-medium px-3 py-1 rounded-full",children:(L=a[i].genres)==null?void 0:L.slice(0,3).join("  ")})]}),u.jsx("p",{className:"text-lg text-slate-200 max-w-2xl mb-6 line-clamp-3",children:(($=a[i].description)==null?void 0:$.replace(/<[^>]+>/g,"").slice(0,220))+(((T=a[i].description)==null?void 0:T.length)>220?"...":"")}),u.jsxs("div",{className:"flex items-center gap-6 mt-2",children:[u.jsx("button",{onClick:D=>{D.stopPropagation(),R(a[i])},className:"px-8 py-3 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg font-bold hover:from-purple-600 hover:to-blue-600 transition-all duration-200 transform hover:scale-105 shadow-lg text-lg",children:"Watch Now"}),u.jsxs("div",{className:"flex items-center gap-3 text-slate-300 text-sm",children:[u.jsxs("span",{children:[" ",a[i].averageScore?(a[i].averageScore/10).toFixed(1):"N/A"]}),u.jsxs("span",{children:[" ",a[i].episodes?`${a[i].episodes} eps`:"Ongoing"]}),u.jsxs("span",{children:[" ",a[i].duration||24," min/ep"]})]})]})]}),a.length>1&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:D=>{D.stopPropagation(),O()},className:"absolute left-8 top-1/2 -translate-y-1/2 bg-black/40 hover:bg-black/60 text-white rounded-full p-4 shadow-lg backdrop-blur-sm transition-all duration-200 z-20",children:u.jsx(yk,{className:"w-7 h-7"})}),u.jsx("button",{onClick:D=>{D.stopPropagation(),X()},className:"absolute right-8 top-1/2 -translate-y-1/2 bg-black/40 hover:bg-black/60 text-white rounded-full p-4 shadow-lg backdrop-blur-sm transition-all duration-200 z-20",children:u.jsx(xk,{className:"w-7 h-7"})})]})]},i)})})}),u.jsx("section",{className:"max-w-7xl mx-auto mt-16 px-8",children:u.jsxs(H.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},children:[u.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-3",children:[u.jsx(uy,{className:"w-8 h-8 text-purple-400"}),"Trending This Week"]}),u.jsx("p",{className:"text-slate-400 mb-6",children:"Most popular anime gaining traction this week"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:c.length>0?c.map((D,z)=>{var q,J;return u.jsx(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:z*.1},children:u.jsx(bs,{anime:D,onClick:R,showSignInButton:!y,isInWatchlist:!!v[D.id],onAddToWatchlist:y?N:void 0,currentStatus:((q=v[D.id])==null?void 0:q.status)||"Plan to Watch",currentEpisode:((J=v[D.id])==null?void 0:J.episode)||1})},D.id)}):u.jsxs("div",{className:"col-span-full text-center py-12",children:[u.jsx("div",{className:"text-slate-400 mb-4",children:"Unable to load trending anime"}),u.jsx("button",{onClick:()=>{Ag(),window.location.reload()},className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:"Retry"})]})})]})}),u.jsx("section",{className:"max-w-7xl mx-auto mt-16 px-8",children:u.jsxs(H.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[u.jsx(gk,{className:"w-8 h-8 text-purple-400"}),Uo().season.charAt(0)+Uo().season.slice(1).toLowerCase()," ",Uo().year]}),u.jsx("div",{className:"text-slate-400 text-sm",children:"Current season anime"})]}),u.jsx("p",{className:"text-slate-400 mb-6",children:"Latest releases from the current anime season"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:f.length>0?f.map((D,z)=>{var q,J;return u.jsx(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:z*.1},children:u.jsx(bs,{anime:D,onClick:R,showSignInButton:!y,isInWatchlist:!!v[D.id],onAddToWatchlist:y?N:void 0,currentStatus:((q=v[D.id])==null?void 0:q.status)||"Plan to Watch",currentEpisode:((J=v[D.id])==null?void 0:J.episode)||1})},D.id)}):u.jsxs("div",{className:"col-span-full text-center py-12",children:[u.jsx("div",{className:"text-slate-400 mb-4",children:"Unable to load seasonal anime"}),u.jsx("button",{onClick:()=>{Ag(),window.location.reload()},className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:"Retry"})]})})]})}),u.jsx("footer",{className:"bg-black/50 mt-20 border-t border-slate-800",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-12",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-xl flex items-center justify-center",children:u.jsx(as,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-xl text-white",children:"AnimeSkip"}),u.jsx("p",{className:"text-xs text-slate-400",children:"Pro Anime Tracker"})]})]}),u.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:"Skip the fillers, track your progress, and discover amazing anime. The ultimate anime tracking experience for true fans."}),j>0&&u.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm",children:[u.jsx(wk,{className:"w-4 h-4"}),u.jsxs("span",{children:["Access to ",j.toLocaleString(),"+ anime from AniList"]})]}),!y&&u.jsx("button",{onClick:()=>e("/join"),className:"px-8 py-3 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg font-bold hover:from-purple-600 hover:to-blue-600 transition-all duration-200",children:"Get Started Free"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-white font-semibold text-lg",children:"Quick Links"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ct,{to:"/search",className:"block text-slate-300 hover:text-white transition-colors",children:"Browse Anime"}),u.jsx(Ct,{to:"/search",className:"block text-slate-300 hover:text-white transition-colors",children:"Trending"}),u.jsx(Ct,{to:"/search",className:"block text-slate-300 hover:text-white transition-colors",children:"Seasonal"}),u.jsx(Ct,{to:"/search",className:"block text-slate-300 hover:text-white transition-colors",children:"Genres"}),u.jsx(Ct,{to:"/dashboard",className:"block text-slate-300 hover:text-white transition-colors",children:"Calendar"})]})]})]}),u.jsx("div",{className:"border-t border-slate-800 mt-8 pt-8 text-center",children:u.jsx("p",{className:"text-slate-400 text-sm",children:" 2024 AnimeSkip. All rights reserved. Made with  for anime fans."})})]})}),u.jsx(Wi,{children:t&&r&&u.jsx(Ll,{anime:r,isOpen:t,onClose:()=>{n(!1),s(null)},onTrackAnime:P,trackedAnime:v[r.id.toString()],isProUser:S==="pro",userId:b,showSignInPrompt:!0})})]})},JO=[{name:"Track Anime",free:!0,pro:!0},{name:"Episode Progress",free:!0,pro:!0},{name:"Monthly Goal Tracker",free:!0,pro:!0},{name:"Filler / Recap Detection",free:!1,pro:!0},{name:"Smart Watch Guides",free:!1,pro:!0},{name:"New Episode Notifications",free:!1,pro:!0},{name:"Time Saved Tracker",free:!1,pro:!0},{name:"Skip Suggestions",free:!1,pro:!0}],XO=()=>{const e=bt(),[t,n]=p.useState(!1),r=()=>{n(!0)},s=()=>{alert("Payment processing... This is a demo. In production, this would integrate with a payment processor."),n(!1),e("/dashboard")};return u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-8",children:[u.jsxs("div",{className:"bg-white/10 rounded-2xl shadow-2xl p-8 w-full max-w-2xl flex flex-col items-center",children:[u.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Choose Your Plan"}),u.jsxs("table",{className:"w-full mb-8 border-separate border-spacing-y-2",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left text-lg text-white font-semibold",children:""}),u.jsx("th",{className:"text-center text-lg text-white font-semibold",children:"Free"}),u.jsx("th",{className:"text-center text-lg text-purple-300 font-semibold",children:"AniSkip Pro"})]})}),u.jsxs("tbody",{children:[JO.map(i=>u.jsxs("tr",{children:[u.jsx("td",{className:"text-white py-2 text-base",children:i.name}),u.jsx("td",{className:"text-center",children:i.free?u.jsx(Rp,{className:"text-green-500 inline w-6 h-6"}):u.jsx(Bu,{className:"text-red-500 inline w-6 h-6"})}),u.jsx("td",{className:"text-center",children:i.pro?u.jsx(Rp,{className:"text-green-500 inline w-6 h-6"}):u.jsx(Bu,{className:"text-red-500 inline w-6 h-6"})})]},i.name)),u.jsxs("tr",{children:[u.jsx("td",{className:"text-white font-bold py-2",children:"Price"}),u.jsx("td",{className:"text-center font-bold text-white",children:"Free"}),u.jsx("td",{className:"text-center font-bold text-purple-300",children:"$2.99/mo"})]})]})]}),u.jsx("button",{onClick:r,className:"w-full bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white rounded-lg py-3 font-bold text-lg shadow-lg transition mb-2",children:"Upgrade to Pro"}),u.jsx("button",{onClick:()=>e("/dashboard"),className:"w-full text-purple-300 hover:text-white mt-2 text-sm",children:"Maybe later"})]}),t&&u.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl p-8 max-w-md w-full",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Ip,{className:"w-8 h-8 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Upgrade to Pro"}),u.jsx("p",{className:"text-slate-300",children:"Get access to all premium features for just $2.99/month"})]}),u.jsx("div",{className:"space-y-4 mb-6",children:u.jsx("div",{className:"bg-slate-800/50 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-white",children:"AniSkip Pro"}),u.jsx("span",{className:"text-purple-300 font-bold",children:"$2.99/month"})]})})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:s,className:"flex-1 bg-gradient-to-r from-purple-500 to-blue-500 text-white py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-600 transition-all duration-200",children:[u.jsx(Ip,{className:"w-4 h-4 inline mr-2"}),"Pay Now"]}),u.jsx("button",{onClick:()=>n(!1),className:"px-6 py-3 bg-slate-700 text-white rounded-lg font-semibold hover:bg-slate-600 transition-all duration-200",children:"Cancel"})]})]})})]})},ZO=()=>u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsxs("g",{clipPath:"url(#clip0_17_40)",children:[u.jsx("path",{d:"M47.5 24.5C47.5 22.6 47.3 20.8 47 19H24V29.1H37.1C36.5 32.1 34.6 34.6 31.8 36.3V42.1H39.5C44 38.1 47.5 32.1 47.5 24.5Z",fill:"#4285F4"}),u.jsx("path",{d:"M24 48C30.6 48 36.1 45.9 39.5 42.1L31.8 36.3C29.9 37.5 27.3 38.3 24 38.3C17.7 38.3 12.2 34.2 10.3 28.7H2.3V34.7C5.7 41.1 14.1 48 24 48Z",fill:"#34A853"}),u.jsx("path",{d:"M10.3 28.7C9.7 26.9 9.4 24.9 9.4 23C9.4 21.1 9.7 19.1 10.3 17.3V11.3H2.3C0.8 14.1 0 17.4 0 21C0 24.6 0.8 27.9 2.3 30.7L10.3 28.7Z",fill:"#FBBC05"}),u.jsx("path",{d:"M24 9.7C27.7 9.7 30.7 11 32.7 12.8L39.7 6.1C36.1 2.7 30.6 0 24 0C14.1 0 5.7 6.9 2.3 13.3L10.3 17.3C12.2 11.8 17.7 7.7 24 7.7V9.7Z",fill:"#EA4335"})]}),u.jsx("defs",{children:u.jsx("clipPath",{id:"clip0_17_40",children:u.jsx("rect",{width:"48",height:"48",fill:"white"})})})]}),eM=()=>u.jsx("div",{className:"flex justify-center items-center h-40",children:u.jsx("div",{className:"w-10 h-10 border-4 border-purple-400 border-t-transparent rounded-full animate-spin"})}),tM=()=>{const[e,t]=p.useState(!0),[n,r]=p.useState(null),[s]=p.useState("signin"),[i,o]=p.useState(""),[a,l]=p.useState(""),[c,d]=p.useState(null),[f,h]=p.useState(null),[m,x]=p.useState(!1),[v,b]=p.useState(""),[w,y]=p.useState(null),g=bt();p.useEffect(()=>{const{data:A}=G.auth.onAuthStateChange(async(E,M)=>{var U,B;if(E==="SIGNED_IN"&&(M!=null&&M.user)){t(!0),r(M.user);const{data:V}=await G.from("profiles").select("*").eq("id",M.user.id).single();V||await G.from("profiles").insert([{id:M.user.id,display_name:((U=M.user.user_metadata)==null?void 0:U.full_name)||M.user.email,avatar_url:((B=M.user.user_metadata)==null?void 0:B.avatar_url)||null,plan:"free"}]),t(!1),g("/dashboard")}else E==="SIGNED_OUT"&&(r(null),t(!1))});return G.auth.getUser().then(({data:E})=>{E!=null&&E.user&&r(E.user),t(!1)}),()=>{A==null||A.subscription.unsubscribe()}},[g]);const S=async()=>{t(!0);const{error:A}=await G.auth.signInWithOAuth({provider:"google",options:{queryParams:{prompt:"select_account"}}});A&&(alert(A.message),t(!1))},_=async()=>{t(!0),await G.auth.signOut(),r(null),t(!1),g("/")},j=async()=>{t(!0),await G.from("profiles").delete().eq("id",n.id),await G.auth.signOut(),r(null),t(!1),g("/"),alert("Account deleted (profile row removed, but full deletion requires admin privileges).")},k=async A=>{if(A.preventDefault(),d(null),h(null),t(!0),s==="signin"){const{error:E}=await G.auth.signInWithPassword({email:i,password:a});E?d(E.message):h("Signed in!")}else{const{error:E}=await G.auth.signUp({email:i,password:a});E?d(E.message):h("Check your email to confirm your account!")}t(!1)},C=async A=>{A.preventDefault(),y(null),t(!0);const{error:E}=await G.auth.resetPasswordForEmail(v,{redirectTo:window.location.origin+"/reset"});y(E?E.message:"Password reset email sent!"),t(!1)};return e?u.jsx(eM,{}):n?u.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#f6f8fb]",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md flex flex-col items-center",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-[#232b42] flex items-center justify-center mb-6",children:u.jsx("span",{className:"text-2xl font-bold text-white",children:"AnimeSkip Pro"})}),u.jsx("h1",{className:"text-2xl font-extrabold text-[#181f32] mb-1 text-center",children:"Signed in as"}),u.jsx("div",{className:"text-[#6b7280] mb-6 text-center",children:n.email}),u.jsx("button",{onClick:_,className:"w-full bg-[#181f32] text-white rounded-lg py-2 font-bold hover:bg-[#232b42] transition mb-2",children:"Sign out"}),u.jsx("button",{onClick:j,className:"w-full bg-red-500 text-white rounded-lg py-2 font-bold hover:bg-red-600 transition mb-2",children:"Delete Account"}),u.jsx("div",{className:"text-sm text-[#7b8cff]",children:"Want to use another account? Sign out and sign in again."})]})}):u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f6f8fb]",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md flex flex-col items-center",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-[#232b42] flex items-center justify-center mb-6",children:u.jsx("span",{className:"text-2xl font-bold text-white",children:"AnimeSkip Pro"})}),u.jsx("h1",{className:"text-2xl font-extrabold text-[#181f32] mb-1 text-center",children:"Welcome to AnimeSkip Pro"}),u.jsx("div",{className:"text-[#6b7280] mb-6 text-center",children:"Sign in to continue"}),u.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-2 border border-[#e5e7eb] rounded-lg py-2 mb-4 font-semibold text-[#232b42] hover:bg-[#f1f3f7] transition",children:[u.jsx(ZO,{})," Continue with Google"]}),u.jsxs("div",{className:"flex items-center w-full mb-4",children:[u.jsx("div",{className:"flex-1 h-px bg-[#e5e7eb]"}),u.jsx("span",{className:"mx-3 text-[#bfc8e6] text-xs font-semibold",children:"OR"}),u.jsx("div",{className:"flex-1 h-px bg-[#e5e7eb]"})]}),c&&u.jsx("div",{className:"text-red-500 text-sm mb-2 w-full text-center",children:c}),f&&u.jsx("div",{className:"text-green-500 text-sm mb-2 w-full text-center",children:f}),u.jsxs("form",{className:"w-full flex flex-col gap-4",onSubmit:k,children:[u.jsxs("div",{className:"relative",children:[u.jsx(_k,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#bfc8e6] w-5 h-5"}),u.jsx("input",{type:"email",value:i,onChange:A=>o(A.target.value),placeholder:"you@example.com",className:"w-full pl-10 pr-3 py-2 rounded-lg border border-[#e5e7eb] focus:outline-none focus:ring-2 focus:ring-[#7b8cff] text-[#181f32]",required:!0})]}),u.jsxs("div",{className:"relative",children:[u.jsx(dl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#bfc8e6] w-5 h-5"}),u.jsx("input",{type:"password",value:a,onChange:A=>l(A.target.value),placeholder:"Password",className:"w-full pl-10 pr-3 py-2 rounded-lg border border-[#e5e7eb] focus:outline-none focus:ring-2 focus:ring-[#7b8cff] text-[#181f32]",required:!0})]}),u.jsx("button",{type:"submit",className:"w-full bg-[#181f32] text-white rounded-lg py-2 font-bold hover:bg-[#232b42] transition",disabled:e,children:s==="signin"?"Sign in":"Sign up"})]}),u.jsxs("div",{className:"flex justify-between w-full mt-4 text-sm",children:[u.jsx("button",{type:"button",className:"text-[#7b8cff] hover:underline",onClick:()=>x(!0),children:"Forgot password?"}),u.jsx(Ct,{to:"/signup",className:"text-[#7b8cff] hover:underline",children:"Need an account? Sign up"})]}),m&&u.jsxs("div",{className:"w-full mt-6 bg-[#f1f3f7] rounded-lg p-4 flex flex-col items-center",children:[u.jsx("h2",{className:"text-lg font-bold text-[#181f32] mb-2",children:"Reset Password"}),u.jsxs("form",{className:"w-full flex flex-col gap-2",onSubmit:C,children:[u.jsx("input",{type:"email",value:v,onChange:A=>b(A.target.value),placeholder:"Your email",className:"w-full px-3 py-2 rounded border border-[#e5e7eb]",required:!0}),u.jsx("button",{type:"submit",className:"w-full bg-[#181f32] text-white rounded-lg py-2 font-bold hover:bg-[#232b42] transition",children:"Send reset link"})]}),w&&u.jsx("div",{className:"text-sm mt-2 text-center text-green-600",children:w}),u.jsx("button",{className:"text-xs text-[#7b8cff] mt-2 hover:underline",onClick:()=>x(!1),children:"Close"})]})]})})},nM=()=>{const[e,t]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(""),[o,a]=p.useState(!1),[l,c]=p.useState(null),[d,f]=p.useState(!1),h=bt(),m=async v=>{if(v.preventDefault(),c(null),a(!0),n!==s){c("Passwords do not match"),a(!1);return}if(n.length<6){c("Password must be at least 6 characters long"),a(!1);return}try{const{error:b}=await G.auth.signUp({email:e,password:n});b?c(b.message):(f(!0),setTimeout(()=>{h("/login")},2e3))}catch{c("An unexpected error occurred")}finally{a(!1)}},x=async()=>{try{const{error:v}=await G.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});v&&c(v.message)}catch{c("An unexpected error occurred")}};return d?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:u.jsx(H.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Created!"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Please check your email to verify your account before signing in."}),u.jsx(Ct,{to:"/login",className:"inline-block bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:"Go to Sign In"})]})})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:u.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M8 5v14l11-7L8 5z"})})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"AnimeSkip Pro"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"Create your account"})]}),l&&u.jsx(H.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:l}),u.jsxs("button",{onClick:x,disabled:o,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors mb-6",children:[u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),u.jsxs("div",{className:"relative mb-6",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-white text-gray-500",children:"OR"})})]}),u.jsxs("form",{onSubmit:m,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{id:"email",type:"email",value:e,onChange:v=>t(v.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"you@example.com"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),u.jsx("input",{id:"password",type:"password",value:n,onChange:v=>r(v.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Password"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),u.jsx("input",{id:"confirmPassword",type:"password",value:s,onChange:v=>i(v.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm Password"})]}),u.jsx("button",{type:"submit",disabled:o,className:"w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Creating Account...":"Create Account"})]}),u.jsx("div",{className:"text-center mt-6",children:u.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",u.jsx(Ct,{to:"/login",className:"text-purple-600 hover:text-purple-700 font-semibold",children:"Sign in"})]})})]})})},Is="https://api.jikan.moe/v4",rM=async(e,t=1,n=20)=>{const r=await fetch(`${Is}/anime?q=${encodeURIComponent(e)}&page=${t}&limit=${n}`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return r.json()},P1=async e=>{const t=await fetch(`${Is}/anime/${e}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.json()},T1=async(e,t=1)=>{const n=await fetch(`${Is}/anime/${e}/episodes?page=${t}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return n.json()},sM=async(e,t)=>{const n=await fetch(`${Is}/anime/${e}/episodes/${t}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return n.json()},N1=async e=>{let t=[],n=1,r=!0;for(;r;)try{const s=await T1(e,n);t=[...t,...s.data],r=s.pagination.has_next_page,n++,await new Promise(i=>setTimeout(i,1e3))}catch(s){console.error(`Error fetching episodes for page ${n}:`,s);break}return t},iM=async(e=1,t=20)=>{const n=await fetch(`${Is}/top/anime?page=${e}&limit=${t}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return n.json()},oM=async(e=new Date().getFullYear(),t="winter")=>{const n=await fetch(`${Is}/seasons/${t}/${e}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return n.json()},aM=Object.freeze(Object.defineProperty({__proto__:null,getAllAnimeEpisodes:N1,getAnimeById:P1,getAnimeEpisode:sM,getAnimeEpisodes:T1,getSeasonalAnime:oM,getTopAnime:iM,searchAnime:rM},Symbol.toStringTag,{value:"Module"})),lM=(e,t,n)=>{const r=e.title||`Episode ${n}`,s=e.filler||!1,i=e.recap||!1;let o="canon";s&&i?o="mixed":s?o="filler":i&&(o="recap");let a="watch",l="",c,d,f=!1,h=!1,m=!1,x=!1,v=0;return t.toLowerCase().includes("one piece")?n>=196&&n<=206?(a="recommended",l="G-8 Arc: One of the best filler arcs in anime. Hilarious, well-written, and maintains series quality. Highly recommended despite being filler.",c=9.2,d=8.8,f=!0,m=!0):n>=131&&n<=143?(a="optional",l="Warship Island Arc: Decent filler with some character moments. Not essential but enjoyable if you want more content.",c=7.5,d=7.2,f=!0):n>=144&&n<=195?(a="watch",l="Alabasta Arc: Essential canon arc with major plot developments, character growth, and world-building.",c=9.5,d=9.3,h=!0,m=!0,x=!0):i?(a="skip",l="Recap episode - skip unless you need a refresher on previous events.",v=24):s&&(a="skip",l="Standard filler episode - safe to skip to save time.",v=24):t.toLowerCase().includes("naruto")?n>=101&&n<=106?(a="optional",l="Land of Tea Arc: Decent filler with some character development. Not essential but enjoyable.",c=7,d=6.8,m=!0):n>=136&&n<=220?(a="skip",l="Extended filler arc: Generally low quality. Skip to save significant time.",v=24):i&&(a="skip",l="Recap episode - skip unless you need a refresher.",v=24):t.toLowerCase().includes("bleach")?n>=168&&n<=189?(a="recommended",l="Zanpakuto Rebellion Arc: Excellent filler with great character development and lore. Highly recommended despite being filler.",c=8.8,d=8.5,m=!0,x=!0):n>=317&&n<=341?(a="optional",l="Gotei 13 Invasion Arc: Decent filler with some interesting concepts. Optional but enjoyable.",c=7.2,d=7):i?(a="skip",l="Recap episode - skip unless you need a refresher.",v=24):s&&(a="skip",l="Standard filler episode - safe to skip.",v=24):i?(a="skip",l="Recap episode - skip unless you need a refresher on previous events.",v=24):s?(a="optional",l="Filler episode - optional. Consider watching if you enjoy the characters and want more content.",v=24):(a="watch",l="Canon episode - essential for story progression."),{episode:n,title:r,type:o,recommendation:a,reason:l,userRating:c,communityRating:d,isFunny:f,isImportant:h,hasCharacterDevelopment:m,hasWorldBuilding:x,timeSaved:v}},cM=[{name:"One Piece",malId:21,searchTerm:"One Piece"},{name:"Naruto",malId:20,searchTerm:"Naruto"},{name:"Naruto Shippuden",malId:1735,searchTerm:"Naruto Shippuden"},{name:"Bleach",malId:269,searchTerm:"Bleach"},{name:"Dragon Ball",malId:223,searchTerm:"Dragon Ball"},{name:"Dragon Ball Z",malId:813,searchTerm:"Dragon Ball Z"},{name:"Dragon Ball Super",malId:30694,searchTerm:"Dragon Ball Super"},{name:"Detective Conan",malId:235,searchTerm:"Detective Conan"},{name:"Fairy Tail",malId:6702,searchTerm:"Fairy Tail"},{name:"Hunter x Hunter",malId:11061,searchTerm:"Hunter x Hunter"},{name:"Attack on Titan",malId:16498,searchTerm:"Attack on Titan"},{name:"My Hero Academia",malId:31964,searchTerm:"My Hero Academia"},{name:"Demon Slayer",malId:38e3,searchTerm:"Demon Slayer"},{name:"Jujutsu Kaisen",malId:40748,searchTerm:"Jujutsu Kaisen"},{name:"Black Clover",malId:34572,searchTerm:"Black Clover"},{name:"Boruto",malId:34566,searchTerm:"Boruto"},{name:"One Punch Man",malId:30276,searchTerm:"One Punch Man"},{name:"Mob Psycho 100",malId:32182,searchTerm:"Mob Psycho 100"},{name:"The Promised Neverland",malId:37779,searchTerm:"The Promised Neverland"},{name:"Tokyo Ghoul",malId:22319,searchTerm:"Tokyo Ghoul"},{name:"Death Note",malId:1530,searchTerm:"Death Note"},{name:"Fullmetal Alchemist: Brotherhood",malId:5114,searchTerm:"Fullmetal Alchemist Brotherhood"},{name:"Steins;Gate",malId:9253,searchTerm:"Steins Gate"},{name:"Code Geass",malId:1575,searchTerm:"Code Geass"},{name:"Cowboy Bebop",malId:1,searchTerm:"Cowboy Bebop"},{name:"Neon Genesis Evangelion",malId:30,searchTerm:"Neon Genesis Evangelion"},{name:"Ghost in the Shell",malId:43,searchTerm:"Ghost in the Shell"},{name:"Akira",malId:47,searchTerm:"Akira"},{name:"Spirited Away",malId:199,searchTerm:"Spirited Away"},{name:"Your Name",malId:32281,searchTerm:"Your Name"},{name:"Weathering With You",malId:37991,searchTerm:"Weathering With You"},{name:"A Silent Voice",malId:28851,searchTerm:"A Silent Voice"},{name:"I Want to Eat Your Pancreas",malId:36296,searchTerm:"I Want to Eat Your Pancreas"},{name:"Violet Evergarden",malId:33352,searchTerm:"Violet Evergarden"},{name:"Made in Abyss",malId:34599,searchTerm:"Made in Abyss"},{name:"Re:Zero",malId:31240,searchTerm:"Re Zero"},{name:"Overlord",malId:29803,searchTerm:"Overlord"},{name:"That Time I Got Reincarnated as a Slime",malId:37430,searchTerm:"That Time I Got Reincarnated as a Slime"},{name:"Konosuba",malId:30831,searchTerm:"Konosuba"},{name:"No Game No Life",malId:19815,searchTerm:"No Game No Life"},{name:"Log Horizon",malId:17265,searchTerm:"Log Horizon"},{name:"Sword Art Online",malId:11757,searchTerm:"Sword Art Online"},{name:"Accel World",malId:11759,searchTerm:"Accel World"},{name:"The Rising of the Shield Hero",malId:35790,searchTerm:"The Rising of the Shield Hero"},{name:"Arifureta",malId:36838,searchTerm:"Arifureta"},{name:"Cautious Hero",malId:38691,searchTerm:"Cautious Hero"},{name:"Kumo Desu ga, Nani ka?",malId:40028,searchTerm:"Kumo Desu ga Nani ka"},{name:"So I'm a Spider, So What?",malId:40028,searchTerm:"So I am a Spider So What"},{name:"The Misfit of Demon King Academy",malId:40028,searchTerm:"The Misfit of Demon King Academy"},{name:"Classroom of the Elite",malId:35507,searchTerm:"Classroom of the Elite"},{name:"The Promised Neverland",malId:37779,searchTerm:"The Promised Neverland"},{name:"Tower of God",malId:41467,searchTerm:"Tower of God"},{name:"God of High School",malId:41439,searchTerm:"God of High School"},{name:"Noblesse",malId:42203,searchTerm:"Noblesse"},{name:"The Hidden Dungeon Only I Can Enter",malId:42203,searchTerm:"The Hidden Dungeon Only I Can Enter"},{name:"Kemono Jihen",malId:42203,searchTerm:"Kemono Jihen"},{name:"Horimiya",malId:42897,searchTerm:"Horimiya"},{name:"Fruits Basket",malId:23273,searchTerm:"Fruits Basket"},{name:"Kimi ni Todoke",malId:9724,searchTerm:"Kimi ni Todoke"},{name:"Toradora!",malId:4224,searchTerm:"Toradora"},{name:"Golden Time",malId:17821,searchTerm:"Golden Time"},{name:"Oregairu",malId:14813,searchTerm:"Oregairu"},{name:"My Teen Romantic Comedy SNAFU",malId:14813,searchTerm:"My Teen Romantic Comedy SNAFU"},{name:"The Quintessential Quintuplets",malId:38101,searchTerm:"The Quintessential Quintuplets"},{name:"Kaguya-sama: Love Is War",malId:37991,searchTerm:"Kaguya sama Love Is War"},{name:"Rent-A-Girlfriend",malId:40839,searchTerm:"Rent A Girlfriend"},{name:"Domestic Girlfriend",malId:37105,searchTerm:"Domestic Girlfriend"},{name:"Scum's Wish",malId:32962,searchTerm:"Scum Wish"},{name:"White Album 2",malId:18153,searchTerm:"White Album 2"},{name:"School Days",malId:2476,searchTerm:"School Days"},{name:"Clannad",malId:2167,searchTerm:"Clannad"},{name:"Clannad After Story",malId:4181,searchTerm:"Clannad After Story"},{name:"Angel Beats!",malId:6547,searchTerm:"Angel Beats"},{name:"Charlotte",malId:28999,searchTerm:"Charlotte"},{name:"The Day I Became a God",malId:42203,searchTerm:"The Day I Became a God"},{name:"Plastic Memories",malId:27775,searchTerm:"Plastic Memories"},{name:"Anohana",malId:9989,searchTerm:"Anohana"},{name:"Your Lie in April",malId:23273,searchTerm:"Your Lie in April"},{name:"I Want to Eat Your Pancreas",malId:36296,searchTerm:"I Want to Eat Your Pancreas"},{name:"A Silent Voice",malId:28851,searchTerm:"A Silent Voice"},{name:"Weathering With You",malId:37991,searchTerm:"Weathering With You"},{name:"Your Name",malId:32281,searchTerm:"Your Name"},{name:"Spirited Away",malId:199,searchTerm:"Spirited Away"},{name:"My Neighbor Totoro",malId:523,searchTerm:"My Neighbor Totoro"},{name:"Princess Mononoke",malId:164,searchTerm:"Princess Mononoke"},{name:"Howl's Moving Castle",malId:431,searchTerm:"Howl Moving Castle"},{name:"Castle in the Sky",malId:95,searchTerm:"Castle in the Sky"},{name:"Kiki's Delivery Service",malId:199,searchTerm:"Kiki Delivery Service"},{name:"Nausica of the Valley of the Wind",malId:572,searchTerm:"Nausicaa of the Valley of the Wind"},{name:"The Wind Rises",malId:16680,searchTerm:"The Wind Rises"},{name:"Ponyo",malId:4976,searchTerm:"Ponyo"},{name:"Arrietty",malId:10020,searchTerm:"Arrietty"},{name:"From Up on Poppy Hill",malId:10379,searchTerm:"From Up on Poppy Hill"},{name:"The Tale of the Princess Kaguya",malId:17729,searchTerm:"The Tale of the Princess Kaguya"},{name:"When Marnie Was There",malId:24231,searchTerm:"When Marnie Was There"},{name:"The Red Turtle",malId:28735,searchTerm:"The Red Turtle"},{name:"Earwig and the Witch",malId:42203,searchTerm:"Earwig and the Witch"},{name:"The Boy and the Heron",malId:42203,searchTerm:"The Boy and the Heron"}],wd=async e=>{try{const n=(await P1(e)).data.title||"Unknown Anime",r=await N1(e);if(!r||r.length===0)throw new Error("No episodes found for this anime");const s=r.map(d=>lM(d,n,d.mal_id||0)),i={totalEpisodes:r.length,canonEpisodes:s.filter(d=>d.type==="canon").length,fillerEpisodes:s.filter(d=>d.type==="filler").length,recapEpisodes:s.filter(d=>d.type==="recap").length,mixedEpisodes:s.filter(d=>d.type==="mixed").length,timeSaved:s.reduce((d,f)=>d+(f.timeSaved||0),0),watchTime:s.filter(d=>d.recommendation==="watch"||d.recommendation==="recommended").length*24},o=s.filter(d=>d.recommendation==="watch"||d.recommendation==="recommended").length,a=s.filter(d=>d.recommendation==="skip").length,l=s.filter(d=>d.recommendation==="optional").length,c=`Optimized watch guide for ${n}. Watch ${o} essential episodes, skip ${a} filler/recap episodes, and optionally watch ${l} episodes. Save approximately ${Math.round(i.timeSaved/60)} hours while maintaining story coherence.`;return{malId:e,title:n,description:c,totalEpisodes:r.length,stats:i,recommendations:s,proOnly:!0}}catch(t){throw console.error("Error generating watch guide:",t),new Error("Failed to generate watch guide")}},uM=async e=>{try{const t=cM.find(s=>s.name.toLowerCase().includes(e.toLowerCase())||s.searchTerm.toLowerCase().includes(e.toLowerCase()));if(t)return await wd(t.malId);const{searchAnime:n}=await Es(()=>Promise.resolve().then(()=>aM),void 0),r=await n(e,1,5);if(r.data.length>0){const s=r.data[0];return await wd(s.mal_id)}return null}catch(t){return console.error("Error searching for watch guide:",t),null}},Vo=new Map,Bc=new Map,dM=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!1),[s,i]=p.useState(null),o=p.useCallback(()=>{i(null)},[]),a=p.useCallback(async()=>{try{r(!0),i(null);const c=[21,20,1735,269,223,813,30694,235,6702,11061],d=[];for(const f of c)try{if(Vo.has(f)){d.push(Vo.get(f));continue}const h=await wd(f);Vo.set(f,h),d.push(h),await new Promise(m=>setTimeout(m,1e3))}catch(h){console.error(`Failed to load guide for anime ${f}:`,h)}t(d)}catch(c){i("Failed to load watch guides. Please try again later."),console.error("Error loading popular guides:",c)}finally{r(!1)}},[]),l=p.useCallback(async c=>{if(!c.trim()){t([]);return}try{r(!0),i(null);const d=c.toLowerCase().trim();if(Bc.has(d)){t([Bc.get(d)]);return}const f=await uM(c);f?(Bc.set(d,f),Vo.set(f.malId,f),t([f])):t([])}catch(d){i("Failed to search for watch guides. Please try again later."),console.error("Error searching guides:",d),t([])}finally{r(!1)}},[]);return p.useEffect(()=>{a()},[a]),{guides:e,loading:n,error:s,searchGuides:l,loadPopularGuides:a,clearError:o}},fM=()=>{const{plan:e,loading:t}=ao(),[n,r]=p.useState(null),[s,i]=p.useState(""),{guides:o,loading:a,error:l,searchGuides:c,loadPopularGuides:d,clearError:f}=dM(),h=bt(),m=async()=>{s.trim()?await c(s):await d()},x=()=>{i(""),d()},v=()=>{h("/subscription")};return t?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:u.jsx("div",{className:"w-10 h-10 border-4 border-purple-400 border-t-transparent rounded-full animate-spin"})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4 md:p-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs(H.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},className:"mb-8",children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Watch Guides"}),u.jsx("p",{className:"text-slate-300 mb-6",children:"Expert-curated guides to help you watch anime efficiently and get the most out of your viewing experience."}),u.jsxs("div",{className:"flex gap-4 mb-8",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("input",{type:"text",placeholder:"Search for anime watch guides...",value:s,onChange:b=>i(b.target.value),onKeyPress:b=>b.key==="Enter"&&m(),className:"w-full bg-slate-800/50 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:border-purple-500"}),u.jsx(Vu,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"})]}),u.jsx("button",{onClick:m,disabled:a,className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white px-6 py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:a?u.jsxs(u.Fragment,{children:[u.jsx(Op,{className:"w-4 h-4 animate-spin"}),"Searching..."]}):"Search"}),s&&u.jsx("button",{onClick:x,className:"bg-slate-700 text-white px-4 py-3 rounded-lg font-semibold hover:bg-slate-600 transition-all duration-200",children:"Clear"})]}),l&&u.jsx("div",{className:"bg-red-900/20 border border-red-700/50 rounded-lg p-4 mb-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"text-red-400",children:l}),u.jsx("button",{onClick:f,className:"text-red-400 hover:text-red-300",children:""})]})})]}),a?u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Op,{className:"w-12 h-12 text-purple-400 animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-slate-300",children:"Loading watch guides..."}),u.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"This may take a few moments as we fetch episode data"})]})}):o.length===0?u.jsxs("div",{className:"text-center py-20",children:[u.jsx("div",{className:"text-slate-400 mb-4",children:u.jsx(Vu,{className:"w-16 h-16 mx-auto"})}),u.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:s?"No watch guides found":"No watch guides available"}),u.jsx("p",{className:"text-slate-400",children:s?"Try searching for a different anime or check the spelling.":"Watch guides will be available here once loaded."})]}):u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:o.map((b,w)=>u.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"glass-effect border-slate-700 rounded-lg overflow-hidden",children:[u.jsx("div",{className:"relative",children:b.proOnly&&u.jsxs("div",{className:"absolute top-4 right-4 bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-semibold flex items-center gap-1",children:[u.jsx(ci,{className:"w-4 h-4"}),"Pro Only"]})}),u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:b.title}),u.jsx("p",{className:"text-slate-300 text-sm mb-4 line-clamp-2",children:b.description}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Uu,{className:"w-4 h-4"}),b.stats.watchTime]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(cy,{className:"w-4 h-4"}),"Save ",b.stats.timeSaved]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Pn,{className:"w-4 h-4"}),b.stats.canonEpisodes]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 text-xs",children:[u.jsxs("div",{className:"bg-slate-800/50 rounded p-2 text-center",children:[u.jsx("div",{className:"text-white font-semibold",children:b.totalEpisodes}),u.jsx("div",{className:"text-slate-400",children:"Total"})]}),u.jsxs("div",{className:"bg-red-900/20 border border-red-700/30 rounded p-2 text-center",children:[u.jsx("div",{className:"text-red-400 font-semibold",children:b.stats.fillerEpisodes}),u.jsx("div",{className:"text-slate-400",children:"Filler"})]}),u.jsxs("div",{className:"bg-green-900/20 border border-green-700/30 rounded p-2 text-center",children:[u.jsx("div",{className:"text-green-400 font-semibold",children:b.stats.canonEpisodes}),u.jsx("div",{className:"text-slate-400",children:"Watch"})]})]}),b.proOnly&&e!=="pro"?u.jsxs("div",{className:"bg-slate-800/60 border border-purple-700/40 rounded-lg p-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(dl,{className:"w-5 h-5 text-purple-400"}),u.jsx("span",{className:"text-purple-200 font-semibold",children:"Pro Feature Locked"})]}),u.jsx("p",{className:"text-slate-400 text-sm mb-3",children:"Upgrade to Pro to access detailed watch guides with episode-by-episode recommendations."}),u.jsx("button",{onClick:v,className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white px-4 py-2 rounded-lg font-semibold text-sm hover:from-purple-600 hover:to-blue-600 transition-all duration-200",children:"Upgrade to Pro"})]}):u.jsx("button",{onClick:()=>r(b),className:"w-full bg-gradient-to-r from-purple-500 to-blue-500 text-white py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-600 transition-all duration-200",children:"View Guide"})]})]},b.malId))}),n&&u.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>r(null),children:u.jsxs(H.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 rounded-2xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:b=>b.stopPropagation(),children:[u.jsxs("div",{className:"flex items-start justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:n.title}),u.jsx("p",{className:"text-slate-300",children:n.description})]}),u.jsx("button",{onClick:()=>r(null),className:"text-slate-400 hover:text-white p-2 rounded-lg hover:bg-slate-800/50 transition-colors",children:""})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[u.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-white font-semibold mb-2",children:"Total Episodes"}),u.jsx("p",{className:"text-slate-300",children:n.totalEpisodes})]}),u.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-white font-semibold mb-2",children:"Time to Watch"}),u.jsx("p",{className:"text-slate-300",children:n.stats.watchTime})]}),u.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-white font-semibold mb-2",children:"Time Saved"}),u.jsx("p",{className:"text-slate-300",children:n.stats.timeSaved})]}),u.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-white font-semibold mb-2",children:"Difficulty"}),u.jsx("p",{className:"text-slate-300",children:n.stats.canonEpisodes})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[u.jsxs("div",{className:"bg-green-900/20 border border-green-700/30 rounded-lg p-4",children:[u.jsx("div",{className:"text-green-400 font-bold text-2xl",children:n.stats.canonEpisodes}),u.jsx("div",{className:"text-slate-300 text-sm",children:"Watch"})]}),u.jsxs("div",{className:"bg-red-900/20 border border-red-700/30 rounded-lg p-4",children:[u.jsx("div",{className:"text-red-400 font-bold text-2xl",children:n.stats.fillerEpisodes}),u.jsx("div",{className:"text-slate-300 text-sm",children:"Skip"})]}),u.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-700/30 rounded-lg p-4",children:[u.jsx("div",{className:"text-yellow-400 font-bold text-2xl",children:n.stats.recapEpisodes}),u.jsx("div",{className:"text-slate-300 text-sm",children:"Optional"})]}),u.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/30 rounded-lg p-4",children:[u.jsx("div",{className:"text-blue-400 font-bold text-2xl",children:n.stats.mixedEpisodes}),u.jsx("div",{className:"text-slate-300 text-sm",children:"Filler"})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Episode Recommendations"}),u.jsx("div",{className:"space-y-4",children:n.recommendations.map((b,w)=>u.jsx("div",{className:`p-4 rounded-lg border ${b.recommendation==="watch"?"bg-green-900/20 border-green-700/50":b.recommendation==="skip"?"bg-red-900/20 border-red-700/50":"bg-yellow-900/20 border-yellow-700/50"}`,children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`w-4 h-4 rounded-full mt-1 ${b.recommendation==="watch"?"bg-green-500":b.recommendation==="skip"?"bg-red-500":"bg-yellow-500"}`}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:`font-semibold ${b.recommendation==="watch"?"text-green-400":b.recommendation==="skip"?"text-red-400":"text-yellow-400"}`,children:b.recommendation==="watch"?"WATCH":b.recommendation==="skip"?"SKIP":"OPTIONAL"}),u.jsxs("span",{className:"text-white font-medium",children:["Episodes ",b.episode]})]}),u.jsx("p",{className:"text-slate-300 font-medium mb-1",children:b.reason})]})]})},w))})]})]})})]})})};function hM({children:e}){const[t,n]=Ne.useState(null),[r,s]=Ne.useState(!0),i=_r();return Ne.useEffect(()=>{G.auth.getUser().then(({data:o})=>{n((o==null?void 0:o.user)||null),s(!1)})},[]),r?null:t?u.jsx(u.Fragment,{children:e}):u.jsx(oy,{to:"/join",state:{from:i},replace:!0})}function Wc({children:e}){const[t,n]=Ne.useState(null),[r,s]=Ne.useState(!0);return Ne.useEffect(()=>{G.auth.getUser().then(({data:i})=>{n((i==null?void 0:i.user)||null),s(!1)})},[]),r?null:t?u.jsx(oy,{to:"/dashboard",replace:!0}):u.jsx(u.Fragment,{children:e})}function pM(){return u.jsx(ik,{children:u.jsxs(Pp,{children:[u.jsx(He,{path:"/",element:u.jsx(Wc,{children:u.jsx(QO,{})})}),u.jsx(He,{path:"/premium",element:u.jsx(XO,{})}),u.jsx(He,{path:"/subscription",element:u.jsx($g,{})}),u.jsx(He,{path:"/join",element:u.jsx(Wc,{children:u.jsx(tM,{})})}),u.jsx(He,{path:"/signup",element:u.jsx(Wc,{children:u.jsx(nM,{})})}),u.jsx(He,{path:"/*",element:u.jsx(hM,{children:u.jsx(SO,{children:u.jsxs(Pp,{children:[u.jsx(He,{path:"dashboard",element:u.jsx(FO,{})}),u.jsx(He,{path:"library",element:u.jsx(UO,{})}),u.jsx(He,{path:"search",element:u.jsx(BO,{})}),u.jsx(He,{path:"watch-guides",element:u.jsx(fM,{})}),u.jsx(He,{path:"settings",element:u.jsx(HO,{})}),u.jsx(He,{path:"subscription",element:u.jsx($g,{})}),u.jsx(He,{path:"anime/:id",element:u.jsx(qO,{})})]})})})})]})})}zc.createRoot(document.getElementById("root")).render(u.jsx(Ne.StrictMode,{children:u.jsx(pM,{})}));
